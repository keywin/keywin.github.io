{"version":3,"sources":["webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./src/views/Home.vue?3e0d","webpack:///./node_modules/core-js/modules/es.array.for-each.js","webpack:///./node_modules/core-js/modules/es.array.filter.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./node_modules/core-js/modules/es.object.keys.js","webpack:///./src/views/Home.vue?8f81","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?493c","webpack:///./src/views/Home.vue","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptors.js","webpack:///./node_modules/@antv/f2/dist/f2.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"],"names":["global","DOMIterables","forEach","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","prototype","error","$forEach","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","module","exports","callbackfn","this","arguments","length","undefined","$","target","proto","forced","$filter","filter","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","fails","METHOD_NAME","argument","method","call","toObject","nativeKeys","FAILS_ON_PRIMITIVES","stat","keys","it","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","swiperOption","_l","item","key","id","img","_v","_s","weatherTodayData","province","city","date","weather_icon","daytemp","daywind","_e","_m","staticRenderFns","staticStyle","_defineProperty","obj","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","i","source","getOwnPropertyDescriptors","defineProperties","name","components","Swiper","SwiperSlide","props","data","loop","autoplay","disableOnInteraction","pagination","el","spaceBetween","swiperList","weather_loading","aaa","created","getAd","mounted","initChart","methods","$http","get","getWeatherData","extensions","res","forecasts","apiTest","console","log","rectangle","zoom","location","document","getElementById","style","width","$refs","chartFoo","offsetWidth","height","pixelRatio","window","devicePixelRatio","chart","tickCount","min","type","range","tooltip","custom","showXTip","showYTip","snap","crosshairsType","crosshairsStyle","lineDash","axis","label","text","index","total","textCfg","textAlign","line","position","component","DESCRIPTORS","toIndexedObject","getOwnPropertyDescriptorModule","createProperty","sham","descriptor","O","f","result","factory","isArrayLike","isFinite","contains","arr","indexOf","func","toString","isType","isFunction","isNil","isArray","Array","isObject","each","elements","rst","len","k","hasOwnProperty","isMatch","_keys","isObjectLike","isPlainObject","getPrototypeOf","find","predicate","_predicate","a","getRange","values","filterValues","v","isNaN","max","tmp","concat","Math","isString","str","uniq","resultArr","head","o","last","fixedBase","base","round","substr","parseFloat","toFixed","isNumber","toString$1","lowerFirst","charAt","toLowerCase","substring","upperFirst","toUpperCase","toString$2","getType","replace","isBoolean","isDate","objectProto","isPrototype","Ctor","constructor","_mix","dist","mix","src1","src2","src3","MAX_MIX_LEVEL","_deepMix","src","level","maxLevel","deepMix","args","_i","m","isEmpty","size","isEqual","other","valueKeys","otherKeys","map","merge","dataArray","tmpMap","val","firstValue","groupToMap","fields","0","callback","row","unique","l","groups","group","appendConditions","array","_values","remove","splice","getRange$1","freeze","__proto__","supportsEventListenerOptions","supports","options","addEventListener","e","eventListenerOptions","passive","isWx","wx","getSystemInfoSync","isMy","my","isNode","isBrowser","sessionStorage","isCanvasElement","nodeType","nodeName","getPixelRatio","getStyle","property","currentStyle","defaultView","getComputedStyle","getPropertyValue","getWidth","getHeight","offsetHeight","getDomById","getRelativePosition","point","canvas","canvasDom","_canvasDom$getBoundin","getBoundingClientRect","top","right","bottom","left","paddingLeft","paddingTop","paddingRight","paddingBottom","mouseX","x","mouseY","y","listener","removeEventListener","createEventObj","nativeEvent","createEvent","event","clientPoint","touches","touch","changedTouches","clientX","clientY","measureText","font","ctx","createElement","getContext","isObjectValueEqual","b","assign","aProps","getOwnPropertyNames","bProps","propName","parsePadding","padding","directionEnabled","mode","dir","toTimeStamp","Date","getTime","Util","color1","color2","defaultAxis","fill","fontSize","stroke","lineWidth","grid","tickLine","labelOffset","Theme","fontFamily","defaultColor","appendPadding","colors","shapes","sizes","common","circle","radius","shape","lineJoin","lineCap","area","fillOpacity","_defaultAxis","Global","version","scales","widthRatio","column","rose","multiplePie","_extends","_inheritsLoose","subClass","superClass","create","_assertThisInitialized","self","ReferenceError","setTheme","theme","EVENT_AFTER_INIT","EVENT_BEFORE_RENDER","EVENT_AFTER_RENDER","EVENT_BEFORE_DATA_CHANGE","EVENT_AFTER_DATA_CHANGE","EVENT_AFTER_SIZE_CHANGE","EVENT_AFTER_GEOM_INIT","EVENT_BEFORE_GEOM_DRAW","EVENT_AFTER_GEOM_DRAW","EVENT_CLEAR","EVENT_CLEAR_INNER","EVENT_REPAINT","EventEmit","__events","_proto","on","events","emit","_this","off","Base","_Emit","cfg","defaultCfg","getDefaultCfg","_attrs","set","destroy","destroyed","Plot","_init","start","end","xMin","xMax","yMin","yMax","tl","tr","bl","br","reset","isInRange","Matrix","generateDefault","isChanged","multiply","m1","m2","m11","m12","m21","m22","dx","dy","scale","out","rotate","radian","c","cos","s","sin","translate","transform","actions","action","Vector2","sqrt","normalize","add","v1","v2","sub","dot","direction","angle","theta","acos","angleTo","angleLargeThanPI","PI","zero","distance","clone","transformMat2d","defaultMatrix","Base$1","_initDefaultCfg","plot","init","_scale","s1","s2","matrix","center","convertPoint","_this$_convertPoint","_convertPoint","vector","invertPoint","_invertPoint","Cartesian","_Base","transposed","isRect","xDim","yDim","toScaleString","invert","Rect","AttributeBase","linear","mixedCallback","defaultCallback","userCallback","_len","params","_key","ret","_getAttrValue","isCategory","percent","getLinearValue","steps","step","floor","leftPercent","rstValue","getNames","names","getFields","field","getScale","mapping","_len2","_key2","_toOriginParam","param","isLinear","Position","rstX","rstY","coord","scaleX","scaleY","j","xLen","yLen","yVal","xVal","Shape","gradient","Size","getValue","arr2hex","toRGBValue","calColor","rgb","hex2arr","parseInt","colorCache","black","blue","grey","green","orange","pink","purple","red","white","yellow","toHex","color","hex","r","g","match","shift","points","split","Color","gradient$1","Attr","Shape$1","ShapeBase","_coord","draw","container","drawShape","setCoord","parsePoint","isPolar","parsePoints","ShapeFactoryBase","defaultShapeType","getShape","getShapePoints","fn","getPoints","getDefaultPoints","_mix$1","registerFactory","factoryName","className","geomObj","registerShape","shapeType","shapeObj","registShape","getShapeFactory","mix$1","mix_1","Adjust","adjustNames","processAdjust","GROUP_ATTRS","FIELD_ORIGIN","FIELD_ORIGIN_Y","parseFields","Geom","styleOptions","generatePoints","attrOptions","sortable","startOnZero","visible","connectNulls","ignoreEmptyGroup","isInit","_initAttrs","_processData","_getGroupScales","attrName","attr","getAttr","attrScales","_groupData","colDefs","groupScales","_setAttrOptions","attrCfg","_createAttr","_createAttrOption","defaultValues","option","_createScale","yScale","hasAdjust","change","nice","createScale","groupedArray","getYScale","some","subData","tempData","_saveOrigin","_numberic","_adjustData","_sort","origin","positionAttr","count","adjust","adjustType","Error","xScale","getXScale","xField","yField","adjustObject","_updateStackRange","mergeArray","tmpMin","tmpMax","mappedArray","itemArr","sort","obj1","obj2","paint","shapeFactory","_beforeMapping","mappedData","_mapping","mappedCache","record","mappedRecord","_getAttrValues","_name","getAttrValue","_generatePoints","isInCircle","getCallbackCfg","tmpCfg","getDrawCfg","opacity","nextPoints","_origin","shapeData","gShape","shapeAttr","createShapePointsCfg","nextData","_normalizeValues","y0","getYMinValue","_getSnap","getSnapRecords","xfield","invertPointX","rangeMax","rangeMin","xValue","originValue","_isEqual","yValue","getRecords","animate","changeData","clearInner","clear","_display","show","hide","methodCache","getTickMethod","registerTickMethod","Scale","isContinuous","isIdentity","ticks","__cfg__","initCfg","getTicks","tick","idx","getText","tickValue","formatter","getConfig","setDomain","calculateTicks","tickMethod","calcPercent","NaN","calcValue","extendStatics","d","setPrototypeOf","p","__extends","__","__spreadArrays","il","jl","Category","_super","order","scaledValue","domainRange","includes","token","twoDigitsOptional","twoDigits","threeDigits","fourDigits","word","literal","shorten","sLen","newArr","monthUpdate","arrName","i18n","lowerCaseArr","origObj","_a","args_1","dayNames","monthNames","monthNamesShort","dayNamesShort","defaultI18n","amPm","DoFn","dayOfMonth","globalI18n","setGlobalDateI18n","regexEscape","pad","String","formatFlags","D","dateObj","getDate","DD","Do","getDay","dd","ddd","dddd","M","getMonth","MM","MMM","MMMM","YY","getFullYear","YYYY","h","getHours","hh","H","HH","getMinutes","mm","getSeconds","ss","S","getMilliseconds","SS","SSS","A","ZZ","offset","getTimezoneOffset","abs","Z","monthParse","emptyDigits","emptyWord","timezoneOffset","parts","minutes","parseFlags","now","cent","globalMasks","default","shortDate","mediumDate","longDate","fullDate","isoDate","isoDateTime","shortTime","mediumTime","longTime","setGlobalDateMasks","masks","format","mask","literals","$0","$1","combinedI18nSettings","parse","dateStr","today","dateInfo","year","month","day","hour","minute","second","millisecond","isPm","parseInfo","newFormat","specifiedFields","requiredFields","info","regex","requiredField","matches","RegExp","parser","dateWithoutTZ","validateFields","UTC","fecha","fecha1","bisector","getter","_lo","_hi","lo","hi","mid","FORMAT_METHOD","timeFormat","time","toTimeStamp$1","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","intervals","getTickInterval","interval","TimeCat","tickIndex","Continuous","getScalePercent","firstTick","lastTick","minLimit","maxLimit","getInvertPercent","Linear","calBase","E","pow","getLogPositiveMin","positiveMin","Log","appendPercent","Pow","exponent","factor","Time","numberValue","minConfig","maxConfig","timeStamps_1","min_1","Infinity","secondMin_1","max_1","timeStamp","TypeError","minTickInterval","Quantize","minIndex","minTick","nextTick","minIndexPercent","maxIndexPercent","unshift","Quantile","map$1","getClass","registerClass","cls","Identity","DEFAULT_Q","eps","Number","EPSILON","mod","n","simplicity","q","Q","lmin","lmax","lstep","simplicityMax","density","dmin","dmax","rt","densityMax","coverage","coverageMax","span","half","legibility","extended","onlyLoose","w","best","score","Q_1","sm","dm","delta","z","ceil","log10","cm","minStart","maxStart","isInteger","calculateCatTicks","tickInterval","ticks_1","valid","slice","d3Linear","D3Linear","domain","DEFAULT_COUNT","e10","e5","e2","_domain","from","_b","i0","i1","stop","tickIncrement","d3ArrayTicks","reverse","power","LN10","snapMultiple","snapType","div","intervalTicks","maxTick","strictLimit","defaultMin","defaultMax","tickMin","tickMax","d3LinearTickMethod","calculateLogTicks","avg","pretty","h5","unit","nu","ns","calculatePowTicks","quantileSorted","sorted","linearPretty","calculateTimeTicks","ratio","calculateTimeCatTicks","lastValue","getYear","createYear","diffMonth","minYear","maxYear","minMonth","maxMonth","creatMonth","diffDay","diffHour","diffMinus","timePretty","yearInterval","monthInterval","mmMoth","dMonths","mday","ddays","hours","dHours","dMinus","minSecond","dSeconds","seconds","warn","CatTick","SNAP_COUNT_ARRAY","DEFAULT_COUNT$1","LinearTick","_ref","_ref2","getBestInterval","intervalCount","tickLength","fixedLength","getFixedLength","DECIMAL_LENGTH","getFactor","number","_ref3","avgInterval","calInterval","calMax","calMin","similarityIndex","similarityInterval","getInterval","startIndex","verify","intervalIsVerify","_ref4","num","indexOfExp","Linear$1","Identity$1","Category$1","TimeCat$1","isFullCircle","startAngle","endAngle","clearObj","Cat","ScaleController","defs","setFieldDef","updateScales","_getDef","def","_getDefaultType","_getScaleDef","values$1","_Array$getRange","isRounding","_adjustRange","_getScaleCfg","firstObj","firstValue$1","_this$_getScaleCfg","newScale","_updateScale","_getScaleData","_this$_getScaleCfg2","adjustStartZero","Abastract","offsetFactor","frontContainer","backContainer","gridPoints","drawGrid","drawTicks","drawLine","drawLabels","tickCfg","getContainer","getOffsetPoint","getSidePoint","addShape","x1","y1","x2","y2","_id","labels","labelShape","_self$getSidePoint","getTextAlignInfo","gridCfg","subPoints","executedGrid","getAxisVector","getOffsetVector","axisVector","normal","verticalVector","offsetVector","align","baseLine","textBaseline","isTop","Line","_Abstract","lineCfg","calcDirection","xDistance","yDistance","calcDistance","point1","point2","getCenter","convertPoints","ev","_point","PRESS_DELAY","EventController","emitEvent","startTime","startPoints","startDistance","pressTimeout","setTimeout","eventType","emitStart","clearPressTimeout","currentDistance","deltaX","deltaY","getEventType","prevMoveTime","lastMoveTime","prevMovePoints","lastMovePoints","emitEnd","intervalTime","velocity","_start","delegateEvent","processEvent","canvasEl","_click","_move","_end","_cancel","panEventListeners","pan","enable","isProcess","_this2","clearTimeout","pinch","CanvasElement","_EventEmit","context","dispatchEvent","supportEventListener","support","Event","CanvasElement$1","_mod","_addStop","addColorStop","_parseLineGradient","_shape$getBBox","getBBox","minX","minY","maxX","maxY","tanTheta","tan","tanTheta2","createLinearGradient","_parseRadialGradient","circleCfg","fx","fy","fr","_color","_shape$getBBox2","createRadialGradient","parseStyle","firstCode","ALIAS_ATTRS_MAP","SHAPE_ATTRS","CLIP_SHAPES","Element","_initProperties","initAttrs","initTransform","zIndex","isGroup","isShape","getDefaultAttrs","_setAttr","_setAttrClip","alias","_getAttr","clip","argumentsLen","bbox","_afterAttrsSet","getParent","setContext","drawInner","restoreContext","save","resetTransform","createPath","resetContext","restore","elAttrs","setLineDash","hasFill","fillStyle","hasStroke","strokeStyle","isVisible","_removeFromParent","parent","children","getMatrix","setMatrix","setTransform","rad","sx","sy","moveTo","cx","cy","mo","isDestroyed","Shape$2","_Element","originOpacity","globalAlpha","strokeOpacity","calculateBox","SHAPE_MAP","INDEX","getComparer","compare","Container","getGroupClass","getChildren","addGroup","groupClass","contain","child","items","descendants","_setEvn","Group","box","leftTop","leftBottom","rightTop","rightBottom","requestAnimationFrame","Canvas","_initPixelRatio","_initCanvas","beforeDraw","clearRect","changeSize","eventController","canvasDOM","getPointByClient","_beginDraw","toDraw","_endDraw","parseRadius","minWidth","minHeight","_Shape","canFill","canStroke","beginPath","lineTo","arc","closePath","rect","ImageShape","loading","image","drawImage","Image","_image","crossOrigin","onload","swidth","sheight","Circle","extremity","getCubicBezierXYatT","startPt","controlPt1","controlPt2","endPt","T","CubicN","t2","t3","cubicBezierBounds","c1","c2","t","pt","getBBoxFromPoints","getBBoxFromLine","x0","getBBoxFromArc","anticlockwise","diff","getBBoxFromBezierGroup","Line$1","Polygon","getPoint","smoothBezier","smooth","isLoop","constraint","prevPoint","nextPoint","cps","hasConstraint","d0","d1","sum","cp0","cp1","catmullRom2bezier","pointList","cp2","controlPointList","_filterPoints","filteredPoints","Polyline","constaint","sps","sp","bezierCurveTo","newPoints","lastPoint","Arc","Sector","r0","unitX","unitY","outerBBox","innerBBox","Rect$1","calcRotatedBox","absRotate","textWidthCacheCounter","textWidthCache","TEXT_CACHE_MAX","Text","lineCount","fontStyle","fontWeight","fontVariant","lineHeight","textArr","_getFontStyle","_getTextHeight","spaceingY","_getSpaceingY","subY","subText","fillText","_subText","strokeText","_getTextWidth","rotatedBox","Custom","G","formatTicks","first","AxisController","axisCfg","frontPlot","backPlot","axes","_isHide","_getLinePosition","dimType","_getLineCfg","_getCircleCfg","circleRadius","_getRadiusCfg","_getAxisCfg","verticalScale","maxWidth","maxHeight","labelCfg","executedLabel","textStyle","axisLabel","_axisLabel$getBBox","_createAxis","coordType","createAxis","yScales","_isAutoPadding","userPadding","legendRange","circleAxis","_axes$right","_maxWidth","_labelOffset","_axes$left","_maxWidth2","_labelOffset2","_axes$bottom","_maxHeight","_labelOffset3","_updateLayout","appendCfg","verticalTicks","verticalTick","getClip","margin","isClip","isPointInPlot","Helper","_isScaleExist","compareScale","flag","scaleValues","compareScaleValues","Chart","initPlugins","_plugins","_cacheId","register","plugins","plugin","unregister","getAll","notify","hook","descriptors","ilen","cache","geomConstructor","methodName","geom","addGeom","rendered","geoms","filters","_syncYScales","syncY","syncScales","_getFieldsForLegend","filteredData","legendFields","_adjustScale","scaleController","_removeGeoms","_clearGeoms","_clearInner","_initFilteredData","_changeGeomsData","_initGeom","middlePlot","_initGeoms","_initCoord","coordCfg","C","_initLayout","newPlot","_initLayers","_initEvents","_initScaleController","_clearScaleController","axisController","condition","_renderAxis","repaint","_interactions","interaction","getPosition","getYScales","getRecord","getLegendItems","legendItems","colorAttr","scaleValue","join","marker","symbol","dataValue","checked","registerPlugins","chartPlugins","track","splitPoints","yItem","splitArray","SHAPES","pointInfo","getPointsCfg","pointCfg","Point$1","_Geom","Point","hasStack","getStyle$1","drawLines","topPoints","bottomPoints","isStack","topShape","bottomShape","SHAPES$1","Path","splitArrayObj","splitedIndex","Line$3","_Path","equals","notEmpty","filterPoints","equalsCenter","eqls","drawRectShape","isSmooth","pointsLen","topSps","bottomSps","_n","_sp","drawShape$1","SHAPES$2","Area$1","Area","splitArrayfn","SizeMixin","initEvent","getDefaultSize","defaultSize","normalizeSize","getDimWidth","dimName","_getWidth","_toNormalizedSize","_toCoordSize","getNormalizedSize","getSize","getRectPoints","xmin","xmax","ymin","ymax","getRectRange","xValues","yValues","getMiddlePoint","_cfg$center","v0","rectCfg","polygonPoints","Interval$1","Interval","Polygon$2","temp","xCount","yCount","xOffset","yOffset","_sortValue","getCandlePoints","Schema$1","Schema","toString$3","isType$1","isType_1","isArray$1","isArray_1","isNil$1","isNil_1","_inheritsLoose$1","Stack","_Adjust","processStack","stackCache","positive","negative","reverseOrder","xkey","_typeof","Symbol","iterator","isObject$1","isObject_1","each$1","each_1","_inheritsLoose$2","MARGIN_RATIO","DODGE_RATIO","Dodge","marginRatio","dodgeRatio","getDodgeOffset","pre","next","dodgeValue","isFunction$1","isFunction_1","maxBy","maxData","maxBy_1","merge$1","merge_1","_inheritsLoose$3","ArrayUtil","Symmetric","cacheMax","groupFields","_getMax","dim","mergeData","maxRecord","maxValue","_getXValuesMax","_processSymmetric","valueMax","subVal","Polar","inner","innerRadius","maxRadius","startV","pointV","percentX","percentY","Circle$1","_getCirclePoint","KEYWORDS_PERCENT","median","GuideBase","_getNormalizedValue","parsePercentPoint","xPercent","yPercent","limitInPlot","element","changeVisible","display","Arc$1","_GuideBase","coordCenter","atan2","getOffsetFromAlign","alignX","alignY","modifyCSS","DOM","CSS","createDom","innerHTML","childNodes","Html","offsetX","offsetY","html","myNode","visibility","parentNode","wrapperNode","appendChild","canvasOffsetTop","offsetTop","canvasOffsetLeft","offsetLeft","newOffset","removeChild","Line$4","Rect$2","Text$1","content","Tag","direct","autoAdjust","side","background","withPoint","pointStyle","_getDirect","tagWidth","tagHeight","clientWidth","clientHeight","vertical","horizontal","wrapperContainer","pointShape","tagContainer","tagText","textBBox","tagBg","arrowPoints","sideShape","Point$2","SYMBOLS","square","Marker","MARKER_RADIUS","List","_renderTitle","_renderItems","showTitle","title","titleGap","itemGap","itemMarginBottom","itemFormatter","itemWidth","wordSpace","layout","joinString","wrapper","itemsGroup","titleShape","titleHeight","titleStyle","_titleHeight","reversed","_addItem","_adjustItems","_renderBackground","_wrapper$getBBox","backShape","nameText","itemGroup","unCheckStyle","unCheckColor","nameStyle","valueStyle","startX","markerAttrs","markerShape","_formatItemValue","valueX","_getMaxItemWidth","maxItemWidth","_children$i$getBBox","_width","maxLength","twoAvgWidth","threeAvgWidth","_adjustHorizontal","rowWidth","legendHitBoxes","childHeight","childWidth","_adjustVertical","colHeight","totalWidth","setItems","clearItems","setTitle","TextBox","updateContent","updatePosition","backgroundShape","textShape","_getBBox","_this$_getBBox","tipWidth","tipHeight","_height","_this$_getBBox2","GAP","Tooltip","fixed","tooltipArrow","xTipBackground","xTipTextStyle","xTipBox","yTipBackground","yTipTextStyle","yTipBox","showCrosshairs","_renderCrosshairs","xTip","yTip","setContent","setYTipContent","setYTipPosition","pos","plotRange","crosshairsShapeX","yTipHeight","yTipWidth","posX","posY","setXTipContent","setXTipPosition","crosshairsShapeY","canvasHeight","xTipWidth","xTipHeight","setXCrosshairPosition","setYCrosshairPosition","setPosition","containerBBox","_x","setMarkers","_cfg","markerGroup","_getMarkerGroup","clearMarkers","_getTooltipValueScale","colorScale","getTooltipName","nameScale","valueScale","getTooltipValue","getTooltipTitle","_indexOfArray","_uniqItems","isEqual$1","arr1","arr2","JSON","stringify","triggerOn","triggerOff","alwaysShow","showTooltipMarker","showItemMarker","itemMarkerStyle","TooltipController","_tooltipCfg","lastTimeStamp","showTooltip","hideTooltip","_chart","_setCrosshairsCfg","_getMaxLength","tooltipCfg","prePoint","bindEvents","unBindEvents","_lastActive","_getTooltipMarkerStyle","_cfg2","_chart$get","firstItem","lastItem","intervalWidth","tooltipMarkerStyle","_setTooltip","tooltipMarkerCfg","lastActive","tip","onShow","onChange","xTipPosX","yTipPosY","markerItems","tooltipMarkerType","tooltipMarkerItems","records","tooltipItem","onHide","_handleEvent","aMethod","handleShowEvent","handleHideEvent","tooltipController","afterGeomDraw","Tooltip$1","guide","tag","GuideController","guides","guideShapes","_toString","_getId","_createGuide","ClassName","regionFilter","init$1","guideController","afterGeomDraw$1","Guide","LEGEND_GAP","MARKER_SIZE","DEFAULT_CFG","selectedMode","getPaddingByPos","legend","LegendController","findItem","legends","legendPosX","legendPosY","clickedItem","clickedLegend","_createEvent","clicked","clickable","onClick","filteredVals","isSingeSelected","legendCfg","addLegend","fieldCfg","addCustomLegend","_addCategoryLegend","_isFiltered","lastCfg","_alignLegend","_self$plotRange","chartWidth","chartHeight","legendHeight","legendWidth","verticalAlign","preWidth","alignLegends","handleEvent","init$2","legendController","beforeGeomDraw","afterGeomDraw$2","clearInner$1","Legend","clock","performance","Timeline","anims","playing","play","update","pushAnim","animInfo","currentTime","propertyAnim","hasEnded","startState","endState","interpolate","duration","hasStarted","onStart","easing","onFrame","newValue","aLen","onUpdate","endTime","onEnd","linear$1","quadraticIn","quadraticOut","quadraticInOut","cubicIn","cubicOut","cubicInOut","elasticIn","asin","elasticOut","elasticInOut","backIn","backOut","backInOut","bounceIn","bounceOut","bounceInOut","Easing","plainArray","interpolateNumber","interpolateArray","nb","na","Animator","timeline","to","delay","startValue","endValue","frame","defaultAnimationCfg","appear","enter","leave","Animate","Action","getAnimation","geomType","animationType","geomAnimateCfg","animation","getAnimateCfg","geomConfig","registerAnimation","animationName","animationFun","_extends2","getCoordInfo","getScaledMatrix","scaledMatrix","_matrix","_matrix2","getAnimateParam","animateCfg","doAnimation","_getAnimateParam","anim","fadeIn","ShapeAction","_groupScaleIn","zeroY","_getCoordInfo","endMatrix","_shapeScale","groupScaleInX","groupScaleInY","groupScaleInXY","shapesScaleInX","shapesScaleInY","shapesScaleInXY","groupWaveIn","isTransposed","GroupAction","path","GROUP_ANIMATION","schema","fromAttrs","toAttrs","_getShapeId","dataObj","geomIdx","groupScale","getShapes","geomContainer","geomShapes","_getAnimateCfgByShapeType","getAnimate","addAnimate","updateShapes","newShapes","deletedShape","tempShape","updateShape","cacheAttrs","newShape","lastShape","afterCanvasInit","beforeCanvasDraw","isUpdate","caches","cacheShapes","axisShapes","componentShapes","geomCfg","appearCfg","_animate","afterCanvasDestroyed","detail","Animation","isValuesEqual","newValues","lastIndex","_Interactions","registerInteraction","getInteraction","interactions","interact","clearInteraction","defaultRange","Context","getPinchScale","minScale","minCount","updateRange","updateTicks","_initEvent","_afterinit","_afterdatachange","getFollowScale","startRange","lastTickCount","doZoom","leftScale","rightScale","zoomOffset","rangeLen","rangeOffset","leftOffset","rightOffset","newStart","newEnd","newRange","doMove","valueStart","valueEnd","currentValues","updateScale","updateFollowScale","pinchScale","pinchValues","followScale","pinchField","pinchScaleType","followField","pinchValueMap","_getRange","newTickCount","catTicks","Base$2","preStart","preProcess","process","onProcess","preEnd","preReset","onReset","getInteractionContext","_bindEvents","interactionContext","startEvent","endEvent","resetEvent","_process","_reset","_clearEvents","Pan","preventDefault","coordWidth","Pinch","_assertThisInitialize","leftLen","rightLen","Component","nativeGetOwnPropertyDescriptor","FORCED"],"mappings":"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","file":"js/chunk-51ec60eb.324aa0be.js","sourcesContent":["var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=404ed378&lang=scss&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n// Edge 14- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"banxin home\"},[_c('div',{staticClass:\"banner\"},[_c('swiper',{ref:\"swiper\",staticClass:\"swiper-container\",attrs:{\"options\":_vm.swiperOption}},_vm._l((_vm.swiperList),function(item){return _c('swiper-slide',{key:item.id},[_c('img',{attrs:{\"src\":item.img,\"alt\":\"\",\"width\":\"100%\"}})])}),1)],1),_c('div',{staticClass:\"block-white block-row block-weather\"},[_c('div',{staticClass:\"l flex1\"},[_vm._v(\" \"+_vm._s(_vm.weatherTodayData.province + '-' + _vm.weatherTodayData.city)+\" \"),_c('div',[_vm._v(_vm._s(_vm.weatherTodayData.date))])]),_c('img',{staticClass:\"c\",attrs:{\"src\":_vm.weatherTodayData.weather_icon,\"alt\":\"\"}}),_c('div',{staticClass:\"r flex1 tx-r\"},[_vm._v(\" \"+_vm._s(_vm.weatherTodayData.daytemp + '℃')+\" \"),_c('div',[_vm._v(_vm._s('风向: ' + _vm.weatherTodayData.daywind))])]),(_vm.weather_loading)?_c('div',{staticClass:\"loading-mask\"}):_vm._e()]),_vm._m(0),_vm._m(1),_vm._m(2),_c('div',{staticClass:\"article-list-foo mt10\"},_vm._l((5),function(item){return _c('div',{key:item,staticClass:\"article-list\"},[_c('div',{staticClass:\"article-title\"},[_vm._v(\"问题记录\")]),_vm._m(3,true)])}),0),_c('div',{ref:\"chartFoo\",staticClass:\"mt10 block-white\"},[_c('div',{staticClass:\"block-title\"},[_vm._v(\"访客数统计\")]),_c('canvas',{ref:\"myChart\",attrs:{\"id\":\"myChart\",\"width\":\"100\",\"height\":\"260\"}})])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"block-white block-row flex\"},[_c('img',{staticClass:\"mr10\",attrs:{\"src\":\"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3ad9aa37f80844f0a8dfa675dc7437af~tplv-k3u1fbpfcp-watermark.image?imageView2/2/w/480/h/480/q/85/interlace/1\",\"alt\":\"\"}}),_c('div',{staticClass:\"article-content\"},[_c('div',{staticClass:\"article-scri\"},[_vm._v(\"生活坏到一定程度就会好起来的, 因为它无法更坏. 努力过后, 才知道许多事情, 坚持坚持, 救过来了\")]),_c('div',{staticClass:\"article-auth fr\"},[_vm._v(\"--- 龙猫\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"block-white block-row flex\"},[_c('img',{staticClass:\"mr10\",attrs:{\"src\":\"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e04c99427b38421dae4a6550eab7be68~tplv-k3u1fbpfcp-watermark.image?imageView2/2/w/480/h/480/q/85/interlace/1\",\"alt\":\"\"}}),_c('div',{staticClass:\"article-content\"},[_c('div',{staticClass:\"article-scri\"},[_vm._v(\"一条路不能回头，就是一生要走许多路，有成长之路。很多事情不能自己掌控，即使再孤单再寂寞，仍要继续走下去，不许停也不能回头。\")]),_c('div',{staticClass:\"article-auth fr\"},[_vm._v(\"--- 千与千寻\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"block-white block-row flex\"},[_c('img',{staticStyle:{\"width\":\"100%\",\"height\":\"auto\"},attrs:{\"src\":\"https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=1815629,828882053&fm=26&gp=0.jpg\",\"alt\":\"\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"article-c\"},[_c('div',{staticClass:\"article-content\"},[_c('div',{staticClass:\"article-scri clear\"},[_vm._v(\"机构头像调用两次,十大杀手和防守\")]),_c('div',{staticClass:\"article-b\"},[_c('span',{staticClass:\"article-time\"},[_vm._v(\"2020.01.05\")]),_c('span',{staticClass:\"article-prim ml10\"},[_vm._v(\"❤1993\")]),_c('span',{staticClass:\"article-prim ml10\"},[_c('i',{staticClass:\"fz14\"},[_vm._v(\"★\")]),_vm._v(\"710\")]),_c('span',{staticClass:\"article-auth\"},[_vm._v(\"--- 伏特人族\")])])]),_c('div',{staticClass:\"imgFoo\"},[_c('img',{attrs:{\"src\":\"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/06e51fbf8d9d43beb0a0c8f6644b7af6~tplv-k3u1fbpfcp-watermark.image?imageView2/2/w/480/h/480/q/85/interlace/1\",\"alt\":\"\"}})])])}]\n\nexport { render, staticRenderFns }","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","<template>\n  <div class=\"banxin home\">\n    <div class=\"banner\">\n      <swiper ref=\"swiper\" :options=\"swiperOption\" class=\"swiper-container\">\n        <swiper-slide v-for=\"item in swiperList\" :key=\"item.id\">\n          <img :src=\"item.img\" alt=\"\" width=\"100%\">\n        </swiper-slide>\n      </swiper>\n    </div>\n    <!-- 天气 -->\n    <div class=\"block-white block-row block-weather\">\n      <div class=\"l flex1\">\n        {{ weatherTodayData.province + '-' + weatherTodayData.city }}\n        <div>{{ weatherTodayData.date }}</div>\n      </div>\n      <img class=\"c\" :src=\"weatherTodayData.weather_icon\" alt=\"\">\n      <div class=\"r flex1 tx-r\">\n        {{ weatherTodayData.daytemp + '℃' }}\n        <div>{{ '风向: ' + weatherTodayData.daywind }}</div>\n      </div>\n      <div class=\"loading-mask\" v-if=\"weather_loading\"></div>\n    </div>\n    <!-- 语录 -->\n    <div class=\"block-white block-row flex\">\n      <img class=\"mr10\" src=\"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3ad9aa37f80844f0a8dfa675dc7437af~tplv-k3u1fbpfcp-watermark.image?imageView2/2/w/480/h/480/q/85/interlace/1\" alt=\"\">\n      <div class=\"article-content\">\n        <div class=\"article-scri\">生活坏到一定程度就会好起来的, 因为它无法更坏. 努力过后, 才知道许多事情, 坚持坚持, 救过来了</div>\n        <div class=\"article-auth fr\">--- 龙猫</div>\n      </div>\n    </div>\n    <div class=\"block-white block-row flex\">\n      <img class=\"mr10\" src=\"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e04c99427b38421dae4a6550eab7be68~tplv-k3u1fbpfcp-watermark.image?imageView2/2/w/480/h/480/q/85/interlace/1\" alt=\"\">\n      <div class=\"article-content\">\n        <div class=\"article-scri\">一条路不能回头，就是一生要走许多路，有成长之路。很多事情不能自己掌控，即使再孤单再寂寞，仍要继续走下去，不许停也不能回头。</div>\n        <div class=\"article-auth fr\">--- 千与千寻</div>\n      </div>\n    </div>\n    <div class=\"block-white block-row flex\">\n      <img style=\"width: 100%;height: auto;\" src=\"https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=1815629,828882053&fm=26&gp=0.jpg\" alt=\"\">\n    </div>\n    <!-- 文章列表 -->\n    <div class=\"article-list-foo mt10\">\n      <div class=\"article-list\" v-for=\"item in 5\" :key=\"item\">\n        <div class=\"article-title\">问题记录</div>\n        <div class=\"article-c\">\n          <div class=\"article-content\">\n            <div class=\"article-scri clear\">机构头像调用两次,十大杀手和防守</div>\n            <div class=\"article-b\">\n              <span class=\"article-time\">2020.01.05</span>\n              <span class=\"article-prim ml10\">❤1993</span>\n              <span class=\"article-prim ml10\"><i class=\"fz14\">★</i>710</span>\n              <span class=\"article-auth\">--- 伏特人族</span>\n            </div>\n          </div>\n          <div class=\"imgFoo\">\n            <img src=\"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/06e51fbf8d9d43beb0a0c8f6644b7af6~tplv-k3u1fbpfcp-watermark.image?imageView2/2/w/480/h/480/q/85/interlace/1\" alt=\"\">\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"mt10 block-white\" ref=\"chartFoo\">\n      <div class=\"block-title\">访客数统计</div>\n      <canvas ref=\"myChart\" id=\"myChart\" width=\"100\" height=\"260\"></canvas>\n    </div>\n  </div>\n</template>\n\n<script>\nimport  { Swiper, SwiperSlide} from 'vue-awesome-swiper'\nimport 'swiper/swiper.scss'\n\nconst F2 = require('@antv/f2')\n\nexport default {\n  name: \"Home\",\n  components: {\n    Swiper,\n    SwiperSlide\n  },\n  props: {},\n  data() {\n    return {\n      swiperOption: {\n        loop: true,\n        autoplay: {\n          disableOnInteraction: false,\n        },\n        pagination: {\n          el: '.swiper-pagination',\n        },\n        spaceBetween : 10,\n      },\n      swiperList: [\n        { id: 1, scr: '夏目友人帐', img: 'https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0e6974e6001e479bbc39592901a7459d~tplv-k3u1fbpfcp-watermark.image?imageView2/2/w/480/h/480/q/85/interlace/1' },\n        { id: 2, scr: '吼吼', img: 'https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cfcc6f8ea9984c7999a1a7e07f0ec74f~tplv-k3u1fbpfcp-watermark.image?imageView2/2/w/480/h/480/q/85/interlace/1' },\n        { id: 3, scr: '哼哼', img: 'https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6e762c359c824a5cbea0c4aa3dae904d~tplv-k3u1fbpfcp-watermark.image?imageView2/2/w/480/h/480/q/85/interlace/1' },\n      ],\n      weatherTodayData: {},\n      weather_loading: true,\n      aaa: ''\n    }\n  },\n  created() {\n    this.getAd()\n    // this.apiTest()\n  },\n  mounted() {\n    this.initChart()\n  },\n  methods: {\n    getAd() {\n      this.weather_loading = true\n\n      let params = {\n        key: '523630f6e97e4a4c08fcd91e9f005dd2',\n      }\n      this.$http.get('https://restapi.amap.com/v3/ip', {params}).then(res => {\n        this.weatherTodayData.city = res.data.city\n        this.getWeatherData(res.data.adcode)\n        this.apiTest(res.data.rectangle)\n      })\n    },\n    getWeatherData(city) {\n      let params = {\n        key: '523630f6e97e4a4c08fcd91e9f005dd2',\n        city,\n        extensions: 'all'\n      }\n      this.$http.get('https://restapi.amap.com/v3/weather/weatherInfo', {params}).then(res => {\n        this.weatherTodayData = {\n          ...res.data.forecasts[0].casts[0],\n          province: res.data.forecasts[0].province,\n          city: res.data.forecasts[0].city\n        }\n        this.weather_loading = false\n      })\n    },\n    apiTest(rectangle) {\n      console.log(rectangle)\n      let params = {\n        key: '523630f6e97e4a4c08fcd91e9f005dd2',\n        zoom: 1,\n        location: rectangle\n      }\n      this.$http.get('https://restapi.amap.com/v3/staticmap', {params}).then(res => {\n        this.aaa = res.data\n      })\n    },\n    initChart() {\n      document.getElementById('myChart').style.width = this.$refs.chartFoo.offsetWidth + 'px'\n      document.getElementById('myChart').style.height = '260px'\n      const data = [\n        { date: '2020-11-09', value: 10 },\n        { date: '2020-11-10', value: 13 },\n        { date: '2020-11-11', value: 15 },\n        { date: '2020-11-12', value: 20 },\n        { date: '2020-11-13', value: 21 },\n        { date: '2020-11-14', value: 12 },\n        { date: '2020-11-15', value: 26 },\n        { date: '2020-11-16', value: 32 },\n        \n      ];\n\n      const chart = new F2.Chart({\n        id: 'myChart',\n        pixelRatio: window.devicePixelRatio\n      });\n\n      chart.source(data, {\n        value: {\n          tickCount: 5,\n          min: 0\n        },\n        date: {\n          type: 'timeCat',\n          range: [ 0, 1 ],\n          tickCount: 4\n        }\n      });\n      chart.tooltip({\n        custom: true,\n        showXTip: true,\n        showYTip: true,\n        snap: true,\n        crosshairsType: 'xy',\n        crosshairsStyle: {\n          lineDash: [ 2 ]\n        }\n      });\n      chart.axis('date', {\n        label: function label(text, index, total) {\n          const textCfg = {};\n          if (index === 0) {\n            textCfg.textAlign = 'left';\n          } else if (index === total - 1) {\n            textCfg.textAlign = 'right';\n          }\n          return textCfg;\n        }\n      });\n      chart.line().position('date*value');\n      chart.render();\n\n    }\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"scss\" scoped>\n.banxin{\n  // padding: 0;\n  .banner{\n    height: 150px;\n    margin-bottom: 10px;\n    .swiper-container{\n      height: 100%;\n      img{\n        width: 100%;\n        height: auto;\n        min-height: 100%;\n      }\n    }\n  }\n  .block-row{\n    margin-top: 1px;\n    padding: 10px;\n  }\n  .block-white{\n    background: #fff;\n  }\n  .block-weather{\n    position: relative;\n    min-height: 60px;\n    margin: 10px 0;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    .flex1{\n      flex: 1;\n    }\n  }\n  .flex{\n    display: flex;\n    img{\n      width: 80px;\n      height: 80px;\n    }\n    .article-content{\n      flex: 1;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=404ed378&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=404ed378&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"404ed378\",\n  null\n  \n)\n\nexport default component.exports","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar ownKeys = require('../internals/own-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar createProperty = require('../internals/create-property');\n\n// `Object.getOwnPropertyDescriptors` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIndexedObject(object);\n    var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var index = 0;\n    var key, descriptor;\n    while (keys.length > index) {\n      descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n      if (descriptor !== undefined) createProperty(result, key, descriptor);\n    }\n    return result;\n  }\n});\n","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.F2 = {}));\n}(this, (function (exports) { 'use strict';\n\n    var isArrayLike = function (value) {\n      /**\n       * isArrayLike([1, 2, 3]) => true\n       * isArrayLike(document.body.children) => true\n       * isArrayLike('abc') => true\n       * isArrayLike(Function) => false\n       */\n      return value !== null && typeof value !== 'function' && isFinite(value.length);\n    };\n\n    var contains = function (arr, value) {\n      if (!isArrayLike(arr)) {\n        return false;\n      }\n\n      return arr.indexOf(value) > -1;\n    };\n\n    var filter = function (arr, func) {\n      if (!isArrayLike(arr)) {\n        return arr;\n      }\n\n      var result = [];\n\n      for (var index = 0; index < arr.length; index++) {\n        var value = arr[index];\n\n        if (func(value, index)) {\n          result.push(value);\n        }\n      }\n\n      return result;\n    };\n\n    var toString = {}.toString;\n\n    var isType = function (value, type) {\n      return toString.call(value) === '[object ' + type + ']';\n    };\n\n    /**\n     * 是否为函数\n     * @param  {*} fn 对象\n     * @return {Boolean}  是否函数\n     */\n    var isFunction = (function (value) {\n      return isType(value, 'Function');\n    });\n\n    // isFinite,\n    var isNil = function (value) {\n      /**\n       * isNil(null) => true\n       * isNil() => true\n       */\n      return value === null || value === undefined;\n    };\n\n    var isArray = (function (value) {\n      return Array.isArray ? Array.isArray(value) : isType(value, 'Array');\n    });\n\n    var isObject = (function (value) {\n      /**\n       * isObject({}) => true\n       * isObject([1, 2, 3]) => true\n       * isObject(Function) => true\n       * isObject(null) => false\n       */\n      var type = typeof value;\n      return value !== null && type === 'object' || type === 'function';\n    });\n\n    function each(elements, func) {\n      if (!elements) {\n        return;\n      }\n\n      var rst;\n\n      if (isArray(elements)) {\n        for (var i = 0, len = elements.length; i < len; i++) {\n          rst = func(elements[i], i);\n\n          if (rst === false) {\n            break;\n          }\n        }\n      } else if (isObject(elements)) {\n        for (var k in elements) {\n          if (elements.hasOwnProperty(k)) {\n            rst = func(elements[k], k);\n\n            if (rst === false) {\n              break;\n            }\n          }\n        }\n      }\n    }\n\n    var keys = Object.keys ? function (obj) {\n      return Object.keys(obj);\n    } : function (obj) {\n      var result = [];\n      each(obj, function (value, key) {\n        if (!(isFunction(obj) && key === 'prototype')) {\n          result.push(key);\n        }\n      });\n      return result;\n    };\n\n    function isMatch(obj, attrs) {\n      var _keys = keys(attrs);\n\n      var length = _keys.length;\n      if (isNil(obj)) return !length;\n\n      for (var i = 0; i < length; i += 1) {\n        var key = _keys[i];\n\n        if (attrs[key] !== obj[key] || !(key in obj)) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    var isObjectLike = function (value) {\n      /**\n       * isObjectLike({}) => true\n       * isObjectLike([1, 2, 3]) => true\n       * isObjectLike(Function) => false\n       * isObjectLike(null) => false\n       */\n      return typeof value === 'object' && value !== null;\n    };\n\n    var isPlainObject = function (value) {\n      /**\n       * isObjectLike(new Foo) => false\n       * isObjectLike([1, 2, 3]) => false\n       * isObjectLike({ x: 0, y: 0 }) => true\n       * isObjectLike(Object.create(null)) => true\n       */\n      if (!isObjectLike(value) || !isType(value, 'Object')) {\n        return false;\n      }\n\n      if (Object.getPrototypeOf(value) === null) {\n        return true;\n      }\n\n      var proto = value;\n\n      while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto);\n      }\n\n      return Object.getPrototypeOf(value) === proto;\n    };\n\n    function find(arr, predicate) {\n      if (!isArray(arr)) return null;\n\n      var _predicate;\n\n      if (isFunction(predicate)) {\n        _predicate = predicate;\n      }\n\n      if (isPlainObject(predicate)) {\n        _predicate = function (a) {\n          return isMatch(a, predicate);\n        };\n      }\n\n      if (_predicate) {\n        for (var i = 0; i < arr.length; i += 1) {\n          if (_predicate(arr[i])) {\n            return arr[i];\n          }\n        }\n      }\n\n      return null;\n    }\n\n    var getRange = function (values) {\n      // 存在 NaN 时，min,max 判定会出问题\n      var filterValues = values.filter(function (v) {\n        return !isNaN(v);\n      });\n\n      if (!filterValues.length) {\n        // 如果没有数值则直接返回0\n        return {\n          min: 0,\n          max: 0\n        };\n      }\n\n      if (isArray(values[0])) {\n        var tmp = [];\n\n        for (var i = 0; i < values.length; i++) {\n          tmp = tmp.concat(values[i]);\n        }\n\n        filterValues = tmp;\n      }\n\n      var max = Math.max.apply(null, filterValues);\n      var min = Math.min.apply(null, filterValues);\n      return {\n        min: min,\n        max: max\n      };\n    };\n\n    var isString = (function (str) {\n      return isType(str, 'String');\n    });\n\n    var uniq = function (arr) {\n      var resultArr = [];\n      each(arr, function (item) {\n        if (!contains(resultArr, item)) {\n          resultArr.push(item);\n        }\n      });\n      return resultArr;\n    };\n\n    function head(o) {\n      if (isArrayLike(o)) {\n        return o[0];\n      }\n\n      return undefined;\n    }\n\n    function last(o) {\n      if (isArrayLike(o)) {\n        var arr = o;\n        return arr[arr.length - 1];\n      }\n\n      return undefined;\n    }\n\n    var fixedBase = function (v, base) {\n      var str = base.toString();\n      var index = str.indexOf('.');\n\n      if (index === -1) {\n        return Math.round(v);\n      }\n\n      var length = str.substr(index + 1).length;\n\n      if (length > 20) {\n        length = 20;\n      }\n\n      return parseFloat(v.toFixed(length));\n    };\n\n    /**\n     * 判断是否数字\n     * @return {Boolean} 是否数字\n     */\n\n    var isNumber = function (value) {\n      return isType(value, 'Number');\n    };\n\n    var toString$1 = (function (value) {\n      if (isNil(value)) return '';\n      return value.toString();\n    });\n\n    var lowerFirst = function (value) {\n      var str = toString$1(value);\n      return str.charAt(0).toLowerCase() + str.substring(1);\n    };\n\n    var upperFirst = function (value) {\n      var str = toString$1(value);\n      return str.charAt(0).toUpperCase() + str.substring(1);\n    };\n\n    var toString$2 = {}.toString;\n\n    var getType = function (value) {\n      return toString$2.call(value).replace(/^\\[object /, '').replace(/]$/, '');\n    };\n\n    /**\n     * 是否是布尔类型\n     *\n     * @param {Object} value 测试的值\n     * @return {Boolean}\n     */\n\n    var isBoolean = function (value) {\n      return isType(value, 'Boolean');\n    };\n\n    var isDate = function (value) {\n      return isType(value, 'Date');\n    };\n\n    var objectProto = Object.prototype;\n\n    var isPrototype = function (value) {\n      var Ctor = value && value.constructor;\n      var proto = typeof Ctor === 'function' && Ctor.prototype || objectProto;\n      return value === proto;\n    };\n\n    // FIXME: Mutable param should be forbidden in static lang.\n    function _mix(dist, obj) {\n      for (var key in obj) {\n        if (obj.hasOwnProperty(key) && key !== 'constructor' && obj[key] !== undefined) {\n          dist[key] = obj[key];\n        }\n      }\n    }\n\n    function mix(dist, src1, src2, src3) {\n      if (src1) _mix(dist, src1);\n      if (src2) _mix(dist, src2);\n      if (src3) _mix(dist, src3);\n      return dist;\n    }\n\n    var MAX_MIX_LEVEL = 5;\n\n    function _deepMix(dist, src, level, maxLevel) {\n      level = level || 0;\n      maxLevel = maxLevel || MAX_MIX_LEVEL;\n\n      for (var key in src) {\n        if (src.hasOwnProperty(key)) {\n          var value = src[key];\n\n          if (value !== null && isPlainObject(value)) {\n            if (!isPlainObject(dist[key])) {\n              dist[key] = {};\n            }\n\n            if (level < maxLevel) {\n              _deepMix(dist[key], value, level + 1, maxLevel);\n            } else {\n              dist[key] = src[key];\n            }\n          } else if (isArray(value)) {\n            dist[key] = [];\n            dist[key] = dist[key].concat(value);\n          } else if (value !== undefined) {\n            dist[key] = value;\n          }\n        }\n      }\n    } // todo 重写\n\n\n    var deepMix = function (rst) {\n      var args = [];\n\n      for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n      }\n\n      for (var i = 0; i < args.length; i += 1) {\n        _deepMix(rst, args[i]);\n      }\n\n      return rst;\n    };\n\n    var indexOf = function (arr, obj) {\n      if (!isArrayLike(arr)) {\n        return -1;\n      }\n\n      var m = Array.prototype.indexOf;\n\n      if (m) {\n        return m.call(arr, obj);\n      }\n\n      var index = -1;\n\n      for (var i = 0; i < arr.length; i++) {\n        if (arr[i] === obj) {\n          index = i;\n          break;\n        }\n      }\n\n      return index;\n    };\n\n    var hasOwnProperty = Object.prototype.hasOwnProperty;\n\n    function isEmpty(value) {\n      /**\n       * isEmpty(null) => true\n       * isEmpty() => true\n       * isEmpty(true) => true\n       * isEmpty(1) => true\n       * isEmpty([1, 2, 3]) => false\n       * isEmpty('abc') => false\n       * isEmpty({ a: 1 }) => false\n       */\n      if (isNil(value)) {\n        return true;\n      }\n\n      if (isArrayLike(value)) {\n        return !value.length;\n      }\n\n      var type = getType(value);\n\n      if (type === 'Map' || type === 'Set') {\n        return !value.size;\n      }\n\n      if (isPrototype(value)) {\n        return !Object.keys(value).length;\n      }\n\n      for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    var isEqual = function (value, other) {\n      if (value === other) {\n        return true;\n      }\n\n      if (!value || !other) {\n        return false;\n      }\n\n      if (isString(value) || isString(other)) {\n        return false;\n      }\n\n      if (isArrayLike(value) || isArrayLike(other)) {\n        if (value.length !== other.length) {\n          return false;\n        }\n\n        var rst = true;\n\n        for (var i = 0; i < value.length; i++) {\n          rst = isEqual(value[i], other[i]);\n\n          if (!rst) {\n            break;\n          }\n        }\n\n        return rst;\n      }\n\n      if (isObjectLike(value) || isObjectLike(other)) {\n        var valueKeys = Object.keys(value);\n        var otherKeys = Object.keys(other);\n\n        if (valueKeys.length !== otherKeys.length) {\n          return false;\n        }\n\n        var rst = true;\n\n        for (var i = 0; i < valueKeys.length; i++) {\n          rst = isEqual(value[valueKeys[i]], other[valueKeys[i]]);\n\n          if (!rst) {\n            break;\n          }\n        }\n\n        return rst;\n      }\n\n      return false;\n    };\n\n    var map = function (arr, func) {\n      if (!isArrayLike(arr)) {\n        // @ts-ignore\n        return arr;\n      }\n\n      var result = [];\n\n      for (var index = 0; index < arr.length; index++) {\n        var value = arr[index];\n        result.push(func(value, index));\n      }\n\n      return result;\n    };\n\n    function size(o) {\n      if (isNil(o)) {\n        return 0;\n      }\n\n      if (isArrayLike(o)) {\n        return o.length;\n      }\n\n      return Object.keys(o).length;\n    }\n\n    function merge(dataArray) {\n      var rst = [];\n\n      for (var i = 0, len = dataArray.length; i < len; i++) {\n        rst = rst.concat(dataArray[i]);\n      }\n\n      return rst;\n    }\n\n    function values(data, name) {\n      var rst = [];\n      var tmpMap = {};\n\n      for (var i = 0, len = data.length; i < len; i++) {\n        var obj = data[i];\n        var value = obj[name];\n\n        if (!isNil(value)) {\n          if (!isArray(value)) {\n            if (!tmpMap[value]) {\n              rst.push(value);\n              tmpMap[value] = true;\n            }\n          } else {\n            each(value, function (val) {\n              if (!tmpMap[val]) {\n                rst.push(val);\n                tmpMap[val] = true;\n              }\n            });\n          }\n        }\n      }\n\n      return rst;\n    }\n\n    function firstValue(data, name) {\n      var rst = null;\n\n      for (var i = 0, len = data.length; i < len; i++) {\n        var obj = data[i];\n        var value = obj[name];\n\n        if (!isNil(value)) {\n          if (isArray(value)) {\n            rst = value[0];\n          } else {\n            rst = value;\n          }\n\n          break;\n        }\n      }\n\n      return rst;\n    }\n\n    function groupToMap(data, fields) {\n      if (!fields) {\n        return {\n          0: data\n        };\n      }\n\n      var callback = function callback(row) {\n        var unique = '_';\n\n        for (var i = 0, l = fields.length; i < l; i++) {\n          unique += row[fields[i]] && row[fields[i]].toString();\n        }\n\n        return unique;\n      };\n\n      var groups = {};\n\n      for (var i = 0, len = data.length; i < len; i++) {\n        var row = data[i];\n        var key = callback(row);\n\n        if (groups[key]) {\n          groups[key].push(row);\n        } else {\n          groups[key] = [row];\n        }\n      }\n\n      return groups;\n    }\n\n    function group(data, fields, appendConditions) {\n      if (appendConditions === void 0) {\n        appendConditions = {};\n      }\n\n      if (!fields) {\n        return [data];\n      }\n\n      var groups = groupToMap(data, fields);\n      var array = [];\n\n      if (fields.length === 1 && appendConditions[fields[0]]) {\n        var _values = appendConditions[fields[0]];\n        each(_values, function (value) {\n          value = '_' + value;\n          array.push(groups[value]);\n        });\n      } else {\n        for (var i in groups) {\n          array.push(groups[i]);\n        }\n      }\n\n      return array;\n    }\n\n    function remove(arr, obj) {\n      if (!arr) {\n        return;\n      }\n\n      var index = arr.indexOf(obj);\n\n      if (index !== -1) {\n        arr.splice(index, 1);\n      }\n    }\n\n    function getRange$1(values) {\n      if (!values.length) {\n        return {\n          min: 0,\n          max: 0\n        };\n      }\n\n      var max = Math.max.apply(null, values);\n      var min = Math.min.apply(null, values);\n      return {\n        min: min,\n        max: max\n      };\n    }\n\n    var array = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        merge: merge,\n        values: values,\n        firstValue: firstValue,\n        group: group,\n        groupToMap: groupToMap,\n        remove: remove,\n        getRange: getRange$1\n    });\n\n    /**\n     * Detects support for options object argument in addEventListener.\n     * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\n     * @private\n     */\n    var supportsEventListenerOptions = function () {\n      var supports = false;\n\n      try {\n        var options = Object.defineProperty({}, 'passive', {\n          get: function get() {\n            supports = true;\n          }\n        });\n        window.addEventListener('e', null, options);\n      } catch (e) {// continue regardless of error\n      }\n\n      return supports;\n    }(); // Default passive to true as expected by Chrome for 'touchstart' and 'touchend' events.\n    // https://github.com/chartjs/Chart.js/issues/4287\n\n\n    var eventListenerOptions = supportsEventListenerOptions ? {\n      passive: true\n    } : false;\n    /* global wx, my */\n    // weixin miniprogram\n\n    var isWx = typeof wx === 'object' && typeof wx.getSystemInfoSync === 'function'; // ant miniprogram\n\n    var isMy = typeof my === 'object' && typeof my.getSystemInfoSync === 'function'; // in node\n\n    var isNode = typeof global && !typeof window; // in browser\n\n    var isBrowser = typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.sessionStorage !== 'undefined';\n\n    function isCanvasElement(el) {\n      if (!el || typeof el !== 'object') return false;\n\n      if (el.nodeType === 1 && el.nodeName) {\n        // HTMLCanvasElement\n        return true;\n      } // CanvasElement\n\n\n      return !!el.isCanvasElement;\n    }\n\n    function getPixelRatio() {\n      return window && window.devicePixelRatio || 1;\n    }\n\n    function getStyle(el, property) {\n      return el.currentStyle ? el.currentStyle[property] : document.defaultView.getComputedStyle(el, null).getPropertyValue(property);\n    }\n\n    function getWidth(el) {\n      var width = getStyle(el, 'width');\n\n      if (width === 'auto') {\n        width = el.offsetWidth;\n      }\n\n      return parseFloat(width);\n    }\n\n    function getHeight(el) {\n      var height = getStyle(el, 'height');\n\n      if (height === 'auto') {\n        height = el.offsetHeight;\n      }\n\n      return parseFloat(height);\n    }\n\n    function getDomById(id) {\n      if (!id) {\n        return null;\n      }\n\n      return document.getElementById(id);\n    }\n\n    function getRelativePosition(point, canvas) {\n      var canvasDom = canvas.get('el');\n      if (!canvasDom) return point;\n\n      var _canvasDom$getBoundin = canvasDom.getBoundingClientRect(),\n          top = _canvasDom$getBoundin.top,\n          right = _canvasDom$getBoundin.right,\n          bottom = _canvasDom$getBoundin.bottom,\n          left = _canvasDom$getBoundin.left;\n\n      var paddingLeft = parseFloat(getStyle(canvasDom, 'padding-left'));\n      var paddingTop = parseFloat(getStyle(canvasDom, 'padding-top'));\n      var paddingRight = parseFloat(getStyle(canvasDom, 'padding-right'));\n      var paddingBottom = parseFloat(getStyle(canvasDom, 'padding-bottom'));\n      var width = right - left - paddingLeft - paddingRight;\n      var height = bottom - top - paddingTop - paddingBottom;\n      var pixelRatio = canvas.get('pixelRatio');\n      var mouseX = (point.x - left - paddingLeft) / width * canvasDom.width / pixelRatio;\n      var mouseY = (point.y - top - paddingTop) / height * canvasDom.height / pixelRatio;\n      return {\n        x: mouseX,\n        y: mouseY\n      };\n    }\n\n    function addEventListener(source, type, listener) {\n      source.addEventListener(type, listener, eventListenerOptions);\n    }\n\n    function removeEventListener(source, type, listener) {\n      source.removeEventListener(type, listener, eventListenerOptions);\n    }\n\n    function createEventObj(type, chart, x, y, nativeEvent) {\n      return {\n        type: type,\n        chart: chart,\n        \"native\": nativeEvent || null,\n        x: x !== undefined ? x : null,\n        y: y !== undefined ? y : null\n      };\n    }\n\n    function createEvent(event, chart) {\n      var type = event.type;\n      var clientPoint; // 说明是touch相关事件\n\n      if (event.touches) {\n        // https://developer.mozilla.org/zh-CN/docs/Web/API/TouchEvent/changedTouches\n        // 这里直接拿changedTouches就可以了，不管是touchstart, touchmove, touchend changedTouches 都是有的\n        // 为了以防万一，做个空判断\n        var touch = event.changedTouches[0] || {}; // x, y: 相对canvas原点的位置，clientX, clientY 相对于可视窗口的位置\n\n        var x = touch.x,\n            y = touch.y,\n            clientX = touch.clientX,\n            clientY = touch.clientY; // 小程序环境会有x,y，这里就直接返回\n\n        if (x && y) {\n          return createEventObj(type, chart, x, y, event);\n        }\n\n        clientPoint = {\n          x: clientX,\n          y: clientY\n        };\n      } else {\n        // mouse相关事件\n        clientPoint = {\n          x: event.clientX,\n          y: event.clientY\n        };\n      } // 理论上应该是只有有在浏览器环境才会走到这里\n\n\n      var canvas = chart.get('canvas'); // 通过clientX, clientY 计算x, y\n\n      var point = getRelativePosition(clientPoint, canvas);\n      return createEventObj(type, chart, point.x, point.y, event);\n    }\n\n    function measureText(text, font, ctx) {\n      if (!ctx) {\n        ctx = document.createElement('canvas').getContext('2d');\n      }\n\n      ctx.font = font || '12px sans-serif';\n      return ctx.measureText(text);\n    }\n\n    /**\n     * @fileOverview Utility for F2\n     * @author dxq613 @gmail.com\n     * @author sima.zhang1990@gmail.com\n     */\n\n    function isObjectValueEqual(a, b) {\n      // for vue.js\n      a = Object.assign({}, a);\n      b = Object.assign({}, b);\n      var aProps = Object.getOwnPropertyNames(a);\n      var bProps = Object.getOwnPropertyNames(b);\n\n      if (aProps.length !== bProps.length) {\n        return false;\n      }\n\n      for (var i = 0, len = aProps.length; i < len; i++) {\n        var propName = aProps[i];\n\n        if (a[propName] !== b[propName]) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    function parsePadding(padding) {\n      var top;\n      var right;\n      var bottom;\n      var left;\n\n      if (isNumber(padding) || isString(padding)) {\n        top = bottom = left = right = padding;\n      } else if (isArray(padding)) {\n        top = padding[0];\n        right = !isNil(padding[1]) ? padding[1] : padding[0];\n        bottom = !isNil(padding[2]) ? padding[2] : padding[0];\n        left = !isNil(padding[3]) ? padding[3] : right;\n      }\n\n      return [top, right, bottom, left];\n    }\n\n    function directionEnabled(mode, dir) {\n      if (mode === undefined) {\n        return true;\n      } else if (typeof mode === 'string') {\n        return mode.indexOf(dir) !== -1;\n      }\n\n      return false;\n    }\n\n    function toTimeStamp(value) {\n      if (isString(value)) {\n        if (value.indexOf('T') > 0) {\n          value = new Date(value).getTime();\n        } else {\n          // new Date('2010/01/10') 和 new Date('2010-01-10') 的差别在于:\n          // 如果仅有年月日时，前者是带有时区的: Fri Jan 10 2020 02:40:13 GMT+0800 (中国标准时间)\n          // 后者会格式化成 Sun Jan 10 2010 08:00:00 GMT+0800 (中国标准时间)\n          value = new Date(value.replace(/-/gi, '/')).getTime();\n        }\n      }\n\n      if (isDate(value)) {\n        value = value.getTime();\n      }\n\n      return value;\n    }\n\n    var Util = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        Array: array,\n        upperFirst: upperFirst,\n        lowerFirst: lowerFirst,\n        isString: isString,\n        isNumber: isNumber,\n        isBoolean: isBoolean,\n        isFunction: isFunction,\n        isDate: isDate,\n        isArray: isArray,\n        isNil: isNil,\n        isObject: isObject,\n        isPlainObject: isPlainObject,\n        isEqual: isEqual,\n        deepMix: deepMix,\n        mix: mix,\n        each: each,\n        uniq: uniq,\n        find: find,\n        isObjectValueEqual: isObjectValueEqual,\n        parsePadding: parsePadding,\n        directionEnabled: directionEnabled,\n        toTimeStamp: toTimeStamp,\n        isWx: isWx,\n        isMy: isMy,\n        isNode: isNode,\n        isBrowser: isBrowser,\n        isCanvasElement: isCanvasElement,\n        getPixelRatio: getPixelRatio,\n        getStyle: getStyle,\n        getWidth: getWidth,\n        getHeight: getHeight,\n        getDomById: getDomById,\n        getRelativePosition: getRelativePosition,\n        addEventListener: addEventListener,\n        removeEventListener: removeEventListener,\n        createEvent: createEvent,\n        measureText: measureText\n    });\n\n    /**\n     * @fileOverview default theme\n     * @author dxq613@gail.com\n     */\n    var color1 = '#E8E8E8'; // color of axis-line and axis-grid\n\n    var color2 = '#808080'; // color of axis label\n\n    var defaultAxis = {\n      label: {\n        fill: color2,\n        fontSize: 10\n      },\n      line: {\n        stroke: color1,\n        lineWidth: 1\n      },\n      grid: {\n        type: 'line',\n        stroke: color1,\n        lineWidth: 1,\n        lineDash: [2]\n      },\n      tickLine: null,\n      labelOffset: 7.5\n    };\n    var Theme = {\n      fontFamily: '\"Helvetica Neue\", \"San Francisco\", Helvetica, Tahoma, Arial, \"PingFang SC\", \"Hiragino Sans GB\", \"Heiti SC\", \"Microsoft YaHei\", sans-serif',\n      defaultColor: '#1890FF',\n      pixelRatio: 1,\n      padding: 'auto',\n      appendPadding: 15,\n      colors: ['#1890FF', '#2FC25B', '#FACC14', '#223273', '#8543E0', '#13C2C2', '#3436C7', '#F04864'],\n      shapes: {\n        line: ['line', 'dash'],\n        point: ['circle', 'hollowCircle']\n      },\n      sizes: [4, 10],\n      axis: {\n        common: defaultAxis,\n        // common axis configuration\n        bottom: mix({}, defaultAxis, {\n          grid: null\n        }),\n        left: mix({}, defaultAxis, {\n          line: null\n        }),\n        right: mix({}, defaultAxis, {\n          line: null\n        }),\n        circle: mix({}, defaultAxis, {\n          line: null\n        }),\n        radius: mix({}, defaultAxis, {\n          labelOffset: 4\n        })\n      },\n      shape: {\n        line: {\n          lineWidth: 2,\n          lineJoin: 'round',\n          lineCap: 'round'\n        },\n        point: {\n          lineWidth: 0,\n          size: 3\n        },\n        area: {\n          fillOpacity: 0.1\n        }\n      },\n      _defaultAxis: defaultAxis\n    };\n\n    var Global = {\n      version: '3.7.8',\n      scales: {},\n      widthRatio: {\n        column: 1 / 2,\n        rose: 0.999999,\n        multiplePie: 3 / 4\n      },\n      lineDash: [4, 4]\n    };\n\n    Global.setTheme = function (theme) {\n      deepMix(Global, theme);\n    };\n\n    Global.setTheme(Theme);\n\n    function _defineProperty(obj, key, value) {\n      if (key in obj) {\n        Object.defineProperty(obj, key, {\n          value: value,\n          enumerable: true,\n          configurable: true,\n          writable: true\n        });\n      } else {\n        obj[key] = value;\n      }\n\n      return obj;\n    }\n\n    function _extends() {\n      _extends = Object.assign || function (target) {\n        for (var i = 1; i < arguments.length; i++) {\n          var source = arguments[i];\n\n          for (var key in source) {\n            if (Object.prototype.hasOwnProperty.call(source, key)) {\n              target[key] = source[key];\n            }\n          }\n        }\n\n        return target;\n      };\n\n      return _extends.apply(this, arguments);\n    }\n\n    function _inheritsLoose(subClass, superClass) {\n      subClass.prototype = Object.create(superClass.prototype);\n      subClass.prototype.constructor = subClass;\n      subClass.__proto__ = superClass;\n    }\n\n    function _assertThisInitialized(self) {\n      if (self === void 0) {\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n      }\n\n      return self;\n    }\n\n    var EVENT_AFTER_INIT = 'afterinit';\n    var EVENT_BEFORE_RENDER = 'beforerender';\n    var EVENT_AFTER_RENDER = 'afterrender';\n    var EVENT_BEFORE_DATA_CHANGE = 'beforedatachange';\n    var EVENT_AFTER_DATA_CHANGE = 'afterdatachange';\n    var EVENT_AFTER_SIZE_CHANGE = '_aftersizechange';\n    var EVENT_AFTER_GEOM_INIT = '_aftergeominit';\n    var EVENT_BEFORE_GEOM_DRAW = 'beforegeomdraw';\n    var EVENT_AFTER_GEOM_DRAW = 'aftergeomdraw';\n    var EVENT_CLEAR = 'clear';\n    var EVENT_CLEAR_INNER = 'clearinner';\n    var EVENT_REPAINT = 'repaint';\n\n    // 实现简单的事件机制\n\n    var EventEmit = /*#__PURE__*/function () {\n      function EventEmit() {\n        this.__events = {};\n      }\n\n      var _proto = EventEmit.prototype;\n\n      _proto.on = function on(type, listener) {\n        if (!type || !listener) {\n          return;\n        }\n\n        var events = this.__events[type] || [];\n        events.push(listener);\n        this.__events[type] = events;\n      };\n\n      _proto.emit = function emit(type, e) {\n        var _this = this;\n\n        if (isObject(type)) {\n          e = type;\n          type = e && e.type;\n        }\n\n        if (!type) {\n          return;\n        }\n\n        var events = this.__events[type];\n\n        if (!events || !events.length) {\n          return;\n        }\n\n        events.forEach(function (listener) {\n          listener.call(_this, e);\n        });\n      };\n\n      _proto.off = function off(type, listener) {\n        var __events = this.__events;\n        var events = __events[type];\n\n        if (!events || !events.length) {\n          return;\n        } // 如果没有指定方法，则删除所有项\n\n\n        if (!listener) {\n          delete __events[type];\n          return;\n        } // 删除指定的 listener\n\n\n        for (var i = 0, len = events.length; i < len; i++) {\n          if (events[i] === listener) {\n            events.splice(i, 1);\n            i--;\n          }\n        }\n      };\n\n      return EventEmit;\n    }();\n\n    var Base = /*#__PURE__*/function (_Emit) {\n      _inheritsLoose(Base, _Emit);\n\n      var _proto = Base.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        return {};\n      };\n\n      function Base(cfg) {\n        var _this;\n\n        _this = _Emit.call(this) || this;\n        var attrs = {};\n\n        var defaultCfg = _this.getDefaultCfg();\n\n        _this._attrs = attrs;\n        mix(attrs, defaultCfg, cfg);\n        return _this;\n      }\n\n      _proto.get = function get(name) {\n        return this._attrs[name];\n      };\n\n      _proto.set = function set(name, value) {\n        this._attrs[name] = value;\n      };\n\n      _proto.destroy = function destroy() {\n        this._attrs = {};\n        this.destroyed = true;\n      };\n\n      return Base;\n    }(EventEmit);\n\n    var Plot = /*#__PURE__*/function () {\n      function Plot(cfg) {\n        mix(this, cfg);\n\n        this._init();\n      }\n\n      var _proto = Plot.prototype;\n\n      _proto._init = function _init() {\n        var self = this;\n        var start = self.start;\n        var end = self.end;\n        var xMin = Math.min(start.x, end.x);\n        var xMax = Math.max(start.x, end.x);\n        var yMin = Math.min(start.y, end.y);\n        var yMax = Math.max(start.y, end.y);\n        this.tl = {\n          x: xMin,\n          y: yMin\n        };\n        this.tr = {\n          x: xMax,\n          y: yMin\n        };\n        this.bl = {\n          x: xMin,\n          y: yMax\n        };\n        this.br = {\n          x: xMax,\n          y: yMax\n        };\n        this.width = xMax - xMin;\n        this.height = yMax - yMin;\n      }\n      /**\n       * reset\n       * @param  {Object} start start point\n       * @param  {Object} end end point\n       */\n      ;\n\n      _proto.reset = function reset(start, end) {\n        this.start = start;\n        this.end = end;\n\n        this._init();\n      }\n      /**\n       * check the point is in the range of plot\n       * @param  {Number}  x x value\n       * @param  {[type]}  y y value\n       * @return {Boolean} return the result\n       */\n      ;\n\n      _proto.isInRange = function isInRange(x, y) {\n        if (isObject(x)) {\n          y = x.y;\n          x = x.x;\n        }\n\n        var tl = this.tl;\n        var br = this.br;\n        return tl.x <= x && x <= br.x && tl.y <= y && y <= br.y;\n      };\n\n      return Plot;\n    }();\n\n    var Matrix = {\n      generateDefault: function generateDefault() {\n        return [1, 0, 0, 1, 0, 0];\n      },\n      isChanged: function isChanged(m) {\n        return m[0] !== 1 || m[1] !== 0 || m[2] !== 0 || m[3] !== 1 || m[4] !== 0 || m[5] !== 0;\n      },\n      multiply: function multiply(m1, m2) {\n        var m11 = m1[0] * m2[0] + m1[2] * m2[1];\n        var m12 = m1[1] * m2[0] + m1[3] * m2[1];\n        var m21 = m1[0] * m2[2] + m1[2] * m2[3];\n        var m22 = m1[1] * m2[2] + m1[3] * m2[3];\n        var dx = m1[0] * m2[4] + m1[2] * m2[5] + m1[4];\n        var dy = m1[1] * m2[4] + m1[3] * m2[5] + m1[5];\n        return [m11, m12, m21, m22, dx, dy];\n      },\n      scale: function scale(out, m, v) {\n        out[0] = m[0] * v[0];\n        out[1] = m[1] * v[0];\n        out[2] = m[2] * v[1];\n        out[3] = m[3] * v[1];\n        out[4] = m[4];\n        out[5] = m[5];\n        return out;\n      },\n      rotate: function rotate(out, m, radian) {\n        var c = Math.cos(radian);\n        var s = Math.sin(radian);\n        var m11 = m[0] * c + m[2] * s;\n        var m12 = m[1] * c + m[3] * s;\n        var m21 = m[0] * -s + m[2] * c;\n        var m22 = m[1] * -s + m[3] * c;\n        out[0] = m11;\n        out[1] = m12;\n        out[2] = m21;\n        out[3] = m22;\n        out[4] = m[4];\n        out[5] = m[5];\n        return out;\n      },\n      translate: function translate(out, m, v) {\n        out[0] = m[0];\n        out[1] = m[1];\n        out[2] = m[2];\n        out[3] = m[3];\n        out[4] = m[4] + m[0] * v[0] + m[2] * v[1];\n        out[5] = m[5] + m[1] * v[0] + m[3] * v[1];\n        return out;\n      },\n      transform: function transform(m, actions) {\n        var out = [].concat(m);\n\n        for (var i = 0, len = actions.length; i < len; i++) {\n          var action = actions[i];\n\n          switch (action[0]) {\n            case 't':\n              Matrix.translate(out, out, [action[1], action[2]]);\n              break;\n\n            case 's':\n              Matrix.scale(out, out, [action[1], action[2]]);\n              break;\n\n            case 'r':\n              Matrix.rotate(out, out, action[1]);\n              break;\n          }\n        }\n\n        return out;\n      }\n    };\n\n    /**\n     * 2 Dimensional Vector\n     * @module vector2\n     */\n    var Vector2 = {\n      /**\n       * Creates a new, empty vector2\n       *\n       * @return {vector2} a new 2D vector\n       */\n      create: function create() {\n        return [0, 0];\n      },\n\n      /**\n       * Calculates the length of a vector2\n       *\n       * @param {vector2} v vector to calculate length of\n       * @return {Number} length of v\n       */\n      length: function length(v) {\n        var x = v[0];\n        var y = v[1];\n        return Math.sqrt(x * x + y * y);\n      },\n\n      /**\n       * Normalize a vector2\n       *\n       * @param {vector2} out the receiving vector\n       * @param {vector2} v vector to normalize\n       * @return {vector2} out\n       */\n      normalize: function normalize(out, v) {\n        var len = this.length(v);\n\n        if (len === 0) {\n          out[0] = 0;\n          out[1] = 0;\n        } else {\n          out[0] = v[0] / len;\n          out[1] = v[1] / len;\n        }\n\n        return out;\n      },\n\n      /**\n       * Adds two vector2's\n       *\n       * @param {vector2} out the receiving vector\n       * @param {vector2} v1 the first operand\n       * @param {vector2} v2 the second operand\n       * @return {vector2} out\n       */\n      add: function add(out, v1, v2) {\n        out[0] = v1[0] + v2[0];\n        out[1] = v1[1] + v2[1];\n        return out;\n      },\n\n      /**\n       * Subtracts vector v2 from vector v1\n       *\n       * @param {vector2} out the receiving vector\n       * @param {vector2} v1 the first operand\n       * @param {vector2} v2 the second operand\n       * @return {vector2} out\n       */\n      sub: function sub(out, v1, v2) {\n        out[0] = v1[0] - v2[0];\n        out[1] = v1[1] - v2[1];\n        return out;\n      },\n\n      /**\n       * Scales a vector2 by a scalar number\n       *\n       * @param {vector2} out the receiving vector\n       * @param {vector2} v the vector to scale\n       * @param {Number} s amount to scale the vector by\n       * @return {vector2} out\n       */\n      scale: function scale(out, v, s) {\n        out[0] = v[0] * s;\n        out[1] = v[1] * s;\n        return out;\n      },\n\n      /**\n       * Calculates the dot product of two vector2's\n       *\n       * @param {vector2} v1 the first operand\n       * @param {vector2} v2 the second operand\n       * @return {Number} dot product of v1 and v2\n       */\n      dot: function dot(v1, v2) {\n        return v1[0] * v2[0] + v1[1] * v2[1];\n      },\n\n      /**\n       * Calculates the direction of two vector2's\n       *\n       * @param {vector2} v1 the first operand\n       * @param {vector2} v2 the second operand\n       * @return {Boolean} the direction of v1 and v2\n       */\n      direction: function direction(v1, v2) {\n        return v1[0] * v2[1] - v2[0] * v1[1];\n      },\n\n      /**\n       * Calculates the angle of two vector2's\n       *\n       * @param {vector2} v1 the first operand\n       * @param {vector2} v2 the second operand\n       * @return {Number} angle of v1 and v2\n       */\n      angle: function angle(v1, v2) {\n        var theta = this.dot(v1, v2) / (this.length(v1) * this.length(v2));\n        return Math.acos(theta);\n      },\n\n      /**\n       * Calculates the angle of two vector2's with direction\n       *\n       * @param {vector2} v1 the first operand\n       * @param {vector2} v2 the second operand\n       * @param {Boolean} direction the direction of two vector2's\n       * @return {Number} angle of v1 and v2\n       */\n      angleTo: function angleTo(v1, v2, direction) {\n        var angle = this.angle(v1, v2);\n        var angleLargeThanPI = this.direction(v1, v2) >= 0;\n\n        if (direction) {\n          if (angleLargeThanPI) {\n            return Math.PI * 2 - angle;\n          }\n\n          return angle;\n        }\n\n        if (angleLargeThanPI) {\n          return angle;\n        }\n\n        return Math.PI * 2 - angle;\n      },\n\n      /**\n       * whether a vector2 is zero vector\n       *\n       * @param  {vector2} v vector to calculate\n       * @return {Boolean}   is or not a zero vector\n       */\n      zero: function zero(v) {\n        return v[0] === 0 && v[1] === 0;\n      },\n\n      /**\n       * Calculates the euclidian distance between two vector2's\n       *\n       * @param {vector2} v1 the first operand\n       * @param {vector2} v2 the second operand\n       * @return {Number} distance between a and b\n       */\n      distance: function distance(v1, v2) {\n        var x = v2[0] - v1[0];\n        var y = v2[1] - v1[1];\n        return Math.sqrt(x * x + y * y);\n      },\n\n      /**\n       * Creates a new vector2 initialized with values from an existing vector\n       *\n       * @param {vector2} v vector to clone\n       * @return {Array} a new 2D vector\n       */\n      clone: function clone(v) {\n        return [v[0], v[1]];\n      },\n\n      /**\n       * Return the minimum of two vector2's\n       *\n       * @param {vector2} out the receiving vector\n       * @param {vector2} v1 the first operand\n       * @param {vector2} v2 the second operand\n       * @return {vector2} out\n       */\n      min: function min(out, v1, v2) {\n        out[0] = Math.min(v1[0], v2[0]);\n        out[1] = Math.min(v1[1], v2[1]);\n        return out;\n      },\n\n      /**\n       * Return the maximum of two vector2's\n       *\n       * @param {vector2} out the receiving vector\n       * @param {vector2} v1 the first operand\n       * @param {vector2} v2 the second operand\n       * @return {vector2} out\n       */\n      max: function max(out, v1, v2) {\n        out[0] = Math.max(v1[0], v2[0]);\n        out[1] = Math.max(v1[1], v2[1]);\n        return out;\n      },\n\n      /**\n       * Transforms the vector2 with a mat2d\n       *\n       * @param {vector2} out the receiving vector\n       * @param {vector2} v the vector to transform\n       * @param {mat2d} m matrix to transform with\n       * @return {vector2} out\n       */\n      transformMat2d: function transformMat2d(out, v, m) {\n        var x = v[0];\n        var y = v[1];\n        out[0] = m[0] * x + m[2] * y + m[4];\n        out[1] = m[1] * x + m[3] * y + m[5];\n        return out;\n      }\n    };\n\n    var defaultMatrix = [1, 0, 0, 1, 0, 0];\n\n    var Base$1 = /*#__PURE__*/function () {\n      var _proto = Base.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {};\n\n      function Base(cfg) {\n        this._initDefaultCfg();\n\n        mix(this, cfg);\n        var start;\n        var end;\n\n        if (this.plot) {\n          start = this.plot.bl;\n          end = this.plot.tr;\n          this.start = start;\n          this.end = end;\n        } else {\n          start = this.start;\n          end = this.end;\n        }\n\n        this.init(start, end);\n      }\n\n      _proto._scale = function _scale(s1, s2) {\n        var matrix = this.matrix;\n        var center = this.center;\n        Matrix.translate(matrix, matrix, [center.x, center.y]);\n        Matrix.scale(matrix, matrix, [s1, s2]);\n        Matrix.translate(matrix, matrix, [-center.x, -center.y]);\n      };\n\n      _proto.init = function init(start, end) {\n        this.matrix = [].concat(defaultMatrix); // 设置中心点\n\n        this.center = {\n          x: (end.x - start.x) / 2 + start.x,\n          y: (end.y - start.y) / 2 + start.y\n        };\n\n        if (this.scale) {\n          this._scale(this.scale[0], this.scale[1]);\n        }\n      };\n\n      _proto.convertPoint = function convertPoint(point) {\n        var _this$_convertPoint = this._convertPoint(point),\n            x = _this$_convertPoint.x,\n            y = _this$_convertPoint.y;\n\n        if (!Matrix.isChanged(this.matrix)) {\n          return {\n            x: x,\n            y: y\n          };\n        }\n\n        var vector = [x, y];\n        Vector2.transformMat2d(vector, vector, this.matrix);\n        return {\n          x: vector[0],\n          y: vector[1]\n        };\n      };\n\n      _proto.invertPoint = function invertPoint(point) {\n        return this._invertPoint(point);\n      };\n\n      _proto._convertPoint = function _convertPoint(point) {\n        return point;\n      };\n\n      _proto._invertPoint = function _invertPoint(point) {\n        return point;\n      };\n\n      _proto.reset = function reset(plot) {\n        this.plot = plot;\n        var bl = plot.bl,\n            tr = plot.tr;\n        this.start = bl;\n        this.end = tr;\n        this.init(bl, tr);\n      };\n\n      return Base;\n    }();\n\n    var Cartesian = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Cartesian, _Base);\n\n      function Cartesian() {\n        return _Base.apply(this, arguments) || this;\n      }\n\n      var _proto = Cartesian.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.type = 'cartesian';\n        this.transposed = false;\n        this.isRect = true;\n      };\n\n      _proto.init = function init(start, end) {\n        _Base.prototype.init.call(this, start, end);\n\n        this.x = {\n          start: start.x,\n          end: end.x\n        };\n        this.y = {\n          start: start.y,\n          end: end.y\n        };\n      };\n\n      _proto._convertPoint = function _convertPoint(point) {\n        var self = this;\n        var transposed = self.transposed;\n        var xDim = transposed ? 'y' : 'x';\n        var yDim = transposed ? 'x' : 'y';\n        var x = self.x;\n        var y = self.y;\n        return {\n          x: x.start + (x.end - x.start) * point[xDim],\n          y: y.start + (y.end - y.start) * point[yDim]\n        };\n      };\n\n      _proto._invertPoint = function _invertPoint(point) {\n        var self = this;\n        var transposed = self.transposed;\n        var xDim = transposed ? 'y' : 'x';\n        var yDim = transposed ? 'x' : 'y';\n        var x = self.x;\n        var y = self.y;\n        var rst = {};\n        rst[xDim] = (point.x - x.start) / (x.end - x.start);\n        rst[yDim] = (point.y - y.start) / (y.end - y.start);\n        return rst;\n      };\n\n      return Cartesian;\n    }(Base$1);\n\n    Base$1.Cartesian = Cartesian;\n    Base$1.Rect = Cartesian;\n\n    /**\n     * @fileOverview the Attribute base class\n     */\n\n    function toScaleString(scale, value) {\n      if (isString(value)) {\n        return value;\n      }\n\n      return scale.invert(scale.scale(value));\n    }\n    /**\n     * 所有视觉通道属性的基类\n     * @class Attr\n     */\n\n\n    var AttributeBase = /*#__PURE__*/function () {\n      function AttributeBase(cfg) {\n        var _this = this;\n\n        /**\n         * 属性的类型\n         * @type {String}\n         */\n        this.type = 'base';\n        /**\n         * 属性的名称\n         * @type {String}\n         */\n\n        this.name = null;\n        /**\n         * 回调函数\n         * @type {Function}\n         */\n\n        this.method = null;\n        /**\n         * 备选的值数组\n         * @type {Array}\n         */\n\n        this.values = [];\n        /**\n         * 属性内部的度量\n         * @type {Array}\n         */\n\n        this.scales = [];\n        /**\n         * 是否通过线性取值, 如果未指定，则根据数值的类型判定\n         * @type {Boolean}\n         */\n\n        this.linear = null;\n        /**\n         * 当用户设置的 callback 返回 null 时, 应该返回默认 callback 中的值\n         */\n\n        var mixedCallback = null;\n        var defaultCallback = this.callback;\n\n        if (cfg.callback) {\n          var userCallback = cfg.callback;\n\n          mixedCallback = function mixedCallback() {\n            for (var _len = arguments.length, params = new Array(_len), _key = 0; _key < _len; _key++) {\n              params[_key] = arguments[_key];\n            }\n\n            var ret = userCallback.apply(void 0, params);\n\n            if (isNil(ret)) {\n              ret = defaultCallback.apply(_this, params);\n            }\n\n            return ret;\n          };\n        }\n\n        mix(this, cfg);\n\n        if (mixedCallback) {\n          mix(this, {\n            callback: mixedCallback\n          });\n        }\n      } // 获取属性值，将值映射到视觉通道\n\n\n      var _proto = AttributeBase.prototype;\n\n      _proto._getAttrValue = function _getAttrValue(scale, value) {\n        var values = this.values;\n\n        if (scale.isCategory && !this.linear) {\n          var index = scale.translate(value);\n          return values[index % values.length];\n        }\n\n        var percent = scale.scale(value);\n        return this.getLinearValue(percent);\n      }\n      /**\n       * 如果进行线性映射，返回对应的映射值\n       * @protected\n       * @param  {Number} percent 百分比\n       * @return {*}  颜色值、形状、大小等\n       */\n      ;\n\n      _proto.getLinearValue = function getLinearValue(percent) {\n        var values = this.values;\n        var steps = values.length - 1;\n        var step = Math.floor(steps * percent);\n        var leftPercent = steps * percent - step;\n        var start = values[step];\n        var end = step === steps ? start : values[step + 1];\n        var rstValue = start + (end - start) * leftPercent;\n        return rstValue;\n      }\n      /**\n       * 默认的回调函数\n       * @param {*} value 回调函数的值\n       * @type {Function}\n       * @return {Array} 返回映射后的值\n       */\n      ;\n\n      _proto.callback = function callback(value) {\n        var self = this;\n        var scale = self.scales[0];\n        var rstValue = null;\n\n        if (scale.type === 'identity') {\n          rstValue = scale.value;\n        } else {\n          rstValue = self._getAttrValue(scale, value);\n        }\n\n        return rstValue;\n      }\n      /**\n       * 根据度量获取属性名\n       * @return {Array} dims of this Attribute\n       */\n      ;\n\n      _proto.getNames = function getNames() {\n        var scales = this.scales;\n        var names = this.names;\n        var length = Math.min(scales.length, names.length);\n        var rst = [];\n\n        for (var i = 0; i < length; i++) {\n          rst.push(names[i]);\n        }\n\n        return rst;\n      }\n      /**\n       * 根据度量获取维度名\n       * @return {Array} dims of this Attribute\n       */\n      ;\n\n      _proto.getFields = function getFields() {\n        var scales = this.scales;\n        var rst = [];\n        each(scales, function (scale) {\n          rst.push(scale.field);\n        });\n        return rst;\n      }\n      /**\n       * 根据名称获取度量\n       * @param  {String} name the name of scale\n       * @return {Scale} scale\n       */\n      ;\n\n      _proto.getScale = function getScale(name) {\n        var scales = this.scales;\n        var names = this.names;\n        var index = names.indexOf(name);\n        return scales[index];\n      }\n      /**\n       * 映射数据\n       * @param {*} param1...paramn 多个数值\n       * @return {Array} 映射的值组成的数组\n       */\n      ;\n\n      _proto.mapping = function mapping() {\n        var scales = this.scales;\n        var callback = this.callback;\n\n        for (var _len2 = arguments.length, params = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          params[_key2] = arguments[_key2];\n        }\n\n        var values = params;\n\n        if (callback) {\n          for (var i = 0, len = params.length; i < len; i++) {\n            params[i] = this._toOriginParam(params[i], scales[i]);\n          }\n\n          values = callback.apply(this, params);\n        }\n\n        values = [].concat(values);\n        return values;\n      } // 原始的参数\n      ;\n\n      _proto._toOriginParam = function _toOriginParam(param, scale) {\n        var rst = param;\n\n        if (!scale.isLinear) {\n          if (isArray(param)) {\n            rst = [];\n\n            for (var i = 0, len = param.length; i < len; i++) {\n              rst.push(toScaleString(scale, param[i]));\n            }\n          } else {\n            rst = toScaleString(scale, param);\n          }\n        }\n\n        return rst;\n      };\n\n      return AttributeBase;\n    }();\n\n    var Position = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Position, _Base);\n\n      function Position(cfg) {\n        var _this;\n\n        _this = _Base.call(this, cfg) || this;\n        _this.names = ['x', 'y'];\n        _this.type = 'position';\n        return _this;\n      }\n\n      var _proto = Position.prototype;\n\n      _proto.mapping = function mapping(x, y) {\n        var scales = this.scales;\n        var coord = this.coord;\n        var scaleX = scales[0];\n        var scaleY = scales[1];\n        var rstX;\n        var rstY;\n        var obj;\n\n        if (isNil(x) || isNil(y)) {\n          return [];\n        }\n\n        if (isArray(y) && isArray(x)) {\n          rstX = [];\n          rstY = [];\n\n          for (var i = 0, j = 0, xLen = x.length, yLen = y.length; i < xLen && j < yLen; i++, j++) {\n            obj = coord.convertPoint({\n              x: scaleX.scale(x[i]),\n              y: scaleY.scale(y[j])\n            });\n            rstX.push(obj.x);\n            rstY.push(obj.y);\n          }\n        } else if (isArray(y)) {\n          x = scaleX.scale(x);\n          rstY = [];\n          each(y, function (yVal) {\n            yVal = scaleY.scale(yVal);\n            obj = coord.convertPoint({\n              x: x,\n              y: yVal\n            });\n\n            if (rstX && rstX !== obj.x) {\n              if (!isArray(rstX)) {\n                rstX = [rstX];\n              }\n\n              rstX.push(obj.x);\n            } else {\n              rstX = obj.x;\n            }\n\n            rstY.push(obj.y);\n          });\n        } else if (isArray(x)) {\n          y = scaleY.scale(y);\n          rstX = [];\n          each(x, function (xVal) {\n            xVal = scaleX.scale(xVal);\n            obj = coord.convertPoint({\n              x: xVal,\n              y: y\n            });\n\n            if (rstY && rstY !== obj.y) {\n              if (!isArray(rstY)) {\n                rstY = [rstY];\n              }\n\n              rstY.push(obj.y);\n            } else {\n              rstY = obj.y;\n            }\n\n            rstX.push(obj.x);\n          });\n        } else {\n          x = scaleX.scale(x);\n          y = scaleY.scale(y);\n          var point = coord.convertPoint({\n            x: x,\n            y: y\n          });\n          rstX = point.x;\n          rstY = point.y;\n        }\n\n        return [rstX, rstY];\n      };\n\n      return Position;\n    }(AttributeBase);\n\n    var Shape = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Shape, _Base);\n\n      function Shape(cfg) {\n        var _this;\n\n        _this = _Base.call(this, cfg) || this;\n        _this.names = ['shape'];\n        _this.type = 'shape';\n        _this.gradient = null;\n        return _this;\n      }\n      /**\n       * @override\n       */\n\n\n      var _proto = Shape.prototype;\n\n      _proto.getLinearValue = function getLinearValue(percent) {\n        var values = this.values;\n        var index = Math.round((values.length - 1) * percent);\n        return values[index];\n      };\n\n      return Shape;\n    }(AttributeBase);\n\n    var Size = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Size, _Base);\n\n      function Size(cfg) {\n        var _this;\n\n        _this = _Base.call(this, cfg) || this;\n        _this.names = ['size'];\n        _this.type = 'size';\n        _this.gradient = null;\n        return _this;\n      }\n\n      return Size;\n    }(AttributeBase);\n\n    function getValue(start, end, percent, index) {\n      var value = start[index] + (end[index] - start[index]) * percent;\n      return value;\n    } // convert to hex\n\n\n    function arr2hex(arr) {\n      return '#' + toRGBValue(arr[0]) + toRGBValue(arr[1]) + toRGBValue(arr[2]);\n    }\n\n    function toRGBValue(value) {\n      value = Math.round(value);\n      value = value.toString(16);\n\n      if (value.length === 1) {\n        value = '0' + value;\n      }\n\n      return value;\n    }\n\n    function calColor(colors, percent) {\n      var steps = colors.length - 1;\n      var step = Math.floor(steps * percent);\n      var left = steps * percent - step;\n      var start = colors[step];\n      var end = step === steps ? start : colors[step + 1];\n      var rgb = arr2hex([getValue(start, end, left, 0), getValue(start, end, left, 1), getValue(start, end, left, 2)]);\n      return rgb;\n    }\n\n    function hex2arr(str) {\n      var arr = [];\n      arr.push(parseInt(str.substr(1, 2), 16));\n      arr.push(parseInt(str.substr(3, 2), 16));\n      arr.push(parseInt(str.substr(5, 2), 16));\n      return arr;\n    }\n\n    var colorCache = {\n      black: '#000000',\n      blue: '#0000ff',\n      grey: '#808080',\n      green: '#008000',\n      orange: '#ffa500',\n      pink: '#ffc0cb',\n      purple: '#800080',\n      red: '#ff0000',\n      white: '#ffffff',\n      yellow: '#ffff00'\n    };\n    /**\n     * Returns a hexadecimal string representing this color in RGB space, such as #f7eaba.\n     * @param  {String} color color value\n     * @return {String} Returns a hexadecimal string\n     */\n\n    function toHex(color) {\n      if (colorCache[color]) {\n        return colorCache[color];\n      }\n\n      if (color[0] === '#') {\n        if (color.length === 7) {\n          return color;\n        }\n\n        var hex = color.replace(/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i, function (m, r, g, b) {\n          return '#' + r + r + g + g + b + b;\n        }); // hex3 to hex6\n\n        colorCache[color] = hex;\n        return hex;\n      } // rgb/rgba to hex\n\n\n      var rst = color.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\n      rst.shift();\n      rst = arr2hex(rst);\n      colorCache[color] = rst;\n      return rst;\n    }\n    /**\n     * handle the gradient color\n     * @param  {Array} colors the colors\n     * @return {String} return the color value\n     */\n\n\n    function gradient(colors) {\n      var points = [];\n\n      if (isString(colors)) {\n        colors = colors.split('-');\n      }\n\n      each(colors, function (color) {\n        if (color.indexOf('#') === -1) {\n          color = toHex(color);\n        }\n\n        points.push(hex2arr(color));\n      });\n      return function (percent) {\n        return calColor(points, percent);\n      };\n    }\n\n    var Color = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Color, _Base);\n\n      function Color(cfg) {\n        var _this;\n\n        _this = _Base.call(this, cfg) || this;\n        _this.names = ['color'];\n        _this.type = 'color';\n        _this.gradient = null;\n\n        if (isString(_this.values)) {\n          _this.linear = true;\n        }\n\n        return _this;\n      }\n      /**\n       * @override\n       */\n\n\n      var _proto = Color.prototype;\n\n      _proto.getLinearValue = function getLinearValue(percent) {\n        var gradient$1 = this.gradient;\n\n        if (!gradient$1) {\n          var values = this.values;\n          gradient$1 = gradient(values);\n          this.gradient = gradient$1;\n        }\n\n        return gradient$1(percent);\n      };\n\n      return Color;\n    }(AttributeBase);\n\n    var Attr = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        Position: Position,\n        Shape: Shape,\n        Size: Size,\n        Color: Color\n    });\n\n    var Shape$1 = {};\n    var ShapeBase = {\n      _coord: null,\n\n      /**\n       * draw the shape\n       * @param {Object} cfg options\n       * @param {Object} container container to store the shapes\n       */\n      draw: function draw(cfg, container) {\n        if (this.drawShape) {\n          this.drawShape(cfg, container);\n        }\n      },\n\n      /**\n       * set the coordinate instance\n       * @param {Coord} coord coordinate instance\n       */\n      setCoord: function setCoord(coord) {\n        this._coord = coord;\n      },\n\n      /**\n       * convert the normalized value to the canvas position\n       * @param  {point} point the point to convert\n       * @return {point} point return the result\n       */\n      parsePoint: function parsePoint(point) {\n        var coord = this._coord;\n\n        if (coord.isPolar) {\n          if (point.x === 1) point.x = 0.9999999;\n          if (point.y === 1) point.y = 0.9999999;\n        }\n\n        return coord.convertPoint(point);\n      },\n\n      /**\n       * convert the normalized value to the canvas position\n       * @param  {points} points the array that store the points\n       * @return {points} points return the result\n       */\n      parsePoints: function parsePoints(points) {\n        if (!points) return false;\n        var self = this;\n        var rst = [];\n        points.forEach(function (point) {\n          rst.push(self.parsePoint(point));\n        });\n        return rst;\n      }\n    };\n    var ShapeFactoryBase = {\n      defaultShapeType: null,\n      setCoord: function setCoord(coord) {\n        this._coord = coord;\n      },\n      getShape: function getShape(type) {\n        var self = this;\n\n        if (isArray(type)) {\n          type = type[0];\n        }\n\n        var shape = self[type] || self[self.defaultShapeType];\n        shape._coord = self._coord;\n        return shape;\n      },\n      getShapePoints: function getShapePoints(type, cfg) {\n        var shape = this.getShape(type);\n        var fn = shape.getPoints || shape.getShapePoints || this.getDefaultPoints;\n        var points = fn(cfg);\n        return points;\n      },\n      getDefaultPoints: function getDefaultPoints()\n      /* cfg */\n      {\n        return [];\n      },\n      drawShape: function drawShape(type, cfg, container) {\n        var shape = this.getShape(type);\n\n        if (!cfg.color) {\n          cfg.color = Global.colors[0];\n        }\n\n        return shape.draw(cfg, container);\n      }\n    };\n\n    Shape$1.registerFactory = function (factoryName, cfg) {\n      var className = upperFirst(factoryName);\n      var geomObj = mix({}, ShapeFactoryBase, cfg);\n      Shape$1[className] = geomObj;\n      geomObj.name = factoryName;\n      return geomObj;\n    };\n\n    Shape$1.registerShape = function (factoryName, shapeType, cfg) {\n      var className = upperFirst(factoryName);\n      var factory = Shape$1[className];\n      var shapeObj = mix({}, ShapeBase, cfg);\n      factory[shapeType] = shapeObj;\n      return shapeObj;\n    };\n\n    Shape$1.registShape = Shape$1.registerShape;\n\n    Shape$1.getShapeFactory = function (factoryName) {\n      var self = this;\n      factoryName = factoryName || 'point';\n      var className = upperFirst(factoryName);\n      return self[className];\n    };\n\n    function _mix$1(dist, obj) {\n      for (var key in obj) {\n        if (obj.hasOwnProperty(key) && key !== 'constructor' && obj[key] !== undefined) {\n          dist[key] = obj[key];\n        }\n      }\n    }\n\n    var mix$1 = function mix(dist, src1, src2, src3) {\n      if (src1) _mix$1(dist, src1);\n      if (src2) _mix$1(dist, src2);\n      if (src3) _mix$1(dist, src3);\n      return dist;\n    };\n\n    var mix_1 = mix$1;\n\n    var Adjust = /*#__PURE__*/function () {\n      var _proto = Adjust.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.adjustNames = ['x', 'y']; // 调整的维度，默认,x,y都做调整\n      };\n\n      function Adjust(cfg) {\n        this._initDefaultCfg();\n\n        mix_1(this, cfg);\n      }\n      /**\n       * @override\n       */\n\n\n      _proto.processAdjust = function processAdjust()\n      /* dataArray */\n      {};\n\n      return Adjust;\n    }();\n\n    var base = Adjust;\n\n    var GROUP_ATTRS = ['color', 'size', 'shape'];\n    var FIELD_ORIGIN = '_origin';\n    var FIELD_ORIGIN_Y = '_originY';\n\n    function parseFields(field) {\n      if (isArray(field)) {\n        return field;\n      }\n\n      if (isString(field)) {\n        return field.split('*');\n      }\n\n      return [field];\n    }\n    /**\n     * The parent class for Geometry\n     * @class Geom\n     */\n\n\n    var Geom = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Geom, _Base);\n\n      function Geom() {\n        return _Base.apply(this, arguments) || this;\n      }\n\n      var _proto = Geom.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        return {\n          /**\n           * geometry type\n           * @type {String}\n           */\n          type: null,\n\n          /**\n           * the data of geometry\n           * @type {Array}\n           */\n          data: null,\n\n          /**\n           * the attrs of geo,etry\n           * @type {Object}\n           */\n          attrs: {},\n          scales: {},\n\n          /**\n           * group for storing the shapes\n           * @type {Canvas}\n           */\n          container: null,\n\n          /**\n           * style options\n           * @type {Object}\n           */\n          styleOptions: null,\n          chart: null,\n          shapeType: '',\n\n          /**\n           * wether to generate key points for each shape\n           * @protected\n           * @type {Boolean}\n           */\n          generatePoints: false,\n          attrOptions: {},\n          sortable: false,\n          startOnZero: true,\n          visible: true,\n          connectNulls: false,\n          // 是否丢弃没有值的分组。\n          ignoreEmptyGroup: false,\n          // 是否已经初始化\n          isInit: false\n        };\n      };\n\n      _proto.init = function init() {\n        var self = this;\n        var isInit = self.get('isInit');\n\n        if (isInit) {\n          return;\n        }\n\n        self._initAttrs();\n\n        self._processData();\n\n        self.set('isInit', true);\n      };\n\n      _proto._getGroupScales = function _getGroupScales() {\n        var self = this;\n        var scales = [];\n        each(GROUP_ATTRS, function (attrName) {\n          var attr = self.getAttr(attrName);\n\n          if (attr) {\n            var attrScales = attr.scales;\n            each(attrScales, function (scale) {\n              if (scale && scale.isCategory && scales.indexOf(scale) === -1) {\n                scales.push(scale);\n              }\n            });\n          }\n        });\n        return scales;\n      };\n\n      _proto._groupData = function _groupData(data) {\n        var self = this;\n        var colDefs = self.get('colDefs');\n\n        var groupScales = self._getGroupScales();\n\n        if (groupScales.length) {\n          var appendConditions = {};\n          var names = [];\n          each(groupScales, function (scale) {\n            var field = scale.field;\n            names.push(field);\n\n            if (colDefs && colDefs[field] && colDefs[field].values) {\n              // users have defined\n              appendConditions[scale.field] = colDefs[field].values;\n            }\n          });\n          return group(data, names, appendConditions);\n        }\n\n        return [data];\n      };\n\n      _proto._setAttrOptions = function _setAttrOptions(attrName, attrCfg) {\n        var options = this.get('attrOptions');\n        options[attrName] = attrCfg;\n        var attrs = this.get('attrs'); // 说明已经初始化过了\n\n        if (Object.keys(attrs).length) {\n          this._createAttr(attrName, attrCfg);\n        }\n      };\n\n      _proto._createAttrOption = function _createAttrOption(attrName, field, cfg, defaultValues) {\n        var attrCfg = {};\n        attrCfg.field = field;\n\n        if (cfg) {\n          if (isFunction(cfg)) {\n            attrCfg.callback = cfg;\n          } else {\n            attrCfg.values = cfg;\n          }\n        } else {\n          attrCfg.values = defaultValues;\n        }\n\n        this._setAttrOptions(attrName, attrCfg);\n      };\n\n      _proto._createAttr = function _createAttr(type, option) {\n        var self = this;\n        var attrs = self.get('attrs');\n        var coord = self.get('coord');\n        var className = upperFirst(type);\n        var fields = parseFields(option.field);\n\n        if (type === 'position') {\n          option.coord = coord;\n        }\n\n        var scales = [];\n\n        for (var i = 0, len = fields.length; i < len; i++) {\n          var field = fields[i];\n\n          var scale = self._createScale(field);\n\n          scales.push(scale);\n        }\n\n        if (type === 'position') {\n          var yScale = scales[1]; // 饼图的处理，但是还不知道为啥\n\n          if (coord.type === 'polar' && coord.transposed && self.hasAdjust('stack')) {\n            if (yScale.values.length) {\n              yScale.change({\n                nice: false,\n                min: 0,\n                max: Math.max.apply(null, yScale.values)\n              });\n            }\n          }\n        }\n\n        option.scales = scales;\n        var attr = new Attr[className](option);\n        attrs[type] = attr;\n        return attr;\n      };\n\n      _proto._initAttrs = function _initAttrs() {\n        var self = this;\n        var attrOptions = self.get('attrOptions');\n\n        for (var type in attrOptions) {\n          if (attrOptions.hasOwnProperty(type)) {\n            this._createAttr(type, attrOptions[type]);\n          }\n        }\n      };\n\n      _proto._createScale = function _createScale(field) {\n        var scales = this.get('scales');\n        var scale = scales[field];\n\n        if (!scale) {\n          scale = this.get('chart').createScale(field);\n          scales[field] = scale;\n        }\n\n        return scale;\n      };\n\n      _proto._processData = function _processData() {\n        var self = this;\n        var data = this.get('data');\n        var dataArray = [];\n\n        var groupedArray = this._groupData(data);\n\n        if (this.get('ignoreEmptyGroup')) {\n          var yScale = this.getYScale();\n          groupedArray = groupedArray.filter(function (group) {\n            return group.some(function (item) {\n              return typeof item[yScale.field] !== 'undefined';\n            });\n          });\n        }\n\n        for (var i = 0, len = groupedArray.length; i < len; i++) {\n          var subData = groupedArray[i];\n\n          var tempData = self._saveOrigin(subData);\n\n          if (this.hasAdjust('dodge')) {\n            self._numberic(tempData);\n          }\n\n          dataArray.push(tempData);\n        }\n\n        if (self.get('adjust')) {\n          self._adjustData(dataArray);\n        }\n\n        if (self.get('sortable')) {\n          self._sort(dataArray);\n        }\n\n        self.emit('afterprocessdata', {\n          dataArray: dataArray\n        });\n        self.set('mappingData', dataArray);\n        self.set('dataArray', dataArray);\n        return dataArray;\n      };\n\n      _proto._saveOrigin = function _saveOrigin(data) {\n        var rst = [];\n\n        for (var i = 0, len = data.length; i < len; i++) {\n          var origin = data[i];\n          var obj = {};\n\n          for (var k in origin) {\n            obj[k] = origin[k];\n          }\n\n          obj[FIELD_ORIGIN] = origin;\n          rst.push(obj);\n        }\n\n        return rst;\n      };\n\n      _proto._numberic = function _numberic(data) {\n        var positionAttr = this.getAttr('position');\n        var scales = positionAttr.scales;\n\n        for (var j = 0, len = data.length; j < len; j++) {\n          var obj = data[j];\n          var count = Math.min(2, scales.length);\n\n          for (var i = 0; i < count; i++) {\n            var scale = scales[i];\n\n            if (scale.isCategory) {\n              var field = scale.field;\n              obj[field] = scale.translate(obj[field]);\n            }\n          }\n        }\n      };\n\n      _proto._adjustData = function _adjustData(dataArray) {\n        var self = this;\n        var adjust = self.get('adjust');\n\n        if (adjust) {\n          var adjustType = upperFirst(adjust.type);\n\n          if (!base[adjustType]) {\n            throw new Error('not support such adjust : ' + adjust);\n          }\n\n          var xScale = self.getXScale();\n          var yScale = self.getYScale();\n          var cfg = mix({\n            xField: xScale.field,\n            yField: yScale.field\n          }, adjust);\n          var adjustObject = new base[adjustType](cfg);\n          adjustObject.processAdjust(dataArray);\n\n          if (adjustType === 'Stack') {\n            self._updateStackRange(yScale.field, yScale, dataArray);\n          }\n        }\n      };\n\n      _proto._updateStackRange = function _updateStackRange(field, scale, dataArray) {\n        var mergeArray = merge(dataArray);\n        var min = scale.min;\n        var max = scale.max;\n\n        for (var i = 0, len = mergeArray.length; i < len; i++) {\n          var obj = mergeArray[i];\n          var tmpMin = Math.min.apply(null, obj[field]);\n          var tmpMax = Math.max.apply(null, obj[field]);\n\n          if (tmpMin < min) {\n            min = tmpMin;\n          }\n\n          if (tmpMax > max) {\n            max = tmpMax;\n          }\n        }\n\n        if (min < scale.min || max > scale.max) {\n          scale.change({\n            min: min,\n            max: max\n          });\n        }\n      };\n\n      _proto._sort = function _sort(mappedArray) {\n        var self = this;\n        var xScale = self.getXScale();\n        var field = xScale.field,\n            type = xScale.type;\n\n        if (type !== 'identity' && xScale.values.length > 1) {\n          each(mappedArray, function (itemArr) {\n            itemArr.sort(function (obj1, obj2) {\n              if (type === 'timeCat') {\n                return toTimeStamp(obj1[FIELD_ORIGIN][field]) - toTimeStamp(obj2[FIELD_ORIGIN][field]);\n              }\n\n              return xScale.translate(obj1[FIELD_ORIGIN][field]) - xScale.translate(obj2[FIELD_ORIGIN][field]);\n            });\n          });\n        }\n\n        self.set('hasSorted', true);\n        self.set('dataArray', mappedArray);\n      };\n\n      _proto.paint = function paint() {\n        var self = this;\n        var dataArray = self.get('mappingData');\n        var mappedArray = [];\n        var shapeFactory = self.getShapeFactory();\n        shapeFactory.setCoord(self.get('coord'));\n\n        self._beforeMapping(dataArray);\n\n        for (var i = 0, len = dataArray.length; i < len; i++) {\n          var data = dataArray[i];\n\n          if (data.length) {\n            var mappedData = self._mapping(data);\n\n            mappedArray.push(mappedData);\n            self.draw(mappedData, shapeFactory);\n          }\n        }\n\n        self.set('dataArray', mappedArray);\n      };\n\n      _proto.getShapeFactory = function getShapeFactory() {\n        var shapeFactory = this.get('shapeFactory');\n\n        if (!shapeFactory) {\n          var shapeType = this.get('shapeType');\n          shapeFactory = Shape$1.getShapeFactory(shapeType);\n          this.set('shapeFactory', shapeFactory);\n        }\n\n        return shapeFactory;\n      };\n\n      _proto._mapping = function _mapping(data) {\n        var self = this;\n        var attrs = self.get('attrs');\n        var yField = self.getYScale().field; // 用来缓存转换的值，减少mapping耗时\n\n        var mappedCache = {};\n        var mappedData = new Array(data.length);\n\n        for (var k in attrs) {\n          if (attrs.hasOwnProperty(k)) {\n            var attr = attrs[k];\n            var names = attr.names;\n            var scales = attr.scales;\n\n            for (var i = 0, len = data.length; i < len; i++) {\n              var record = data[i];\n\n              var mappedRecord = _extends({}, record, mappedData[i]);\n\n              mappedRecord[FIELD_ORIGIN_Y] = record[yField]; // 获取视觉属性对应的value值\n              // 位置的缓存命中率低，还是每次单独计算\n\n              if (attr.type === 'position') {\n                var values = self._getAttrValues(attr, record);\n\n                for (var j = 0, _len = values.length; j < _len; j++) {\n                  var val = values[j];\n                  var name = names[j];\n                  mappedRecord[name] = isArray(val) && val.length === 1 ? val[0] : val;\n                }\n              } else {\n                // 除了position其他都只有一项\n                var _name = names[0];\n                var field = scales[0].field;\n                var value = record[field];\n                var key = \"\" + _name + value;\n                var _values = mappedCache[key];\n\n                if (!_values) {\n                  _values = self._getAttrValues(attr, record);\n                  mappedCache[key] = _values;\n                }\n\n                mappedRecord[_name] = _values[0];\n              } // 设置新数组\n\n\n              mappedData[i] = mappedRecord;\n            }\n          }\n        }\n\n        return mappedData;\n      };\n\n      _proto._getAttrValues = function _getAttrValues(attr, record) {\n        var scales = attr.scales;\n        var params = [];\n\n        for (var i = 0, len = scales.length; i < len; i++) {\n          var scale = scales[i];\n          var field = scale.field;\n\n          if (scale.type === 'identity') {\n            params.push(scale.value);\n          } else {\n            params.push(record[field]);\n          }\n        }\n\n        var values = attr.mapping.apply(attr, params);\n        return values;\n      };\n\n      _proto.getAttrValue = function getAttrValue(attrName, record) {\n        var attr = this.getAttr(attrName);\n        var rst = null;\n\n        if (attr) {\n          var values = this._getAttrValues(attr, record);\n\n          rst = values[0];\n        }\n\n        return rst;\n      };\n\n      _proto._beforeMapping = function _beforeMapping(dataArray) {\n        var self = this;\n\n        if (self.get('generatePoints')) {\n          self._generatePoints(dataArray);\n        }\n      };\n\n      _proto.isInCircle = function isInCircle() {\n        var coord = this.get('coord');\n        return coord && coord.isPolar;\n      };\n\n      _proto.getCallbackCfg = function getCallbackCfg(fields, cfg, origin) {\n        if (!fields) {\n          return cfg;\n        }\n\n        var tmpCfg = {};\n        var params = fields.map(function (field) {\n          return origin[field];\n        });\n        each(cfg, function (v, k) {\n          if (isFunction(v)) {\n            tmpCfg[k] = v.apply(null, params);\n          } else {\n            tmpCfg[k] = v;\n          }\n        });\n        return tmpCfg;\n      };\n\n      _proto.getDrawCfg = function getDrawCfg(obj) {\n        var self = this;\n        var isInCircle = self.isInCircle();\n        var cfg = {\n          origin: obj,\n          x: obj.x,\n          y: obj.y,\n          color: obj.color,\n          size: obj.size,\n          shape: obj.shape,\n          isInCircle: isInCircle,\n          opacity: obj.opacity\n        };\n        var styleOptions = self.get('styleOptions');\n\n        if (styleOptions && styleOptions.style) {\n          cfg.style = self.getCallbackCfg(styleOptions.fields, styleOptions.style, obj[FIELD_ORIGIN]);\n        }\n\n        if (self.get('generatePoints')) {\n          cfg.points = obj.points;\n          cfg.nextPoints = obj.nextPoints;\n        }\n\n        if (isInCircle) {\n          cfg.center = self.get('coord').center;\n        }\n\n        return cfg;\n      };\n\n      _proto.draw = function draw(data, shapeFactory) {\n        var self = this;\n        var container = self.get('container');\n        var yScale = self.getYScale();\n        each(data, function (obj, index) {\n          if (yScale && isNil(obj._origin[yScale.field])) {\n            return;\n          }\n\n          obj.index = index;\n          var cfg = self.getDrawCfg(obj);\n          var shape = obj.shape;\n          self.drawShape(shape, obj, cfg, container, shapeFactory);\n        });\n      };\n\n      _proto.drawShape = function drawShape(shape, shapeData, cfg, container, shapeFactory) {\n        var gShape = shapeFactory.drawShape(shape, cfg, container);\n\n        if (gShape) {\n          each([].concat(gShape), function (s) {\n            s.set('origin', shapeData);\n          });\n        }\n      };\n\n      _proto._generatePoints = function _generatePoints(dataArray) {\n        var self = this;\n        var shapeFactory = self.getShapeFactory();\n        var shapeAttr = self.getAttr('shape');\n        each(dataArray, function (data) {\n          for (var i = 0, len = data.length; i < len; i++) {\n            var obj = data[i];\n            var cfg = self.createShapePointsCfg(obj);\n            var shape = shapeAttr ? self._getAttrValues(shapeAttr, obj) : null;\n            var points = shapeFactory.getShapePoints(shape, cfg);\n            obj.points = points;\n          }\n        }); // 添加nextPoints\n\n        each(dataArray, function (data, index) {\n          var nextData = dataArray[index + 1];\n\n          if (nextData) {\n            data[0].nextPoints = nextData[0].points;\n          }\n        });\n      }\n      /**\n       * get the info of each shape\n       * @protected\n       * @param  {Object} obj the data item\n       * @return {Object} cfg return the result\n       */\n      ;\n\n      _proto.createShapePointsCfg = function createShapePointsCfg(obj) {\n        var xScale = this.getXScale();\n        var yScale = this.getYScale();\n\n        var x = this._normalizeValues(obj[xScale.field], xScale);\n\n        var y;\n\n        if (yScale) {\n          y = this._normalizeValues(obj[yScale.field], yScale);\n        } else {\n          y = obj.y ? obj.y : 0.1;\n        }\n\n        return {\n          x: x,\n          y: y,\n          y0: yScale ? yScale.scale(this.getYMinValue()) : undefined\n        };\n      };\n\n      _proto.getYMinValue = function getYMinValue() {\n        var yScale = this.getYScale();\n        var min = yScale.min,\n            max = yScale.max;\n        var value;\n\n        if (this.get('startOnZero')) {\n          if (max <= 0 && min <= 0) {\n            value = max;\n          } else {\n            value = min >= 0 ? min : 0;\n          }\n        } else {\n          value = min;\n        }\n\n        return value;\n      };\n\n      _proto._normalizeValues = function _normalizeValues(values, scale) {\n        var rst = [];\n\n        if (isArray(values)) {\n          for (var i = 0, len = values.length; i < len; i++) {\n            var v = values[i];\n            rst.push(scale.scale(v));\n          }\n        } else {\n          rst = scale.scale(values);\n        }\n\n        return rst;\n      };\n\n      _proto.getAttr = function getAttr(name) {\n        return this.get('attrs')[name];\n      };\n\n      _proto.getXScale = function getXScale() {\n        return this.getAttr('position').scales[0];\n      };\n\n      _proto.getYScale = function getYScale() {\n        return this.getAttr('position').scales[1];\n      };\n\n      _proto.hasAdjust = function hasAdjust(adjust) {\n        return this.get('adjust') && this.get('adjust').type === adjust;\n      };\n\n      _proto._getSnap = function _getSnap(scale, item, arr) {\n        var i = 0;\n        var values;\n        var yField = this.getYScale().field; // 叠加的维度\n\n        if (this.hasAdjust('stack') && scale.field === yField) {\n          values = [];\n          arr.forEach(function (obj) {\n            values.push(obj[FIELD_ORIGIN_Y]);\n          });\n\n          for (var len = values.length; i < len; i++) {\n            if (values[0][0] > item) {\n              break;\n            }\n\n            if (values[values.length - 1][1] <= item) {\n              i = values.length - 1;\n              break;\n            }\n\n            if (values[i][0] <= item && values[i][1] > item) {\n              break;\n            }\n          }\n        } else {\n          values = scale.values;\n          values.sort(function (a, b) {\n            return a - b;\n          });\n\n          for (var _len2 = values.length; i < _len2; i++) {\n            // 如果只有1个点直接返回第1个点\n            if (_len2 <= 1) {\n              break;\n            } // 第1个点和第2个点之间\n\n\n            if ((values[0] + values[1]) / 2 > item) {\n              break;\n            } // 中间的点\n\n\n            if ((values[i - 1] + values[i]) / 2 <= item && (values[i + 1] + values[i]) / 2 > item) {\n              break;\n            } // 最后2个点\n\n\n            if ((values[values.length - 2] + values[values.length - 1]) / 2 <= item) {\n              i = values.length - 1;\n              break;\n            }\n          }\n        }\n\n        var result = values[i];\n        return result;\n      };\n\n      _proto.getSnapRecords = function getSnapRecords(point) {\n        var self = this;\n        var coord = self.get('coord');\n        var xScale = self.getXScale();\n        var yScale = self.getYScale();\n        var xfield = xScale.field;\n        var dataArray = self.get('dataArray');\n\n        if (!this.get('hasSorted')) {\n          this._sort(dataArray);\n        }\n\n        var rst = [];\n        var invertPoint = coord.invertPoint(point);\n        var invertPointX = invertPoint.x;\n\n        if (self.isInCircle() && !coord.transposed && invertPointX > (1 + xScale.rangeMax()) / 2) {\n          invertPointX = xScale.rangeMin();\n        }\n\n        var xValue = xScale.invert(invertPointX);\n\n        if (!xScale.isCategory) {\n          xValue = self._getSnap(xScale, xValue);\n        }\n\n        var tmp = [];\n        dataArray.forEach(function (data) {\n          data.forEach(function (obj) {\n            var originValue = isNil(obj[FIELD_ORIGIN]) ? obj[xfield] : obj[FIELD_ORIGIN][xfield];\n\n            if (self._isEqual(originValue, xValue, xScale)) {\n              tmp.push(obj);\n            }\n          });\n        }); // special for pie chart\n\n        if (this.hasAdjust('stack') && coord.isPolar && coord.transposed) {\n          if (invertPointX >= 0 && invertPointX <= 1) {\n            var yValue = yScale.invert(invertPoint.y);\n            yValue = self._getSnap(yScale, yValue, tmp);\n            tmp.forEach(function (obj) {\n              if (isArray(yValue) ? obj[FIELD_ORIGIN_Y].toString() === yValue.toString() : obj[FIELD_ORIGIN_Y] === yValue) {\n                rst.push(obj);\n              }\n            });\n          }\n        } else {\n          rst = tmp;\n        }\n\n        return rst;\n      };\n\n      _proto.getRecords = function getRecords(value) {\n        var _this = this;\n\n        var xScale = this.getXScale();\n        var dataArray = this.get('dataArray');\n        var xfield = xScale.field;\n        return dataArray.map(function (data) {\n          for (var len = data.length, i = len - 1; i >= 0; i--) {\n            var obj = data[i];\n            var originValue = isNil(obj[FIELD_ORIGIN]) ? obj[xfield] : obj[FIELD_ORIGIN][xfield];\n\n            if (_this._isEqual(originValue, value, xScale)) {\n              return obj;\n            }\n          }\n\n          return null;\n        });\n      };\n\n      _proto._isEqual = function _isEqual(originValue, value, scale) {\n        if (scale.type === 'timeCat') {\n          return toTimeStamp(originValue) === value;\n        }\n\n        return value === originValue;\n      };\n\n      _proto.position = function position(field) {\n        this._setAttrOptions('position', {\n          field: field\n        });\n\n        return this;\n      };\n\n      _proto.color = function color(field, values) {\n        this._createAttrOption('color', field, values, Global.colors);\n\n        return this;\n      };\n\n      _proto.size = function size(field, values) {\n        this._createAttrOption('size', field, values, Global.sizes);\n\n        return this;\n      };\n\n      _proto.shape = function shape(field, values) {\n        var type = this.get('type');\n        var shapes = Global.shapes[type] || [];\n\n        this._createAttrOption('shape', field, values, shapes);\n\n        return this;\n      };\n\n      _proto.style = function style(field, cfg) {\n        var styleOptions = this.get('styleOptions');\n\n        if (!styleOptions) {\n          styleOptions = {};\n          this.set('styleOptions', styleOptions);\n        }\n\n        if (isObject(field)) {\n          cfg = field;\n          field = null;\n        }\n\n        var fields;\n\n        if (field) {\n          fields = parseFields(field);\n        }\n\n        styleOptions.fields = fields;\n        styleOptions.style = cfg;\n        return this;\n      };\n\n      _proto.adjust = function adjust(type) {\n        if (isString(type)) {\n          type = {\n            type: type\n          };\n        }\n\n        this.set('adjust', type);\n        return this;\n      };\n\n      _proto.animate = function animate(cfg) {\n        this.set('animateCfg', cfg);\n        return this;\n      };\n\n      _proto.changeData = function changeData(data) {\n        this.set('data', data); // 改变数据后，情况度量，因为需要重新实例化\n\n        this.set('scales', {});\n        if (!this.get('isInit')) return;\n        this.set('isInit', false);\n        this.init();\n      };\n\n      _proto.clearInner = function clearInner() {\n        var container = this.get('container');\n\n        if (container) {\n          container.clear(); // container.setMatrix([ 1, 0, 0, 1, 0, 0 ]);\n        }\n      };\n\n      _proto.reset = function reset() {\n        this.set('isInit', false);\n        this.set('attrs', {});\n        this.set('attrOptions', {});\n        this.set('adjust', null);\n        this.clearInner();\n      };\n\n      _proto.clear = function clear() {\n        this.clearInner();\n      };\n\n      _proto.destroy = function destroy() {\n        this.set('isInit', false);\n        this.clear();\n\n        _Base.prototype.destroy.call(this);\n      };\n\n      _proto._display = function _display(visible) {\n        this.set('visible', visible);\n        var container = this.get('container');\n        var canvas = container.get('canvas');\n        container.set('visible', visible);\n        canvas.draw();\n      };\n\n      _proto.show = function show() {\n        this._display(true);\n      };\n\n      _proto.hide = function hide() {\n        this._display(false);\n      };\n\n      return Geom;\n    }(Base);\n\n    var methodCache = {};\n    /**\n     * 获取计算 ticks 的方法\n     * @param key 键值\n     * @returns 计算 ticks 的方法\n     */\n\n    function getTickMethod(key) {\n      return methodCache[key];\n    }\n    /**\n     * 注册计算 ticks 的方法\n     * @param key 键值\n     * @param method 方法\n     */\n\n    function registerTickMethod(key, method) {\n      methodCache[key] = method;\n    }\n\n    var Scale =\n    /** @class */\n    function () {\n      function Scale(cfg) {\n        /**\n         * 度量的类型\n         */\n        this.type = 'base';\n        /**\n         * 是否分类类型的度量\n         */\n\n        this.isCategory = false;\n        /**\n         * 是否线性度量，有linear, time 度量\n         */\n\n        this.isLinear = false;\n        /**\n         * 是否连续类型的度量，linear,time,log, pow, quantile, quantize 都支持\n         */\n\n        this.isContinuous = false;\n        /**\n         * 是否是常量的度量，传入和传出一致\n         */\n\n        this.isIdentity = false;\n        this.values = [];\n        this.range = [0, 1];\n        this.ticks = [];\n        this.__cfg__ = cfg;\n        this.initCfg();\n        this.init();\n      } // 对于原始值的必要转换，如分类、时间字段需转换成数值，用transform/map命名可能更好\n\n\n      Scale.prototype.translate = function (v) {\n        return v;\n      };\n      /** 重新初始化 */\n\n\n      Scale.prototype.change = function (cfg) {\n        // 覆盖配置项，而不替代\n        mix(this.__cfg__, cfg);\n        this.init();\n      };\n\n      Scale.prototype.clone = function () {\n        return this.constructor(this.__cfg__);\n      };\n      /** 获取坐标轴需要的ticks */\n\n\n      Scale.prototype.getTicks = function () {\n        var _this = this;\n\n        return map(this.ticks, function (tick, idx) {\n          if (isObject(tick)) {\n            // 仅当符合Tick类型时才有意义\n            return tick;\n          }\n\n          return {\n            text: _this.getText(tick, idx),\n            tickValue: tick,\n            value: _this.scale(tick)\n          };\n        });\n      };\n      /** 获取Tick的格式化结果 */\n\n\n      Scale.prototype.getText = function (value, key) {\n        var formatter = this.formatter;\n        var res = formatter ? formatter(value, key) : value;\n\n        if (isNil(res) || !isFunction(res.toString)) {\n          return '';\n        }\n\n        return res.toString();\n      }; // 获取配置项中的值，当前 scale 上的值可能会被修改\n\n\n      Scale.prototype.getConfig = function (key) {\n        return this.__cfg__[key];\n      }; // scale初始化\n\n\n      Scale.prototype.init = function () {\n        mix(this, this.__cfg__);\n        this.setDomain();\n\n        if (isEmpty(this.getConfig('ticks'))) {\n          this.ticks = this.calculateTicks();\n        }\n      }; // 子类上覆盖某些属性，不能直接在类上声明，否则会被覆盖\n\n\n      Scale.prototype.initCfg = function () {};\n\n      Scale.prototype.setDomain = function () {};\n\n      Scale.prototype.calculateTicks = function () {\n        var tickMethod = this.tickMethod;\n        var ticks = [];\n\n        if (isString(tickMethod)) {\n          var method = getTickMethod(tickMethod);\n\n          if (!method) {\n            throw new Error('There is no method to to calculate ticks!');\n          }\n\n          ticks = method(this);\n        } else if (isFunction(tickMethod)) {\n          ticks = tickMethod(this);\n        }\n\n        return ticks;\n      }; // range 的最小值\n\n\n      Scale.prototype.rangeMin = function () {\n        return head(this.range);\n      }; // range 的最大值\n\n\n      Scale.prototype.rangeMax = function () {\n        return last(this.range);\n      };\n      /** 定义域转 0~1 */\n\n\n      Scale.prototype.calcPercent = function (value, min, max) {\n        if (isNumber(value)) {\n          return (value - min) / (max - min);\n        }\n\n        return NaN;\n      };\n      /** 0~1转定义域 */\n\n\n      Scale.prototype.calcValue = function (percent, min, max) {\n        return min + percent * (max - min);\n      };\n\n      return Scale;\n    }();\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation.\r\n\r\n    Permission to use, copy, modify, and/or distribute this software for any\r\n    purpose with or without fee is hereby granted.\r\n\r\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n    PERFORMANCE OF THIS SOFTWARE.\r\n    ***************************************************************************** */\n\n    /* global Reflect, Promise */\n    var extendStatics = function (d, b) {\n      extendStatics = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n      } || function (d, b) {\n        for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n      };\n\n      return extendStatics(d, b);\n    };\n\n    function __extends(d, b) {\n      extendStatics(d, b);\n\n      function __() {\n        this.constructor = d;\n      }\n\n      d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    }\n    function __spreadArrays() {\n      for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n      for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n      return r;\n    }\n\n    /**\n     * 分类度量\n     * @class\n     */\n\n    var Category =\n    /** @class */\n    function (_super) {\n      __extends(Category, _super);\n\n      function Category() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.type = 'cat';\n        _this.isCategory = true;\n        return _this;\n      }\n\n      Category.prototype.translate = function (value) {\n        var index = indexOf(this.values, value);\n\n        if (index === -1) {\n          return isNumber(value) ? value : NaN;\n        }\n\n        return index;\n      };\n\n      Category.prototype.scale = function (value) {\n        var order = this.translate(value); // 分类数据允许 0.5 范围内调整\n        // if (order < this.min - 0.5 || order > this.max + 0.5) {\n        //   return NaN;\n        // }\n\n        var percent = this.calcPercent(order, this.min, this.max);\n        return this.calcValue(percent, this.rangeMin(), this.rangeMax());\n      };\n\n      Category.prototype.invert = function (scaledValue) {\n        var domainRange = this.max - this.min;\n        var percent = this.calcPercent(scaledValue, this.rangeMin(), this.rangeMax());\n        var idx = Math.round(domainRange * percent) + this.min;\n\n        if (idx < this.min || idx > this.max) {\n          return NaN;\n        }\n\n        return this.values[idx];\n      };\n\n      Category.prototype.getText = function (value) {\n        var args = [];\n\n        for (var _i = 1; _i < arguments.length; _i++) {\n          args[_i - 1] = arguments[_i];\n        }\n\n        var v = value; // value为index\n\n        if (isNumber(value) && !this.values.includes(value)) {\n          v = this.values[v];\n        }\n\n        return _super.prototype.getText.apply(this, __spreadArrays([v], args));\n      }; // 复写属性\n\n\n      Category.prototype.initCfg = function () {\n        this.tickMethod = 'cat';\n      }; // 设置 min, max\n\n\n      Category.prototype.setDomain = function () {\n        // 用户有可能设置 min\n        if (isNil(this.getConfig('min'))) {\n          this.min = 0;\n        }\n\n        if (isNil(this.getConfig('max'))) {\n          var size = this.values.length;\n          this.max = size > 1 ? size - 1 : size;\n        }\n      };\n\n      return Category;\n    }(Scale);\n\n    var token = /d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g;\n    var twoDigitsOptional = \"[1-9]\\\\d?\";\n    var twoDigits = \"\\\\d\\\\d\";\n    var threeDigits = \"\\\\d{3}\";\n    var fourDigits = \"\\\\d{4}\";\n    var word = \"[^\\\\s]+\";\n    var literal = /\\[([^]*?)\\]/gm;\n\n    function shorten(arr, sLen) {\n      var newArr = [];\n\n      for (var i = 0, len = arr.length; i < len; i++) {\n        newArr.push(arr[i].substr(0, sLen));\n      }\n\n      return newArr;\n    }\n\n    var monthUpdate = function (arrName) {\n      return function (v, i18n) {\n        var lowerCaseArr = i18n[arrName].map(function (v) {\n          return v.toLowerCase();\n        });\n        var index = lowerCaseArr.indexOf(v.toLowerCase());\n\n        if (index > -1) {\n          return index;\n        }\n\n        return null;\n      };\n    };\n\n    function assign(origObj) {\n      var args = [];\n\n      for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n      }\n\n      for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\n        var obj = args_1[_a];\n\n        for (var key in obj) {\n          // @ts-ignore ex\n          origObj[key] = obj[key];\n        }\n      }\n\n      return origObj;\n    }\n\n    var dayNames = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n    var monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n    var monthNamesShort = shorten(monthNames, 3);\n    var dayNamesShort = shorten(dayNames, 3);\n    var defaultI18n = {\n      dayNamesShort: dayNamesShort,\n      dayNames: dayNames,\n      monthNamesShort: monthNamesShort,\n      monthNames: monthNames,\n      amPm: [\"am\", \"pm\"],\n      DoFn: function (dayOfMonth) {\n        return dayOfMonth + [\"th\", \"st\", \"nd\", \"rd\"][dayOfMonth % 10 > 3 ? 0 : (dayOfMonth - dayOfMonth % 10 !== 10 ? 1 : 0) * dayOfMonth % 10];\n      }\n    };\n    var globalI18n = assign({}, defaultI18n);\n\n    var setGlobalDateI18n = function (i18n) {\n      return globalI18n = assign(globalI18n, i18n);\n    };\n\n    var regexEscape = function (str) {\n      return str.replace(/[|\\\\{()[^$+*?.-]/g, \"\\\\$&\");\n    };\n\n    var pad = function (val, len) {\n      if (len === void 0) {\n        len = 2;\n      }\n\n      val = String(val);\n\n      while (val.length < len) {\n        val = \"0\" + val;\n      }\n\n      return val;\n    };\n\n    var formatFlags = {\n      D: function (dateObj) {\n        return String(dateObj.getDate());\n      },\n      DD: function (dateObj) {\n        return pad(dateObj.getDate());\n      },\n      Do: function (dateObj, i18n) {\n        return i18n.DoFn(dateObj.getDate());\n      },\n      d: function (dateObj) {\n        return String(dateObj.getDay());\n      },\n      dd: function (dateObj) {\n        return pad(dateObj.getDay());\n      },\n      ddd: function (dateObj, i18n) {\n        return i18n.dayNamesShort[dateObj.getDay()];\n      },\n      dddd: function (dateObj, i18n) {\n        return i18n.dayNames[dateObj.getDay()];\n      },\n      M: function (dateObj) {\n        return String(dateObj.getMonth() + 1);\n      },\n      MM: function (dateObj) {\n        return pad(dateObj.getMonth() + 1);\n      },\n      MMM: function (dateObj, i18n) {\n        return i18n.monthNamesShort[dateObj.getMonth()];\n      },\n      MMMM: function (dateObj, i18n) {\n        return i18n.monthNames[dateObj.getMonth()];\n      },\n      YY: function (dateObj) {\n        return pad(String(dateObj.getFullYear()), 4).substr(2);\n      },\n      YYYY: function (dateObj) {\n        return pad(dateObj.getFullYear(), 4);\n      },\n      h: function (dateObj) {\n        return String(dateObj.getHours() % 12 || 12);\n      },\n      hh: function (dateObj) {\n        return pad(dateObj.getHours() % 12 || 12);\n      },\n      H: function (dateObj) {\n        return String(dateObj.getHours());\n      },\n      HH: function (dateObj) {\n        return pad(dateObj.getHours());\n      },\n      m: function (dateObj) {\n        return String(dateObj.getMinutes());\n      },\n      mm: function (dateObj) {\n        return pad(dateObj.getMinutes());\n      },\n      s: function (dateObj) {\n        return String(dateObj.getSeconds());\n      },\n      ss: function (dateObj) {\n        return pad(dateObj.getSeconds());\n      },\n      S: function (dateObj) {\n        return String(Math.round(dateObj.getMilliseconds() / 100));\n      },\n      SS: function (dateObj) {\n        return pad(Math.round(dateObj.getMilliseconds() / 10), 2);\n      },\n      SSS: function (dateObj) {\n        return pad(dateObj.getMilliseconds(), 3);\n      },\n      a: function (dateObj, i18n) {\n        return dateObj.getHours() < 12 ? i18n.amPm[0] : i18n.amPm[1];\n      },\n      A: function (dateObj, i18n) {\n        return dateObj.getHours() < 12 ? i18n.amPm[0].toUpperCase() : i18n.amPm[1].toUpperCase();\n      },\n      ZZ: function (dateObj) {\n        var offset = dateObj.getTimezoneOffset();\n        return (offset > 0 ? \"-\" : \"+\") + pad(Math.floor(Math.abs(offset) / 60) * 100 + Math.abs(offset) % 60, 4);\n      },\n      Z: function (dateObj) {\n        var offset = dateObj.getTimezoneOffset();\n        return (offset > 0 ? \"-\" : \"+\") + pad(Math.floor(Math.abs(offset) / 60), 2) + \":\" + pad(Math.abs(offset) % 60, 2);\n      }\n    };\n\n    var monthParse = function (v) {\n      return +v - 1;\n    };\n\n    var emptyDigits = [null, twoDigitsOptional];\n    var emptyWord = [null, word];\n    var amPm = [\"isPm\", word, function (v, i18n) {\n      var val = v.toLowerCase();\n\n      if (val === i18n.amPm[0]) {\n        return 0;\n      } else if (val === i18n.amPm[1]) {\n        return 1;\n      }\n\n      return null;\n    }];\n    var timezoneOffset = [\"timezoneOffset\", \"[^\\\\s]*?[\\\\+\\\\-]\\\\d\\\\d:?\\\\d\\\\d|[^\\\\s]*?Z?\", function (v) {\n      var parts = (v + \"\").match(/([+-]|\\d\\d)/gi);\n\n      if (parts) {\n        var minutes = +parts[1] * 60 + parseInt(parts[2], 10);\n        return parts[0] === \"+\" ? minutes : -minutes;\n      }\n\n      return 0;\n    }];\n    var parseFlags = {\n      D: [\"day\", twoDigitsOptional],\n      DD: [\"day\", twoDigits],\n      Do: [\"day\", twoDigitsOptional + word, function (v) {\n        return parseInt(v, 10);\n      }],\n      M: [\"month\", twoDigitsOptional, monthParse],\n      MM: [\"month\", twoDigits, monthParse],\n      YY: [\"year\", twoDigits, function (v) {\n        var now = new Date();\n        var cent = +(\"\" + now.getFullYear()).substr(0, 2);\n        return +(\"\" + (+v > 68 ? cent - 1 : cent) + v);\n      }],\n      h: [\"hour\", twoDigitsOptional, undefined, \"isPm\"],\n      hh: [\"hour\", twoDigits, undefined, \"isPm\"],\n      H: [\"hour\", twoDigitsOptional],\n      HH: [\"hour\", twoDigits],\n      m: [\"minute\", twoDigitsOptional],\n      mm: [\"minute\", twoDigits],\n      s: [\"second\", twoDigitsOptional],\n      ss: [\"second\", twoDigits],\n      YYYY: [\"year\", fourDigits],\n      S: [\"millisecond\", \"\\\\d\", function (v) {\n        return +v * 100;\n      }],\n      SS: [\"millisecond\", twoDigits, function (v) {\n        return +v * 10;\n      }],\n      SSS: [\"millisecond\", threeDigits],\n      d: emptyDigits,\n      dd: emptyDigits,\n      ddd: emptyWord,\n      dddd: emptyWord,\n      MMM: [\"month\", word, monthUpdate(\"monthNamesShort\")],\n      MMMM: [\"month\", word, monthUpdate(\"monthNames\")],\n      a: amPm,\n      A: amPm,\n      ZZ: timezoneOffset,\n      Z: timezoneOffset\n    }; // Some common format strings\n\n    var globalMasks = {\n      default: \"ddd MMM DD YYYY HH:mm:ss\",\n      shortDate: \"M/D/YY\",\n      mediumDate: \"MMM D, YYYY\",\n      longDate: \"MMMM D, YYYY\",\n      fullDate: \"dddd, MMMM D, YYYY\",\n      isoDate: \"YYYY-MM-DD\",\n      isoDateTime: \"YYYY-MM-DDTHH:mm:ssZ\",\n      shortTime: \"HH:mm\",\n      mediumTime: \"HH:mm:ss\",\n      longTime: \"HH:mm:ss.SSS\"\n    };\n\n    var setGlobalDateMasks = function (masks) {\n      return assign(globalMasks, masks);\n    };\n    /***\n     * Format a date\n     * @method format\n     * @param {Date|number} dateObj\n     * @param {string} mask Format of the date, i.e. 'mm-dd-yy' or 'shortDate'\n     * @returns {string} Formatted date string\n     */\n\n\n    var format = function (dateObj, mask, i18n) {\n      if (mask === void 0) {\n        mask = globalMasks[\"default\"];\n      }\n\n      if (i18n === void 0) {\n        i18n = {};\n      }\n\n      if (typeof dateObj === \"number\") {\n        dateObj = new Date(dateObj);\n      }\n\n      if (Object.prototype.toString.call(dateObj) !== \"[object Date]\" || isNaN(dateObj.getTime())) {\n        throw new Error(\"Invalid Date pass to format\");\n      }\n\n      mask = globalMasks[mask] || mask;\n      var literals = []; // Make literals inactive by replacing them with @@@\n\n      mask = mask.replace(literal, function ($0, $1) {\n        literals.push($1);\n        return \"@@@\";\n      });\n      var combinedI18nSettings = assign(assign({}, globalI18n), i18n); // Apply formatting rules\n\n      mask = mask.replace(token, function ($0) {\n        return formatFlags[$0](dateObj, combinedI18nSettings);\n      }); // Inline literal values back into the formatted value\n\n      return mask.replace(/@@@/g, function () {\n        return literals.shift();\n      });\n    };\n    /**\n     * Parse a date string into a Javascript Date object /\n     * @method parse\n     * @param {string} dateStr Date string\n     * @param {string} format Date parse format\n     * @param {i18n} I18nSettingsOptional Full or subset of I18N settings\n     * @returns {Date|null} Returns Date object. Returns null what date string is invalid or doesn't match format\n     */\n\n\n    function parse(dateStr, format, i18n) {\n      if (i18n === void 0) {\n        i18n = {};\n      }\n\n      if (typeof format !== \"string\") {\n        throw new Error(\"Invalid format in fecha parse\");\n      } // Check to see if the format is actually a mask\n\n\n      format = globalMasks[format] || format; // Avoid regular expression denial of service, fail early for really long strings\n      // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS\n\n      if (dateStr.length > 1000) {\n        return null;\n      } // Default to the beginning of the year.\n\n\n      var today = new Date();\n      var dateInfo = {\n        year: today.getFullYear(),\n        month: 0,\n        day: 1,\n        hour: 0,\n        minute: 0,\n        second: 0,\n        millisecond: 0,\n        isPm: null,\n        timezoneOffset: null\n      };\n      var parseInfo = [];\n      var literals = []; // Replace all the literals with @@@. Hopefully a string that won't exist in the format\n\n      var newFormat = format.replace(literal, function ($0, $1) {\n        literals.push(regexEscape($1));\n        return \"@@@\";\n      });\n      var specifiedFields = {};\n      var requiredFields = {}; // Change every token that we find into the correct regex\n\n      newFormat = regexEscape(newFormat).replace(token, function ($0) {\n        var info = parseFlags[$0];\n        var field = info[0],\n            regex = info[1],\n            requiredField = info[3]; // Check if the person has specified the same field twice. This will lead to confusing results.\n\n        if (specifiedFields[field]) {\n          throw new Error(\"Invalid format. \" + field + \" specified twice in format\");\n        }\n\n        specifiedFields[field] = true; // Check if there are any required fields. For instance, 12 hour time requires AM/PM specified\n\n        if (requiredField) {\n          requiredFields[requiredField] = true;\n        }\n\n        parseInfo.push(info);\n        return \"(\" + regex + \")\";\n      }); // Check all the required fields are present\n\n      Object.keys(requiredFields).forEach(function (field) {\n        if (!specifiedFields[field]) {\n          throw new Error(\"Invalid format. \" + field + \" is required in specified format\");\n        }\n      }); // Add back all the literals after\n\n      newFormat = newFormat.replace(/@@@/g, function () {\n        return literals.shift();\n      }); // Check if the date string matches the format. If it doesn't return null\n\n      var matches = dateStr.match(new RegExp(newFormat, \"i\"));\n\n      if (!matches) {\n        return null;\n      }\n\n      var combinedI18nSettings = assign(assign({}, globalI18n), i18n); // For each match, call the parser function for that date part\n\n      for (var i = 1; i < matches.length; i++) {\n        var _a = parseInfo[i - 1],\n            field = _a[0],\n            parser = _a[2];\n        var value = parser ? parser(matches[i], combinedI18nSettings) : +matches[i]; // If the parser can't make sense of the value, return null\n\n        if (value == null) {\n          return null;\n        }\n\n        dateInfo[field] = value;\n      }\n\n      if (dateInfo.isPm === 1 && dateInfo.hour != null && +dateInfo.hour !== 12) {\n        dateInfo.hour = +dateInfo.hour + 12;\n      } else if (dateInfo.isPm === 0 && +dateInfo.hour === 12) {\n        dateInfo.hour = 0;\n      }\n\n      var dateWithoutTZ = new Date(dateInfo.year, dateInfo.month, dateInfo.day, dateInfo.hour, dateInfo.minute, dateInfo.second, dateInfo.millisecond);\n      var validateFields = [[\"month\", \"getMonth\"], [\"day\", \"getDate\"], [\"hour\", \"getHours\"], [\"minute\", \"getMinutes\"], [\"second\", \"getSeconds\"]];\n\n      for (var i = 0, len = validateFields.length; i < len; i++) {\n        // Check to make sure the date field is within the allowed range. Javascript dates allows values\n        // outside the allowed range. If the values don't match the value was invalid\n        if (specifiedFields[validateFields[i][0]] && dateInfo[validateFields[i][0]] !== dateWithoutTZ[validateFields[i][1]]()) {\n          return null;\n        }\n      }\n\n      if (dateInfo.timezoneOffset == null) {\n        return dateWithoutTZ;\n      }\n\n      return new Date(Date.UTC(dateInfo.year, dateInfo.month, dateInfo.day, dateInfo.hour, dateInfo.minute - dateInfo.timezoneOffset, dateInfo.second, dateInfo.millisecond));\n    }\n\n    var fecha = {\n      format: format,\n      parse: parse,\n      defaultI18n: defaultI18n,\n      setGlobalDateI18n: setGlobalDateI18n,\n      setGlobalDateMasks: setGlobalDateMasks\n    };\n\n    var fecha1 = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        'default': fecha,\n        assign: assign,\n        format: format,\n        parse: parse,\n        defaultI18n: defaultI18n,\n        setGlobalDateI18n: setGlobalDateI18n,\n        setGlobalDateMasks: setGlobalDateMasks\n    });\n\n    /**\n     * 二分右侧查找\n     * https://github.com/d3/d3-array/blob/master/src/bisector.js\n     */\n\n    function bisector (getter) {\n      /**\n       * x: 目标值\n       * lo: 起始位置\n       * hi: 结束位置\n       */\n      return function (a, x, _lo, _hi) {\n        var lo = isNil(_lo) ? 0 : _lo;\n        var hi = isNil(_hi) ? a.length : _hi;\n\n        while (lo < hi) {\n          var mid = lo + hi >>> 1;\n\n          if (getter(a[mid]) > x) {\n            hi = mid;\n          } else {\n            lo = mid + 1;\n          }\n        }\n\n        return lo;\n      };\n    }\n\n    var FORMAT_METHOD = 'format';\n    function timeFormat(time, mask) {\n      var method = fecha1[FORMAT_METHOD] || fecha[FORMAT_METHOD];\n      return method(time, mask);\n    }\n    /**\n     * 转换成时间戳\n     * @param value 时间值\n     */\n\n    function toTimeStamp$1(value) {\n      if (isString(value)) {\n        if (value.indexOf('T') > 0) {\n          value = new Date(value).getTime();\n        } else {\n          // new Date('2010/01/10') 和 new Date('2010-01-10') 的差别在于:\n          // 如果仅有年月日时，前者是带有时区的: Fri Jan 10 2020 02:40:13 GMT+0800 (中国标准时间)\n          // 后者会格式化成 Sun Jan 10 2010 08:00:00 GMT+0800 (中国标准时间)\n          value = new Date(value.replace(/-/gi, '/')).getTime();\n        }\n      }\n\n      if (isDate(value)) {\n        value = value.getTime();\n      }\n\n      return value;\n    }\n    var SECOND = 1000;\n    var MINUTE = 60 * SECOND;\n    var HOUR = 60 * MINUTE;\n    var DAY = 24 * HOUR;\n    var MONTH = DAY * 31;\n    var YEAR = DAY * 365;\n    var intervals = [['HH:mm:ss', SECOND], ['HH:mm:ss', SECOND * 10], ['HH:mm:ss', SECOND * 30], ['HH:mm', MINUTE], ['HH:mm', MINUTE * 10], ['HH:mm', MINUTE * 30], ['HH', HOUR], ['HH', HOUR * 6], ['HH', HOUR * 12], ['YYYY-MM-DD', DAY], ['YYYY-MM-DD', DAY * 4], ['YYYY-WW', DAY * 7], ['YYYY-MM', MONTH], ['YYYY-MM', MONTH * 4], ['YYYY-MM', MONTH * 6], ['YYYY', DAY * 380]];\n    function getTickInterval(min, max, tickCount) {\n      var target = (max - min) / tickCount;\n      var idx = bisector(function (o) {\n        return o[1];\n      })(intervals, target) - 1;\n      var interval = intervals[idx];\n\n      if (idx < 0) {\n        interval = intervals[0];\n      } else if (idx >= intervals.length) {\n        interval = last(intervals);\n      }\n\n      return interval;\n    }\n\n    /**\n     * 时间分类度量\n     * @class\n     */\n\n    var TimeCat =\n    /** @class */\n    function (_super) {\n      __extends(TimeCat, _super);\n\n      function TimeCat() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.type = 'timeCat';\n        return _this;\n      }\n      /**\n       * @override\n       */\n\n\n      TimeCat.prototype.translate = function (value) {\n        value = toTimeStamp$1(value);\n        var index = this.values.indexOf(value);\n\n        if (index === -1) {\n          if (isNumber(value) && value < this.values.length) {\n            index = value;\n          } else {\n            index = NaN;\n          }\n        }\n\n        return index;\n      };\n      /**\n       * 由于时间类型数据需要转换一下，所以复写 getText\n       * @override\n       */\n\n\n      TimeCat.prototype.getText = function (value, tickIndex) {\n        var index = this.translate(value);\n\n        if (index > -1) {\n          var result = this.values[index];\n          var formatter = this.formatter;\n          result = formatter ? formatter(result, tickIndex) : timeFormat(result, this.mask);\n          return result;\n        }\n\n        return value;\n      };\n\n      TimeCat.prototype.initCfg = function () {\n        this.tickMethod = 'time-cat';\n        this.mask = 'YYYY-MM-DD';\n        this.tickCount = 7; // 一般时间数据会显示 7， 14， 30 天的数字\n      };\n\n      TimeCat.prototype.setDomain = function () {\n        var values = this.values; // 针对时间分类类型，会将时间统一转换为时间戳\n\n        each(values, function (v, i) {\n          values[i] = toTimeStamp$1(v);\n        });\n        values.sort(function (v1, v2) {\n          return v1 - v2;\n        });\n\n        _super.prototype.setDomain.call(this);\n      };\n\n      return TimeCat;\n    }(Category);\n\n    /**\n     * 连续度量的基类\n     * @class\n     */\n\n    var Continuous =\n    /** @class */\n    function (_super) {\n      __extends(Continuous, _super);\n\n      function Continuous() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.isContinuous = true;\n        return _this;\n      }\n\n      Continuous.prototype.scale = function (value) {\n        if (isNil(value)) {\n          return NaN;\n        }\n\n        var rangeMin = this.rangeMin();\n        var rangeMax = this.rangeMax();\n        var max = this.max;\n        var min = this.min;\n\n        if (max === min) {\n          return rangeMin;\n        }\n\n        var percent = this.getScalePercent(value);\n        return rangeMin + percent * (rangeMax - rangeMin);\n      };\n\n      Continuous.prototype.init = function () {\n        _super.prototype.init.call(this); // init 完成后保证 min, max 包含 ticks 的范围\n\n\n        var ticks = this.ticks;\n        var firstTick = head(ticks);\n        var lastTick = last(ticks);\n\n        if (firstTick < this.min) {\n          this.min = firstTick;\n        }\n\n        if (lastTick > this.max) {\n          this.max = lastTick;\n        } // strict-limit 方式\n\n\n        if (!isNil(this.minLimit)) {\n          this.min = firstTick;\n        }\n\n        if (!isNil(this.maxLimit)) {\n          this.max = lastTick;\n        }\n      };\n\n      Continuous.prototype.setDomain = function () {\n        var _a = getRange(this.values),\n            min = _a.min,\n            max = _a.max;\n\n        if (isNil(this.min)) {\n          this.min = min;\n        }\n\n        if (isNil(this.max)) {\n          this.max = max;\n        }\n\n        if (this.min > this.max) {\n          this.min = min;\n          this.max = max;\n        }\n      };\n\n      Continuous.prototype.calculateTicks = function () {\n        var _this = this;\n\n        var ticks = _super.prototype.calculateTicks.call(this);\n\n        if (!this.nice) {\n          ticks = filter(ticks, function (tick) {\n            return tick >= _this.min && tick <= _this.max;\n          });\n        }\n\n        return ticks;\n      }; // 计算原始值值占的百分比\n\n\n      Continuous.prototype.getScalePercent = function (value) {\n        var max = this.max;\n        var min = this.min;\n        return (value - min) / (max - min);\n      };\n\n      Continuous.prototype.getInvertPercent = function (value) {\n        return (value - this.rangeMin()) / (this.rangeMax() - this.rangeMin());\n      };\n\n      return Continuous;\n    }(Scale);\n\n    /**\n     * 线性度量\n     * @class\n     */\n\n    var Linear =\n    /** @class */\n    function (_super) {\n      __extends(Linear, _super);\n\n      function Linear() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.type = 'linear';\n        _this.isLinear = true;\n        return _this;\n      }\n\n      Linear.prototype.invert = function (value) {\n        var percent = this.getInvertPercent(value);\n        return this.min + percent * (this.max - this.min);\n      };\n\n      Linear.prototype.initCfg = function () {\n        this.tickMethod = 'wilkinson-extended';\n        this.nice = false;\n      };\n\n      return Linear;\n    }(Continuous);\n\n    // 虽然数学上 b 不支持负数，但是这里需要支持 负数\n\n    function calBase(a, b) {\n      var e = Math.E;\n      var value;\n\n      if (b >= 0) {\n        value = Math.pow(e, Math.log(b) / a); // 使用换底公式求底\n      } else {\n        value = Math.pow(e, Math.log(-b) / a) * -1; // 使用换底公式求底\n      }\n\n      return value;\n    }\n    function log(a, b) {\n      if (a === 1) {\n        return 1;\n      }\n\n      return Math.log(b) / Math.log(a);\n    }\n    function getLogPositiveMin(values, base, max) {\n      if (isNil(max)) {\n        max = Math.max.apply(null, values);\n      }\n\n      var positiveMin = max;\n      each(values, function (value) {\n        if (value > 0 && value < positiveMin) {\n          positiveMin = value;\n        }\n      });\n\n      if (positiveMin === max) {\n        positiveMin = max / base;\n      }\n\n      if (positiveMin > 1) {\n        positiveMin = 1;\n      }\n\n      return positiveMin;\n    }\n\n    /**\n     * Log 度量，处理非均匀分布\n     */\n\n    var Log =\n    /** @class */\n    function (_super) {\n      __extends(Log, _super);\n\n      function Log() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.type = 'log';\n        return _this;\n      }\n      /**\n       * @override\n       */\n\n\n      Log.prototype.invert = function (value) {\n        var base = this.base;\n        var max = log(base, this.max);\n        var rangeMin = this.rangeMin();\n        var range = this.rangeMax() - rangeMin;\n        var min;\n        var positiveMin = this.positiveMin;\n\n        if (positiveMin) {\n          if (value === 0) {\n            return 0;\n          }\n\n          min = log(base, positiveMin / base);\n          var appendPercent = 1 / (max - min) * range; // 0 到 positiveMin的占比\n\n          if (value < appendPercent) {\n            // 落到 0 - positiveMin 之间\n            return value / appendPercent * positiveMin;\n          }\n        } else {\n          min = log(base, this.min);\n        }\n\n        var percent = (value - rangeMin) / range;\n        var tmp = percent * (max - min) + min;\n        return Math.pow(base, tmp);\n      };\n\n      Log.prototype.initCfg = function () {\n        this.tickMethod = 'log';\n        this.base = 10;\n        this.tickCount = 6;\n        this.nice = true;\n      }; // 设置\n\n\n      Log.prototype.setDomain = function () {\n        _super.prototype.setDomain.call(this);\n\n        var min = this.min;\n\n        if (min < 0) {\n          throw new Error('When you use log scale, the minimum value must be greater than zero!');\n        }\n\n        if (min === 0) {\n          this.positiveMin = getLogPositiveMin(this.values, this.base, this.max);\n        }\n      }; // 根据当前值获取占比\n\n\n      Log.prototype.getScalePercent = function (value) {\n        var max = this.max;\n        var min = this.min;\n\n        if (max === min) {\n          return 0;\n        } // 如果值小于等于0，则按照0处理\n\n\n        if (value <= 0) {\n          return 0;\n        }\n\n        var base = this.base;\n        var positiveMin = this.positiveMin; // 如果min == 0, 则根据比0大的最小值，计算比例关系。这个最小值作为坐标轴上的第二个tick，第一个是0但是不显示\n\n        if (positiveMin) {\n          min = positiveMin * 1 / base;\n        }\n\n        var percent; // 如果数值小于次小值，那么就计算 value / 次小值 占整体的比例\n\n        if (value < positiveMin) {\n          percent = value / positiveMin / (log(base, max) - log(base, min));\n        } else {\n          percent = (log(base, value) - log(base, min)) / (log(base, max) - log(base, min));\n        }\n\n        return percent;\n      };\n\n      return Log;\n    }(Continuous);\n\n    /**\n     * Pow 度量，处理非均匀分布\n     */\n\n    var Pow =\n    /** @class */\n    function (_super) {\n      __extends(Pow, _super);\n\n      function Pow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.type = 'pow';\n        return _this;\n      }\n      /**\n       * @override\n       */\n\n\n      Pow.prototype.invert = function (value) {\n        var percent = this.getInvertPercent(value);\n        var exponent = this.exponent;\n        var max = calBase(exponent, this.max);\n        var min = calBase(exponent, this.min);\n        var tmp = percent * (max - min) + min;\n        var factor = tmp >= 0 ? 1 : -1;\n        return Math.pow(tmp, exponent) * factor;\n      };\n\n      Pow.prototype.initCfg = function () {\n        this.tickMethod = 'pow';\n        this.exponent = 2;\n        this.tickCount = 5;\n        this.nice = true;\n      }; // 获取度量计算时，value占的定义域百分比\n\n\n      Pow.prototype.getScalePercent = function (value) {\n        var max = this.max;\n        var min = this.min;\n\n        if (max === min) {\n          return 0;\n        }\n\n        var exponent = this.exponent;\n        var percent = (calBase(exponent, value) - calBase(exponent, min)) / (calBase(exponent, max) - calBase(exponent, min));\n        return percent;\n      };\n\n      return Pow;\n    }(Continuous);\n\n    /**\n     * 时间度量\n     * @class\n     */\n\n    var Time =\n    /** @class */\n    function (_super) {\n      __extends(Time, _super);\n\n      function Time() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.type = 'time';\n        return _this;\n      }\n      /**\n       * @override\n       */\n\n\n      Time.prototype.getText = function (value, index) {\n        var numberValue = this.translate(value);\n        var formatter = this.formatter;\n        return formatter ? formatter(numberValue, index) : timeFormat(numberValue, this.mask);\n      };\n      /**\n       * @override\n       */\n\n\n      Time.prototype.scale = function (value) {\n        var v = value;\n\n        if (isString(v) || isDate(v)) {\n          v = this.translate(v);\n        }\n\n        return _super.prototype.scale.call(this, v);\n      };\n      /**\n       * 将时间转换成数字\n       * @override\n       */\n\n\n      Time.prototype.translate = function (v) {\n        return toTimeStamp$1(v);\n      };\n\n      Time.prototype.initCfg = function () {\n        this.tickMethod = 'time-pretty';\n        this.mask = 'YYYY-MM-DD';\n        this.tickCount = 7;\n        this.nice = false;\n      };\n\n      Time.prototype.setDomain = function () {\n        var values = this.values; // 是否设置了 min, max，而不是直接取 this.min, this.max\n\n        var minConfig = this.getConfig('min');\n        var maxConfig = this.getConfig('max'); // 如果设置了 min,max 则转换成时间戳\n\n        if (!isNil(minConfig) || !isNumber(minConfig)) {\n          this.min = this.translate(this.min);\n        }\n\n        if (!isNil(maxConfig) || !isNumber(maxConfig)) {\n          this.max = this.translate(this.max);\n        } // 没有设置 min, max 时\n\n\n        if (values && values.length) {\n          // 重新计算最大最小值\n          var timeStamps_1 = [];\n          var min_1 = Infinity; // 最小值\n\n          var secondMin_1 = min_1; // 次小值\n\n          var max_1 = 0; // 使用一个循环，计算min,max,secondMin\n\n          each(values, function (v) {\n            var timeStamp = toTimeStamp$1(v);\n\n            if (isNaN(timeStamp)) {\n              throw new TypeError(\"Invalid Time: \" + v + \" in time scale!\");\n            }\n\n            if (min_1 > timeStamp) {\n              secondMin_1 = min_1;\n              min_1 = timeStamp;\n            } else if (secondMin_1 > timeStamp) {\n              secondMin_1 = timeStamp;\n            }\n\n            if (max_1 < timeStamp) {\n              max_1 = timeStamp;\n            }\n\n            timeStamps_1.push(timeStamp);\n          }); // 存在多个值时，设置最小间距\n\n          if (values.length > 1) {\n            this.minTickInterval = secondMin_1 - min_1;\n          }\n\n          if (isNil(minConfig)) {\n            this.min = min_1;\n          }\n\n          if (isNil(maxConfig)) {\n            this.max = max_1;\n          }\n        }\n      };\n\n      return Time;\n    }(Linear);\n\n    /**\n     * 分段度量\n     */\n\n    var Quantize =\n    /** @class */\n    function (_super) {\n      __extends(Quantize, _super);\n\n      function Quantize() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.type = 'quantize';\n        return _this;\n      }\n\n      Quantize.prototype.invert = function (value) {\n        var ticks = this.ticks;\n        var length = ticks.length;\n        var percent = this.getInvertPercent(value);\n        var minIndex = Math.floor(percent * (length - 1)); // 最后一个\n\n        if (minIndex >= length - 1) {\n          return last(ticks);\n        } // 超出左边界， 则取第一个\n\n\n        if (minIndex < 0) {\n          return head(ticks);\n        }\n\n        var minTick = ticks[minIndex];\n        var nextTick = ticks[minIndex + 1]; // 比当前值小的 tick 在度量上的占比\n\n        var minIndexPercent = minIndex / (length - 1);\n        var maxIndexPercent = (minIndex + 1) / (length - 1);\n        return minTick + (percent - minIndexPercent) / (maxIndexPercent - minIndexPercent) * (nextTick - minTick);\n      };\n\n      Quantize.prototype.initCfg = function () {\n        this.tickMethod = 'r-pretty';\n        this.tickCount = 5;\n        this.nice = true;\n      };\n\n      Quantize.prototype.calculateTicks = function () {\n        var ticks = _super.prototype.calculateTicks.call(this);\n\n        if (!this.nice) {\n          // 如果 nice = false ,补充 min, max\n          if (last(ticks) !== this.max) {\n            ticks.push(this.max);\n          }\n\n          if (head(ticks) !== this.min) {\n            ticks.unshift(this.min);\n          }\n        }\n\n        return ticks;\n      }; // 计算当前值在刻度中的占比\n\n\n      Quantize.prototype.getScalePercent = function (value) {\n        var ticks = this.ticks; // 超出左边界\n\n        if (value < head(ticks)) {\n          return 0;\n        } // 超出右边界\n\n\n        if (value > last(ticks)) {\n          return 1;\n        }\n\n        var minIndex = 0;\n        each(ticks, function (tick, index) {\n          if (value >= tick) {\n            minIndex = index;\n          } else {\n            return false;\n          }\n        });\n        return minIndex / (ticks.length - 1);\n      };\n\n      return Quantize;\n    }(Continuous);\n\n    var Quantile =\n    /** @class */\n    function (_super) {\n      __extends(Quantile, _super);\n\n      function Quantile() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.type = 'quantile';\n        return _this;\n      }\n\n      Quantile.prototype.initCfg = function () {\n        this.tickMethod = 'quantile';\n        this.tickCount = 5;\n        this.nice = true;\n      };\n\n      return Quantile;\n    }(Quantize);\n\n    var map$1 = {};\n\n    function getClass(key) {\n      return map$1[key];\n    }\n\n    function registerClass(key, cls) {\n      if (getClass(key)) {\n        throw new Error(\"type '\" + key + \"' existed.\");\n      }\n\n      map$1[key] = cls;\n    }\n\n    /**\n     * identity scale原则上是定义域和值域一致，scale/invert方法也是一致的\n     * 参考R的实现：https://github.com/r-lib/scales/blob/master/R/pal-identity.r\n     * 参考d3的实现（做了下转型）：https://github.com/d3/d3-scale/blob/master/src/identity.js\n     */\n\n    var Identity =\n    /** @class */\n    function (_super) {\n      __extends(Identity, _super);\n\n      function Identity() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.type = 'identity';\n        _this.isIdentity = true;\n        return _this;\n      }\n\n      Identity.prototype.calculateTicks = function () {\n        return this.values;\n      };\n\n      Identity.prototype.scale = function (value) {\n        // 如果传入的值不等于 identity 的值，则直接返回，用于一维图时的 dodge\n        if (this.values[0] !== value && isNumber(value)) {\n          return value;\n        }\n\n        return this.range[0];\n      };\n\n      Identity.prototype.invert = function (value) {\n        var range = this.range;\n\n        if (value < range[0] || value > range[1]) {\n          return NaN;\n        }\n\n        return this.values[0];\n      };\n\n      return Identity;\n    }(Scale);\n\n    var DEFAULT_Q = [1, 5, 2, 2.5, 4, 3];\n    var eps = Number.EPSILON * 100; // https://stackoverflow.com/questions/4467539/javascript-modulo-gives-a-negative-result-for-negative-numbers\n\n    function mod(n, m) {\n      return (n % m + m) % m;\n    }\n\n    function simplicity(q, Q, j, lmin, lmax, lstep) {\n      var n = size(Q);\n      var i = indexOf(Q, q);\n      var v = 0;\n      var m = mod(lmin, lstep);\n\n      if ((m < eps || lstep - m < eps) && lmin <= 0 && lmax >= 0) {\n        v = 1;\n      }\n\n      return 1 - i / (n - 1) - j + v;\n    }\n\n    function simplicityMax(q, Q, j) {\n      var n = size(Q);\n      var i = indexOf(Q, q);\n      var v = 1;\n      return 1 - i / (n - 1) - j + v;\n    }\n\n    function density(k, m, dmin, dmax, lmin, lmax) {\n      var r = (k - 1) / (lmax - lmin);\n      var rt = (m - 1) / (Math.max(lmax, dmax) - Math.min(dmin, lmin));\n      return 2 - Math.max(r / rt, rt / r);\n    }\n\n    function densityMax(k, m) {\n      if (k >= m) {\n        return 2 - (k - 1) / (m - 1);\n      }\n\n      return 1;\n    }\n\n    function coverage(dmin, dmax, lmin, lmax) {\n      var range = dmax - dmin;\n      return 1 - 0.5 * (Math.pow(dmax - lmax, 2) + Math.pow(dmin - lmin, 2)) / Math.pow(0.1 * range, 2);\n    }\n\n    function coverageMax(dmin, dmax, span) {\n      var range = dmax - dmin;\n\n      if (span > range) {\n        var half = (span - range) / 2;\n        return 1 - Math.pow(half, 2) / Math.pow(0.1 * range, 2);\n      }\n\n      return 1;\n    }\n\n    function legibility() {\n      return 1;\n    }\n    /**\n     * An Extension of Wilkinson's Algorithm for Position Tick Labels on Axes\n     * https://www.yuque.com/preview/yuque/0/2019/pdf/185317/1546999150858-45c3b9c2-4e86-4223-bf1a-8a732e8195ed.pdf\n     * @param dmin 最小值\n     * @param dmax 最大值\n     * @param m tick个数\n     * @param onlyLoose 是否允许扩展min、max，不绝对强制，例如[3, 97]\n     * @param Q nice numbers集合\n     * @param w 四个优化组件的权重\n     */\n\n\n    function extended(dmin, dmax, m, onlyLoose, Q, w) {\n      if (m === void 0) {\n        m = 5;\n      }\n\n      if (onlyLoose === void 0) {\n        onlyLoose = true;\n      }\n\n      if (Q === void 0) {\n        Q = DEFAULT_Q;\n      }\n\n      if (w === void 0) {\n        w = [0.25, 0.2, 0.5, 0.05];\n      } // 异常数据情况下，直接返回，防止 oom\n\n\n      if (typeof dmin !== 'number' || typeof dmax !== 'number') {\n        return {\n          min: 0,\n          max: 0,\n          ticks: []\n        };\n      }\n\n      if (dmin === dmax || m === 1) {\n        return {\n          min: dmin,\n          max: dmax,\n          ticks: [dmin]\n        };\n      }\n\n      var best = {\n        score: -2,\n        lmin: 0,\n        lmax: 0,\n        lstep: 0\n      };\n      var j = 1;\n\n      while (j < Infinity) {\n        for (var _i = 0, Q_1 = Q; _i < Q_1.length; _i++) {\n          var q = Q_1[_i];\n          var sm = simplicityMax(q, Q, j);\n\n          if (Number.isNaN(sm)) {\n            throw new Error('NaN');\n          }\n\n          if (w[0] * sm + w[1] + w[2] + w[3] < best.score) {\n            j = Infinity;\n            break;\n          }\n\n          var k = 2;\n\n          while (k < Infinity) {\n            var dm = densityMax(k, m);\n\n            if (w[0] * sm + w[1] + w[2] * dm + w[3] < best.score) {\n              break;\n            }\n\n            var delta = (dmax - dmin) / (k + 1) / j / q;\n            var z = Math.ceil(Math.log10(delta));\n\n            while (z < Infinity) {\n              var step = j * q * Math.pow(10, z);\n              var cm = coverageMax(dmin, dmax, step * (k - 1));\n\n              if (w[0] * sm + w[1] * cm + w[2] * dm + w[3] < best.score) {\n                break;\n              }\n\n              var minStart = Math.floor(dmax / step) * j - (k - 1) * j;\n              var maxStart = Math.ceil(dmin / step) * j;\n\n              if (minStart > maxStart) {\n                z = z + 1;\n                continue;\n              }\n\n              for (var start = minStart; start <= maxStart; start = start + 1) {\n                var lmin = start * (step / j);\n                var lmax = lmin + step * (k - 1);\n                var lstep = step;\n                var s = simplicity(q, Q, j, lmin, lmax, lstep);\n                var c = coverage(dmin, dmax, lmin, lmax);\n                var g = density(k, m, dmin, dmax, lmin, lmax);\n                var l = legibility();\n                var score = w[0] * s + w[1] * c + w[2] * g + w[3] * l;\n\n                if (score > best.score && (!onlyLoose || lmin <= dmin && lmax >= dmax)) {\n                  best.lmin = lmin;\n                  best.lmax = lmax;\n                  best.lstep = lstep;\n                  best.score = score;\n                }\n              }\n\n              z = z + 1;\n            }\n\n            k = k + 1;\n          }\n        }\n\n        j = j + 1;\n      } // 步长为浮点数时处理精度\n\n\n      var toFixed = Number.isInteger(best.lstep) ? 0 : Math.ceil(Math.abs(Math.log10(best.lstep)));\n      var range = [];\n\n      for (var tick = best.lmin; tick <= best.lmax; tick += best.lstep) {\n        range.push(tick);\n      }\n\n      var ticks = toFixed ? map(range, function (x) {\n        return Number.parseFloat(x.toFixed(toFixed));\n      }) : range;\n      return {\n        min: Math.min(dmin, head(ticks)),\n        max: Math.max(dmax, last(ticks)),\n        ticks: ticks\n      };\n    }\n\n    /**\n     * 计算分类 ticks\n     * @param cfg 度量的配置项\n     * @returns 计算后的 ticks\n     */\n\n    function calculateCatTicks(cfg) {\n      var values = cfg.values,\n          tickInterval = cfg.tickInterval,\n          tickCount = cfg.tickCount;\n      var ticks = values;\n\n      if (isNumber(tickInterval)) {\n        return filter(ticks, function (__, i) {\n          return i % tickInterval === 0;\n        });\n      }\n\n      var min = cfg.min,\n          max = cfg.max;\n\n      if (isNil(min)) {\n        min = 0;\n      }\n\n      if (isNil(max)) {\n        max = values.length - 1;\n      }\n\n      if (isNumber(tickCount) && tickCount < max - min) {\n        // 简单过滤，部分情况下小数的倍数也可以是整数\n        // tslint:disable-next-line: no-shadowed-variable\n        var ticks_1 = extended(min, max, tickCount, false, [1, 2, 5, 3, 4, 7, 6, 8, 9]).ticks;\n        var valid = filter(ticks_1, function (tick) {\n          return tick >= min && tick <= max;\n        });\n        return valid.map(function (index) {\n          return values[index];\n        });\n      }\n\n      return values.slice(min, max + 1);\n    }\n\n    function d3Linear(cfg) {\n      var min = cfg.min,\n          max = cfg.max,\n          nice = cfg.nice,\n          tickCount = cfg.tickCount;\n      var linear = new D3Linear();\n      linear.domain([min, max]);\n\n      if (nice) {\n        linear.nice(tickCount);\n      }\n\n      return linear.ticks(tickCount);\n    }\n    var DEFAULT_COUNT = 5;\n    var e10 = Math.sqrt(50);\n    var e5 = Math.sqrt(10);\n    var e2 = Math.sqrt(2); // https://github.com/d3/d3-scale\n\n    var D3Linear =\n    /** @class */\n    function () {\n      function D3Linear() {\n        this._domain = [0, 1];\n      }\n\n      D3Linear.prototype.domain = function (domain) {\n        if (domain) {\n          this._domain = Array.from(domain, Number);\n          return this;\n        }\n\n        return this._domain.slice();\n      };\n\n      D3Linear.prototype.nice = function (count) {\n        var _a, _b;\n\n        if (count === void 0) {\n          count = DEFAULT_COUNT;\n        }\n\n        var d = this._domain.slice();\n\n        var i0 = 0;\n        var i1 = this._domain.length - 1;\n        var start = this._domain[i0];\n        var stop = this._domain[i1];\n        var step;\n\n        if (stop < start) {\n          _a = [stop, start], start = _a[0], stop = _a[1];\n          _b = [i1, i0], i0 = _b[0], i1 = _b[1];\n        }\n\n        step = tickIncrement(start, stop, count);\n\n        if (step > 0) {\n          start = Math.floor(start / step) * step;\n          stop = Math.ceil(stop / step) * step;\n          step = tickIncrement(start, stop, count);\n        } else if (step < 0) {\n          start = Math.ceil(start * step) / step;\n          stop = Math.floor(stop * step) / step;\n          step = tickIncrement(start, stop, count);\n        }\n\n        if (step > 0) {\n          d[i0] = Math.floor(start / step) * step;\n          d[i1] = Math.ceil(stop / step) * step;\n          this.domain(d);\n        } else if (step < 0) {\n          d[i0] = Math.ceil(start * step) / step;\n          d[i1] = Math.floor(stop * step) / step;\n          this.domain(d);\n        }\n\n        return this;\n      };\n\n      D3Linear.prototype.ticks = function (count) {\n        if (count === void 0) {\n          count = DEFAULT_COUNT;\n        }\n\n        return d3ArrayTicks(this._domain[0], this._domain[this._domain.length - 1], count || DEFAULT_COUNT);\n      };\n\n      return D3Linear;\n    }();\n\n    function d3ArrayTicks(start, stop, count) {\n      var reverse;\n      var i = -1;\n      var n;\n      var ticks;\n      var step;\n      stop = +stop, start = +start, count = +count;\n\n      if (start === stop && count > 0) {\n        return [start];\n      } // tslint:disable-next-line\n\n\n      if (reverse = stop < start) {\n        n = start, start = stop, stop = n;\n      } // tslint:disable-next-line\n\n\n      if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) {\n        return [];\n      }\n\n      if (step > 0) {\n        start = Math.ceil(start / step);\n        stop = Math.floor(stop / step);\n        ticks = new Array(n = Math.ceil(stop - start + 1));\n\n        while (++i < n) {\n          ticks[i] = (start + i) * step;\n        }\n      } else {\n        start = Math.floor(start * step);\n        stop = Math.ceil(stop * step);\n        ticks = new Array(n = Math.ceil(start - stop + 1));\n\n        while (++i < n) {\n          ticks[i] = (start - i) / step;\n        }\n      }\n\n      if (reverse) {\n        ticks.reverse();\n      }\n\n      return ticks;\n    }\n\n    function tickIncrement(start, stop, count) {\n      var step = (stop - start) / Math.max(0, count);\n      var power = Math.floor(Math.log(step) / Math.LN10);\n      var error = step / Math.pow(10, power);\n      return power >= 0 ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power) : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n    }\n\n    function snapMultiple(v, base, snapType) {\n      var div;\n\n      if (snapType === 'ceil') {\n        div = Math.ceil(v / base);\n      } else if (snapType === 'floor') {\n        div = Math.floor(v / base);\n      } else {\n        div = Math.round(v / base);\n      }\n\n      return div * base;\n    }\n\n    function intervalTicks(min, max, interval) {\n      // 变成 interval 的倍数\n      var minTick = snapMultiple(min, interval, 'floor');\n      var maxTick = snapMultiple(max, interval, 'ceil'); // 统一小数位数\n\n      minTick = fixedBase(minTick, interval);\n      maxTick = fixedBase(maxTick, interval);\n      var ticks = [];\n\n      for (var i = minTick; i <= maxTick; i = i + interval) {\n        var tickValue = fixedBase(i, interval); // 防止浮点数加法出现问题\n\n        ticks.push(tickValue);\n      }\n\n      return {\n        min: minTick,\n        max: maxTick,\n        ticks: ticks\n      };\n    }\n\n    /**\n     * 按照给定的 minLimit/maxLimit/tickCount 均匀计算出刻度 ticks\n     *\n     * @param cfg Scale 配置项\n     * @return ticks\n     */\n\n    function strictLimit(cfg, defaultMin, defaultMax) {\n      var _a;\n\n      var minLimit = cfg.minLimit,\n          maxLimit = cfg.maxLimit,\n          min = cfg.min,\n          max = cfg.max,\n          _b = cfg.tickCount,\n          tickCount = _b === void 0 ? 5 : _b;\n      var tickMin = isNil(minLimit) ? isNil(defaultMin) ? min : defaultMin : minLimit;\n      var tickMax = isNil(maxLimit) ? isNil(defaultMax) ? max : defaultMax : maxLimit;\n\n      if (tickMin > tickMax) {\n        _a = [tickMin, tickMax], tickMax = _a[0], tickMin = _a[1];\n      }\n\n      if (tickCount <= 2) {\n        return [tickMin, tickMax];\n      }\n\n      var step = (tickMax - tickMin) / (tickCount - 1);\n      var ticks = [];\n\n      for (var i = 0; i < tickCount; i++) {\n        ticks.push(tickMin + step * i);\n      }\n\n      return ticks;\n    }\n\n    function d3LinearTickMethod(cfg) {\n      var min = cfg.min,\n          max = cfg.max,\n          tickInterval = cfg.tickInterval,\n          minLimit = cfg.minLimit,\n          maxLimit = cfg.maxLimit;\n      var ticks = d3Linear(cfg);\n\n      if (!isNil(minLimit) || !isNil(maxLimit)) {\n        return strictLimit(cfg, head(ticks), last(ticks));\n      }\n\n      if (tickInterval) {\n        return intervalTicks(min, max, tickInterval).ticks;\n      }\n\n      return ticks;\n    }\n\n    /**\n     * 计算线性的 ticks，使用 wilkinson extended 方法\n     * @param cfg 度量的配置项\n     * @returns 计算后的 ticks\n     */\n\n    function linear(cfg) {\n      var min = cfg.min,\n          max = cfg.max,\n          tickCount = cfg.tickCount,\n          nice = cfg.nice,\n          tickInterval = cfg.tickInterval,\n          minLimit = cfg.minLimit,\n          maxLimit = cfg.maxLimit;\n      var ticks = extended(min, max, tickCount, nice).ticks;\n\n      if (!isNil(minLimit) || !isNil(maxLimit)) {\n        return strictLimit(cfg, head(ticks), last(ticks));\n      }\n\n      if (tickInterval) {\n        return intervalTicks(min, max, tickInterval).ticks;\n      }\n\n      return ticks;\n    }\n\n    /**\n     * 计算 log 的 ticks，考虑 min = 0 的场景\n     * @param cfg 度量的配置项\n     * @returns 计算后的 ticks\n     */\n\n    function calculateLogTicks(cfg) {\n      var base = cfg.base,\n          tickCount = cfg.tickCount,\n          min = cfg.min,\n          max = cfg.max,\n          values = cfg.values;\n      var minTick;\n      var maxTick = log(base, max);\n\n      if (min > 0) {\n        minTick = Math.floor(log(base, min));\n      } else {\n        var positiveMin = getLogPositiveMin(values, base, max);\n        minTick = Math.floor(log(base, positiveMin));\n      }\n\n      var count = maxTick - minTick;\n      var avg = Math.ceil(count / tickCount);\n      var ticks = [];\n\n      for (var i = minTick; i < maxTick + avg; i = i + avg) {\n        ticks.push(Math.pow(base, i));\n      }\n\n      if (min <= 0) {\n        // 最小值 <= 0 时显示 0\n        ticks.unshift(0);\n      }\n\n      return ticks;\n    }\n\n    function pretty(min, max, n) {\n      if (n === void 0) {\n        n = 5;\n      }\n\n      var res = {\n        max: 0,\n        min: 0,\n        ticks: []\n      };\n\n      if (min === max) {\n        return {\n          max: max,\n          min: min,\n          ticks: [min]\n        };\n      }\n      /*\n        R pretty:\n        https://svn.r-project.org/R/trunk/src/appl/pretty.c\n        https://www.rdocumentation.org/packages/base/versions/3.5.2/topics/pretty\n        */\n\n\n      var h = 1.5; // high.u.bias\n\n      var h5 = 0.5 + 1.5 * h; // u5.bias\n      // 反正我也不会调参，跳过所有判断步骤\n\n      var d = max - min;\n      var c = d / n; // 当d非常小的时候触发，但似乎没什么用\n      // const min_n = Math.floor(n / 3);\n      // const shrink_sml = Math.pow(2, 5);\n      // if (Math.log10(d) < -2) {\n      //   c = (_.max([ Math.abs(max), Math.abs(min) ]) * shrink_sml) / min_n;\n      // }\n\n      var base = Math.pow(10, Math.floor(Math.log10(c)));\n      var toFixed = base < 1 ? Math.ceil(Math.abs(Math.log10(base))) : 0;\n      var unit = base;\n\n      if (2 * base - c < h * (c - unit)) {\n        unit = 2 * base;\n\n        if (5 * base - c < h5 * (c - unit)) {\n          unit = 5 * base;\n\n          if (10 * base - c < h * (c - unit)) {\n            unit = 10 * base;\n          }\n        }\n      }\n\n      var nu = Math.ceil(max / unit);\n      var ns = Math.floor(min / unit);\n      res.max = Math.max(nu * unit, max);\n      res.min = Math.min(ns * unit, min);\n      var x = Number.parseFloat((ns * unit).toFixed(toFixed));\n\n      while (x < max) {\n        res.ticks.push(x);\n        x += unit;\n\n        if (toFixed) {\n          x = Number.parseFloat(x.toFixed(toFixed));\n        }\n      }\n\n      res.ticks.push(x);\n      return res;\n    }\n\n    /**\n     * 计算 Pow 的 ticks\n     * @param cfg 度量的配置项\n     * @returns 计算后的 ticks\n     */\n\n    function calculatePowTicks(cfg) {\n      var exponent = cfg.exponent,\n          tickCount = cfg.tickCount;\n      var max = Math.ceil(calBase(exponent, cfg.max));\n      var min = Math.floor(calBase(exponent, cfg.min));\n      var ticks = pretty(min, max, tickCount).ticks;\n      return ticks.map(function (tick) {\n        var factor = tick >= 0 ? 1 : -1;\n        return Math.pow(tick, exponent) * factor;\n      });\n    }\n\n    /**\n     * 计算几分位 https://github.com/simple-statistics/simple-statistics/blob/master/src/quantile_sorted.js\n     * @param x  数组\n     * @param p  百分比\n     */\n    function quantileSorted(x, p) {\n      var idx = x.length * p;\n      /*if (x.length === 0) { // 当前场景这些条件不可能命中\n        throw new Error('quantile requires at least one value.');\n      } else if (p < 0 || p > 1) {\n        throw new Error('quantiles must be between 0 and 1');\n      } else */\n\n      if (p === 1) {\n        // If p is 1, directly return the last element\n        return x[x.length - 1];\n      } else if (p === 0) {\n        // If p is 0, directly return the first element\n        return x[0];\n      } else if (idx % 1 !== 0) {\n        // If p is not integer, return the next element in array\n        return x[Math.ceil(idx) - 1];\n      } else if (x.length % 2 === 0) {\n        // If the list has even-length, we'll take the average of this number\n        // and the next value, if there is one\n        return (x[idx - 1] + x[idx]) / 2;\n      } else {\n        // Finally, in the simple case of an integer value\n        // with an odd-length list, return the x value at the index.\n        return x[idx];\n      }\n    }\n\n    function calculateTicks(cfg) {\n      var tickCount = cfg.tickCount,\n          values = cfg.values;\n\n      if (!values || !values.length) {\n        return [];\n      }\n\n      var sorted = values.slice().sort(function (a, b) {\n        return a - b;\n      });\n      var ticks = [];\n\n      for (var i = 0; i < tickCount; i++) {\n        var p = i / (tickCount - 1);\n        ticks.push(quantileSorted(sorted, p));\n      }\n\n      return ticks;\n    }\n\n    /**\n     * 计算线性的 ticks，使用 R's pretty 方法\n     * @param cfg 度量的配置项\n     * @returns 计算后的 ticks\n     */\n\n    function linearPretty(cfg) {\n      var min = cfg.min,\n          max = cfg.max,\n          tickCount = cfg.tickCount,\n          tickInterval = cfg.tickInterval,\n          minLimit = cfg.minLimit,\n          maxLimit = cfg.maxLimit;\n      var ticks = pretty(min, max, tickCount).ticks;\n\n      if (!isNil(minLimit) || !isNil(maxLimit)) {\n        return strictLimit(cfg, head(ticks), last(ticks));\n      }\n\n      if (tickInterval) {\n        return intervalTicks(min, max, tickInterval).ticks;\n      }\n\n      return ticks;\n    }\n\n    function calculateTimeTicks(cfg) {\n      var min = cfg.min,\n          max = cfg.max,\n          minTickInterval = cfg.minTickInterval;\n      var tickInterval = cfg.tickInterval;\n      var tickCount = cfg.tickCount; // 指定 tickInterval 后 tickCount 不生效，需要重新计算\n\n      if (tickInterval) {\n        tickCount = Math.ceil((max - min) / tickInterval);\n      } else {\n        tickInterval = getTickInterval(min, max, tickCount)[1];\n        var count = (max - min) / tickInterval;\n        var ratio = count / tickCount;\n\n        if (ratio > 1) {\n          tickInterval = tickInterval * Math.ceil(ratio);\n        } // 如果设置了最小间距，则使用最小间距\n\n\n        if (minTickInterval && tickInterval < minTickInterval) {\n          tickInterval = minTickInterval;\n        }\n      }\n\n      var ticks = [];\n\n      for (var i = min; i < max + tickInterval; i += tickInterval) {\n        ticks.push(i);\n      }\n\n      return ticks;\n    }\n\n    /**\n     * 计算时间分类的 ticks, 保头，保尾\n     * @param cfg 度量的配置项\n     * @returns 计算后的 ticks\n     */\n\n    function calculateTimeCatTicks(cfg) {\n      var ticks = calculateCatTicks(cfg);\n      var lastValue = last(cfg.values);\n\n      if (lastValue !== last(ticks)) {\n        ticks.push(lastValue);\n      }\n\n      return ticks;\n    }\n\n    function getYear(date) {\n      return new Date(date).getFullYear();\n    }\n\n    function createYear(year) {\n      return new Date(year, 0, 1).getTime();\n    }\n\n    function getMonth(date) {\n      return new Date(date).getMonth();\n    }\n\n    function diffMonth(min, max) {\n      var minYear = getYear(min);\n      var maxYear = getYear(max);\n      var minMonth = getMonth(min);\n      var maxMonth = getMonth(max);\n      return (maxYear - minYear) * 12 + (maxMonth - minMonth) % 12;\n    }\n\n    function creatMonth(year, month) {\n      return new Date(year, month, 1).getTime();\n    }\n\n    function diffDay(min, max) {\n      return Math.ceil((max - min) / DAY);\n    }\n\n    function diffHour(min, max) {\n      return Math.ceil((max - min) / HOUR);\n    }\n\n    function diffMinus(min, max) {\n      return Math.ceil((max - min) / (60 * 1000));\n    }\n    /**\n     * 计算 time 的 ticks，对 month, year 进行 pretty 处理\n     * @param cfg 度量的配置项\n     * @returns 计算后的 ticks\n     */\n\n\n    function timePretty(cfg) {\n      var min = cfg.min,\n          max = cfg.max,\n          minTickInterval = cfg.minTickInterval,\n          tickCount = cfg.tickCount;\n      var tickInterval = cfg.tickInterval;\n      var ticks = []; // 指定 tickInterval 后 tickCount 不生效，需要重新计算\n\n      if (!tickInterval) {\n        tickInterval = (max - min) / tickCount; // 如果设置了最小间距，则使用最小间距\n\n        if (minTickInterval && tickInterval < minTickInterval) {\n          tickInterval = minTickInterval;\n        }\n      }\n\n      var minYear = getYear(min); // 如果间距大于 1 年，则将开始日期从整年开始\n\n      if (tickInterval > YEAR) {\n        var maxYear = getYear(max);\n        var yearInterval = Math.ceil(tickInterval / YEAR);\n\n        for (var i = minYear; i <= maxYear + yearInterval; i = i + yearInterval) {\n          ticks.push(createYear(i));\n        }\n      } else if (tickInterval > MONTH) {\n        // 大于月时\n        var monthInterval = Math.ceil(tickInterval / MONTH);\n        var mmMoth = getMonth(min);\n        var dMonths = diffMonth(min, max);\n\n        for (var i = 0; i <= dMonths + monthInterval; i = i + monthInterval) {\n          ticks.push(creatMonth(minYear, i + mmMoth));\n        }\n      } else if (tickInterval > DAY) {\n        // 大于天\n        var date = new Date(min);\n        var year = date.getFullYear();\n        var month = date.getMonth();\n        var mday = date.getDate();\n        var day = Math.ceil(tickInterval / DAY);\n        var ddays = diffDay(min, max);\n\n        for (var i = 0; i < ddays + day; i = i + day) {\n          ticks.push(new Date(year, month, mday + i).getTime());\n        }\n      } else if (tickInterval > HOUR) {\n        // 大于小时\n        var date = new Date(min);\n        var year = date.getFullYear();\n        var month = date.getMonth();\n        var day = date.getDate();\n        var hour = date.getHours();\n        var hours = Math.ceil(tickInterval / HOUR);\n        var dHours = diffHour(min, max);\n\n        for (var i = 0; i <= dHours + hours; i = i + hours) {\n          ticks.push(new Date(year, month, day, hour + i).getTime());\n        }\n      } else if (tickInterval > MINUTE) {\n        // 大于分钟\n        var dMinus = diffMinus(min, max);\n        var minutes = Math.ceil(tickInterval / MINUTE);\n\n        for (var i = 0; i <= dMinus + minutes; i = i + minutes) {\n          ticks.push(min + i * MINUTE);\n        }\n      } else {\n        // 小于分钟\n        var interval = tickInterval;\n\n        if (interval < SECOND) {\n          interval = SECOND;\n        }\n\n        var minSecond = Math.floor(min / SECOND) * SECOND;\n        var dSeconds = Math.ceil((max - min) / SECOND);\n        var seconds = Math.ceil(interval / SECOND);\n\n        for (var i = 0; i < dSeconds + seconds; i = i + seconds) {\n          ticks.push(minSecond + i * SECOND);\n        }\n      } // 最好是能从算法能解决这个问题，但是如果指定了 tickInterval，计算 ticks，也只能这么算，所以\n      // 打印警告提示\n\n\n      if (ticks.length >= 512) {\n        console.warn(\"Notice: current ticks length(\" + ticks.length + \") >= 512, may cause performance issues, even out of memory. Because of the configure \\\"tickInterval\\\"(in milliseconds, current is \" + tickInterval + \") is too small, increase the value to solve the problem!\");\n      }\n\n      return ticks;\n    }\n\n    registerTickMethod('cat', calculateCatTicks);\n    registerTickMethod('time-cat', calculateTimeCatTicks);\n    registerTickMethod('wilkinson-extended', linear);\n    registerTickMethod('r-pretty', linearPretty);\n    registerTickMethod('time', calculateTimeTicks);\n    registerTickMethod('time-pretty', timePretty);\n    registerTickMethod('log', calculateLogTicks);\n    registerTickMethod('pow', calculatePowTicks);\n    registerTickMethod('quantile', calculateTicks);\n    registerTickMethod('d3-linear', d3LinearTickMethod);\n\n    registerClass('cat', Category);\n    registerClass('category', Category);\n    registerClass('identity', Identity);\n    registerClass('linear', Linear);\n    registerClass('log', Log);\n    registerClass('pow', Pow);\n    registerClass('time', Time);\n    registerClass('timeCat', TimeCat);\n    registerClass('quantize', Quantize);\n    registerClass('quantile', Quantile);\n\n    // cat平均算法，保头保尾\n    var CatTick = (function (cfg) {\n      var values = cfg.values,\n          tickCount = cfg.tickCount;\n\n      if (!tickCount) {\n        return values;\n      }\n\n      if (values.length <= 1) {\n        return values;\n      } // 获取间隔步长, 最小是1\n\n\n      var step = parseInt(values.length / (tickCount - 1)) || 1;\n      var ticks = []; // 按间隔数取对应节点\n\n      for (var index = 0; index < values.length; index = index + step) {\n        ticks.push(values[index]);\n      }\n\n      var last = values[values.length - 1]; // 如果最后一个tick不等于原数据的最后一个\n\n      if (ticks[ticks.length - 1] !== last) {\n        if (ticks.length >= tickCount) {\n          // 如果当前的tick个数满足要求\n          ticks[ticks.length - 1] = last;\n        } else {\n          // 不满足tickCount则直接加入最后一个\n          ticks.push(last);\n        }\n      }\n\n      return ticks;\n    });\n\n    // 认为是nice的刻度\n    var SNAP_COUNT_ARRAY = [1, 1.2, 1.5, 2, 2.2, 2.4, 2.5, 3, 4, 5, 6, 7.5, 8, 10];\n    var DEFAULT_COUNT$1 = 5; // 默认刻度值\n\n    var LinearTick = (function (cfg) {\n      var _ref = cfg || {},\n          tickCount = _ref.tickCount,\n          tickInterval = _ref.tickInterval;\n\n      var _ref2 = cfg || {},\n          min = _ref2.min,\n          max = _ref2.max;\n\n      min = isNaN(min) ? 0 : min;\n      max = isNaN(max) ? 0 : max;\n      var count = tickCount && tickCount >= 2 ? tickCount : DEFAULT_COUNT$1; // 计算interval， 优先取tickInterval\n\n      var interval = tickInterval || getBestInterval({\n        tickCount: count,\n        max: max,\n        min: min\n      }); // 通过interval计算最小tick\n\n      var minTick = Math.floor(min / interval) * interval; // 如果指定了tickInterval, count 需要根据指定的tickInterval来算计\n\n      if (tickInterval) {\n        var intervalCount = Math.abs(Math.ceil((max - minTick) / tickInterval)) + 1; // tickCount 作为最小 count 处理\n\n        count = Math.max(count, intervalCount);\n      }\n\n      var ticks = [];\n      var tickLength = 0;\n      var fixedLength = getFixedLength(interval);\n\n      while (tickLength < count) {\n        ticks.push(toFixed(minTick + tickLength * interval, fixedLength));\n        tickLength++;\n      }\n\n      return ticks;\n    });\n    var DECIMAL_LENGTH = 12;\n\n    function getFactor(number) {\n      // 取正数\n      number = Math.abs(number);\n      var factor = 1;\n\n      if (number === 0) {\n        return factor;\n      } // 小于1,逐渐放大\n\n\n      if (number < 1) {\n        var count = 0;\n\n        while (number < 1) {\n          factor = factor / 10;\n          number = number * 10;\n          count++;\n        } // 浮点数计算出现问题\n\n\n        if (factor.toString().length > DECIMAL_LENGTH) {\n          factor = parseFloat(factor.toFixed(count));\n        }\n\n        return factor;\n      } // 大于10逐渐缩小\n\n\n      while (number > 10) {\n        factor = factor * 10;\n        number = number / 10;\n      }\n\n      return factor;\n    } // 获取最佳匹配刻度\n\n\n    function getBestInterval(_ref3) {\n      var tickCount = _ref3.tickCount,\n          min = _ref3.min,\n          max = _ref3.max;\n\n      // 如果最大最小相等，则直接按1处理\n      if (min === max) {\n        return 1 * getFactor(max);\n      } // 1.计算平均刻度\b间隔\n\n\n      var avgInterval = (max - min) / (tickCount - 1); // 2.数据标准归一化 映射到[1-10]区间\n\n      var factor = getFactor(avgInterval);\n      var calInterval = avgInterval / factor;\n      var calMax = max / factor;\n      var calMin = min / factor; // 根据平均值推算最逼近刻度值\n\n      var similarityIndex = 0;\n\n      for (var index = 0; index < SNAP_COUNT_ARRAY.length; index++) {\n        var item = SNAP_COUNT_ARRAY[index];\n\n        if (calInterval <= item) {\n          similarityIndex = index;\n          break;\n        }\n      }\n\n      var similarityInterval = getInterval(similarityIndex, tickCount, calMin, calMax); // 小数点位数还原到数据的位数, 因为similarityIndex有可能是小数，所以需要保留similarityIndex自己的小数位数\n\n      var fixedLength = getFixedLength(similarityInterval) + getFixedLength(factor);\n      return toFixed(similarityInterval * factor, fixedLength);\n    }\n\n    function getInterval(startIndex, tickCount, min, max) {\n      var verify = false;\n      var interval = SNAP_COUNT_ARRAY[startIndex]; // 刻度值校验，如果不满足，循环下去\n\n      for (var i = startIndex; i < SNAP_COUNT_ARRAY.length; i++) {\n        if (intervalIsVerify({\n          interval: SNAP_COUNT_ARRAY[i],\n          tickCount: tickCount,\n          max: max,\n          min: min\n        })) {\n          // 有符合条件的interval\n          interval = SNAP_COUNT_ARRAY[i];\n          verify = true;\n          break;\n        }\n      } // 如果不满足, 依次缩小10倍，再计算\n\n\n      if (!verify) {\n        return 10 * getInterval(0, tickCount, min / 10, max / 10);\n      }\n\n      return interval;\n    } // 刻度是否满足展示需求\n\n\n    function intervalIsVerify(_ref4) {\n      var interval = _ref4.interval,\n          tickCount = _ref4.tickCount,\n          max = _ref4.max,\n          min = _ref4.min;\n      var minTick = Math.floor(min / interval) * interval;\n\n      if (minTick + (tickCount - 1) * interval >= max) {\n        return true;\n      }\n\n      return false;\n    } // 计算小数点应该保留的位数\n\n\n    function getFixedLength(num) {\n      var str = num.toString();\n      var index = str.indexOf('.');\n      var indexOfExp = str.indexOf('e-');\n      var length = indexOfExp >= 0 ? parseInt(str.substr(indexOfExp + 2), 10) : str.substr(index + 1).length;\n\n      if (length > 20) {\n        // 最多保留20位小数\n        length = 20;\n      }\n\n      return length;\n    } // @antv/util fixedbase不支持科学计数法的判断，需要提mr\n\n\n    function toFixed(v, length) {\n      return parseFloat(v.toFixed(length));\n    }\n\n    var Linear$1 = getClass('linear');\n    var Identity$1 = getClass('identity');\n    var Category$1 = getClass('category');\n    var TimeCat$1 = getClass('timeCat'); // 覆盖0.3.x的 cat 方法\n\n    registerTickMethod('cat', CatTick);\n    registerTickMethod('time-cat', CatTick); // 覆盖linear 度量的tick算法\n\n    registerTickMethod('wilkinson-extended', LinearTick);\n    Scale.Linear = Linear$1;\n    Scale.Identity = Identity$1;\n    Scale.Category = Category$1;\n    Scale.Cat = Category$1;\n    Scale.TimeCat = TimeCat$1;\n\n    function isFullCircle(coord) {\n      if (!coord.isPolar) {\n        return false;\n      }\n\n      var startAngle = coord.startAngle;\n      var endAngle = coord.endAngle;\n\n      if (!isNil(startAngle) && !isNil(endAngle) && endAngle - startAngle < Math.PI * 2) {\n        return false;\n      }\n\n      return true;\n    }\n\n    function clearObj(obj) {\n      Object.keys(obj).forEach(function (key) {\n        delete obj[key];\n      });\n    }\n\n    var ScaleController = /*#__PURE__*/function () {\n      function ScaleController(cfg) {\n        // defs 列定义\n        this.defs = {}; // 已经实例化的scale\n\n        this.scales = {};\n        mix(this, cfg);\n      }\n\n      var _proto = ScaleController.prototype;\n\n      _proto.setFieldDef = function setFieldDef(field, cfg) {\n        var defs = this.defs;\n\n        if (isObject(field)) {\n          mix(defs, field);\n        } else {\n          defs[field] = cfg;\n        } // 因为可能同时变更多个scale，所以要把所有已实例化的scale都更新下\n\n\n        this.updateScales();\n      };\n\n      _proto._getDef = function _getDef(field) {\n        var defs = this.defs;\n        var def = null;\n\n        if (Global.scales[field] || defs[field]) {\n          def = mix({}, Global.scales[field]);\n          each(defs[field], function (v, k) {\n            if (isNil(v)) {\n              delete def[k];\n            } else {\n              def[k] = v;\n            }\n          });\n        }\n\n        return def;\n      };\n\n      _proto._getDefaultType = function _getDefaultType(field, data, def) {\n        if (def && def.type) {\n          return def.type;\n        }\n\n        var type = 'linear';\n        var value = firstValue(data, field);\n\n        if (isArray(value)) {\n          value = value[0];\n        }\n\n        if (isString(value)) {\n          type = 'cat';\n        }\n\n        return type;\n      };\n\n      _proto._getScaleDef = function _getScaleDef(type, field, data, def) {\n        var values$1;\n\n        if (def && def.values) {\n          values$1 = def.values;\n        } else {\n          values$1 = values(data, field);\n        }\n\n        var cfg = {\n          field: field,\n          values: values$1\n        };\n\n        if (type !== 'cat' && type !== 'timeCat') {\n          if (!def || !(def.min && def.max)) {\n            var _Array$getRange = getRange$1(values$1),\n                min = _Array$getRange.min,\n                max = _Array$getRange.max;\n\n            cfg.min = min;\n            cfg.max = max;\n            cfg.nice = true;\n          }\n        } else {\n          cfg.isRounding = false; // used for tickCount calculation\n        }\n\n        return cfg;\n      } // 调整range，为了让图形居中\n      ;\n\n      _proto._adjustRange = function _adjustRange(type, cfg) {\n        var range = cfg.range,\n            values = cfg.values; // 如果是线性, 或者有自定义range都不处理\n\n        if (type === 'linear' || range || !values) {\n          return cfg;\n        }\n\n        var count = values.length; // 单只有一条数据时，在中间显示\n\n        if (count === 1) {\n          cfg.range = [0.5, 1];\n        } else {\n          var chart = this.chart;\n          var coord = chart.get('coord');\n          var widthRatio = Global.widthRatio.multiplePie;\n          var offset = 0;\n\n          if (isFullCircle(coord)) {\n            if (!coord.transposed) {\n              cfg.range = [0, 1 - 1 / count];\n            } else {\n              offset = 1 / count * widthRatio;\n              cfg.range = [offset / 2, 1 - offset / 2];\n            }\n          } else {\n            // 为了让图形居中，所以才设置range\n            offset = 1 / count * 0.5; // 这里可能用0.25会更合理\n\n            cfg.range = [offset, 1 - offset];\n          }\n        }\n\n        return cfg;\n      };\n\n      _proto._getScaleCfg = function _getScaleCfg(field, data) {\n        var self = this;\n\n        var def = self._getDef(field);\n\n        if (!data || !data.length) {\n          if (def && def.type) {\n            def.field = field;\n            return {\n              type: def.type,\n              cfg: def\n            };\n          }\n\n          return {\n            type: 'identity',\n            cfg: {\n              value: field,\n              field: field.toString(),\n              values: [field]\n            }\n          };\n        }\n\n        var firstObj = data[0];\n        var firstValue$1 = firstObj[field];\n\n        if (firstValue$1 === null) {\n          firstValue$1 = firstValue(data, field);\n        }\n\n        if (isNumber(field) || isNil(firstValue$1) && !def) {\n          return {\n            type: 'identity',\n            cfg: {\n              value: field,\n              field: field.toString(),\n              values: [field]\n            }\n          };\n        }\n\n        var type = self._getDefaultType(field, data, def);\n\n        var cfg = self._getScaleDef(type, field, data, def);\n\n        def && mix(cfg, def);\n        cfg = this._adjustRange(type, cfg);\n        return {\n          type: type,\n          cfg: cfg\n        };\n      };\n\n      _proto.createScale = function createScale(field, data) {\n        var scales = this.scales;\n\n        var _this$_getScaleCfg = this._getScaleCfg(field, data),\n            type = _this$_getScaleCfg.type,\n            cfg = _this$_getScaleCfg.cfg;\n\n        var scale = scales[field]; // 如果已经存在，且类型相等时直接返回\n\n        if (scale && scale.type === type) {\n          scale.change(cfg);\n          return scale;\n        }\n\n        var Scale = getClass(type);\n        var newScale = new Scale(cfg);\n        scales[field] = newScale;\n        return newScale;\n      };\n\n      _proto._updateScale = function _updateScale(scale) {\n        var field = scale.field; // 因为每个field的数据都会不同\n\n        var data = this.chart._getScaleData(field);\n\n        var _this$_getScaleCfg2 = this._getScaleCfg(field, data),\n            cfg = _this$_getScaleCfg2.cfg;\n\n        scale.change(cfg);\n      };\n\n      _proto.updateScales = function updateScales() {\n        var _this = this;\n\n        var scales = this.scales; // 修改完列定义后，需要更新已经实例化的scale\n        // 如果是还没有实例化的，在geom初始化的时候会被实例化，所以这里可以不用更新\n\n        each(scales, function (scale) {\n          _this._updateScale(scale);\n        });\n      } // 调整scale从0开始\n      ;\n\n      _proto.adjustStartZero = function adjustStartZero(scale) {\n        var defs = this.defs;\n        var field = scale.field,\n            min = scale.min,\n            max = scale.max; // 如果有定义，则不处理\n\n        if (defs[field] && defs[field].min) {\n          return;\n        }\n\n        if (min > 0) {\n          scale.change({\n            min: 0\n          });\n        } else if (max < 0) {\n          scale.change({\n            max: 0\n          });\n        }\n      };\n\n      _proto.clear = function clear() {\n        // this.defs = {};\n        // this.scales = {};\n        clearObj(this.defs);\n        clearObj(this.scales);\n        this.data = null;\n      };\n\n      return ScaleController;\n    }();\n\n    var Abastract = /*#__PURE__*/function () {\n      var _proto = Abastract.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        /**\n         * ticks\n         * @type {Array}\n         */\n        this.ticks = [];\n        /**\n         * the configuration for tickLine\n         * @type {Object}\n         */\n\n        this.tickLine = {};\n        /**\n         * the direction of ticks, 1 means clockwise\n         * @type {Number}\n         */\n\n        this.offsetFactor = 1;\n        /**\n         * the top container\n         * @type {container}\n         */\n\n        this.frontContainer = null;\n        /**\n         * the back container\n         * @type {[type]}\n         */\n\n        this.backContainer = null;\n        /**\n         * points for draw grid line\n         * @type {Array}\n         */\n\n        this.gridPoints = [];\n      };\n\n      function Abastract(cfg) {\n        this._initDefaultCfg();\n\n        mix(this, cfg);\n        this.draw();\n      }\n\n      _proto.draw = function draw() {\n        var line = this.line,\n            tickLine = this.tickLine,\n            label = this.label,\n            grid = this.grid;\n        grid && this.drawGrid(grid); // draw the grid lines\n\n        tickLine && this.drawTicks(tickLine); // draw the tickLine\n\n        line && this.drawLine(line); // draw axis line\n\n        label && this.drawLabels(); // draw ticks\n      };\n\n      _proto.drawTicks = function drawTicks(tickCfg) {\n        var self = this;\n        var ticks = self.ticks;\n        var length = tickCfg.length;\n        var container = self.getContainer(tickCfg.top);\n        each(ticks, function (tick) {\n          var start = self.getOffsetPoint(tick.value);\n          var end = self.getSidePoint(start, length);\n          var shape = container.addShape('line', {\n            className: 'axis-tick',\n            attrs: mix({\n              x1: start.x,\n              y1: start.y,\n              x2: end.x,\n              y2: end.y\n            }, tickCfg)\n          });\n          shape._id = self._id + '-ticks';\n        });\n      };\n\n      _proto.drawLabels = function drawLabels() {\n        var self = this;\n        var labelOffset = self.labelOffset;\n        var labels = self.labels;\n        each(labels, function (labelShape) {\n          var container = self.getContainer(labelShape.get('top'));\n          var start = self.getOffsetPoint(labelShape.get('value'));\n\n          var _self$getSidePoint = self.getSidePoint(start, labelOffset),\n              x = _self$getSidePoint.x,\n              y = _self$getSidePoint.y;\n\n          labelShape.attr(mix({\n            x: x,\n            y: y\n          }, self.getTextAlignInfo(start, labelOffset), labelShape.get('textStyle')));\n          labelShape._id = self._id + '-' + labelShape.attr('text');\n          container.add(labelShape);\n        });\n      };\n\n      _proto.drawLine = function drawLine() {};\n\n      _proto.drawGrid = function drawGrid(grid) {\n        var self = this;\n        var gridPoints = self.gridPoints,\n            ticks = self.ticks;\n        var gridCfg = grid;\n        var count = gridPoints.length;\n        each(gridPoints, function (subPoints, index) {\n          if (isFunction(grid)) {\n            var tick = ticks[index] || {};\n            var executedGrid = grid(tick.text, index, count);\n            gridCfg = executedGrid ? mix({}, Global._defaultAxis.grid, executedGrid) : null;\n          }\n\n          if (gridCfg) {\n            var type = gridCfg.type; // has two types: 'line' and 'arc'\n\n            var points = subPoints.points;\n            var container = self.getContainer(gridCfg.top);\n            var shape;\n\n            if (type === 'arc') {\n              var center = self.center,\n                  startAngle = self.startAngle,\n                  endAngle = self.endAngle;\n              var radius = Vector2.length([points[0].x - center.x, points[0].y - center.y]);\n              shape = container.addShape('Arc', {\n                className: 'axis-grid',\n                attrs: mix({\n                  x: center.x,\n                  y: center.y,\n                  startAngle: startAngle,\n                  endAngle: endAngle,\n                  r: radius\n                }, gridCfg)\n              });\n            } else {\n              shape = container.addShape('Polyline', {\n                className: 'axis-grid',\n                attrs: mix({\n                  points: points\n                }, gridCfg)\n              });\n            }\n\n            shape._id = subPoints._id;\n          }\n        });\n      };\n\n      _proto.getOffsetPoint = function getOffsetPoint() {};\n\n      _proto.getAxisVector = function getAxisVector() {};\n\n      _proto.getOffsetVector = function getOffsetVector(point, offset) {\n        var self = this;\n        var axisVector = self.getAxisVector(point);\n        var normal = Vector2.normalize([], axisVector);\n        var factor = self.offsetFactor;\n        var verticalVector = [normal[1] * -1 * factor, normal[0] * factor];\n        return Vector2.scale([], verticalVector, offset);\n      };\n\n      _proto.getSidePoint = function getSidePoint(point, offset) {\n        var self = this;\n        var offsetVector = self.getOffsetVector(point, offset);\n        return {\n          x: point.x + offsetVector[0],\n          y: point.y + offsetVector[1]\n        };\n      };\n\n      _proto.getTextAlignInfo = function getTextAlignInfo(point, offset) {\n        var self = this;\n        var offsetVector = self.getOffsetVector(point, offset);\n        var align;\n        var baseLine;\n\n        if (offsetVector[0] > 0) {\n          align = 'left';\n        } else if (offsetVector[0] < 0) {\n          align = 'right';\n        } else {\n          align = 'center';\n        }\n\n        if (offsetVector[1] > 0) {\n          baseLine = 'top';\n        } else if (offsetVector[1] < 0) {\n          baseLine = 'bottom';\n        } else {\n          baseLine = 'middle';\n        }\n\n        return {\n          textAlign: align,\n          textBaseline: baseLine\n        };\n      };\n\n      _proto.getContainer = function getContainer(isTop) {\n        var frontContainer = this.frontContainer,\n            backContainer = this.backContainer;\n        return isTop ? frontContainer : backContainer;\n      };\n\n      return Abastract;\n    }();\n\n    var Line = /*#__PURE__*/function (_Abstract) {\n      _inheritsLoose(Line, _Abstract);\n\n      function Line() {\n        return _Abstract.apply(this, arguments) || this;\n      }\n\n      var _proto = Line.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        _Abstract.prototype._initDefaultCfg.call(this);\n\n        this.start = null;\n        this.end = null;\n      };\n\n      _proto.getOffsetPoint = function getOffsetPoint(value) {\n        var start = this.start,\n            end = this.end;\n        return {\n          x: start.x + (end.x - start.x) * value,\n          y: start.y + (end.y - start.y) * value\n        };\n      };\n\n      _proto.getAxisVector = function getAxisVector() {\n        var start = this.start,\n            end = this.end;\n        return [end.x - start.x, end.y - start.y];\n      };\n\n      _proto.drawLine = function drawLine(lineCfg) {\n        var container = this.getContainer(lineCfg.top);\n        var start = this.start,\n            end = this.end;\n        container.addShape('line', {\n          className: 'axis-line',\n          attrs: mix({\n            x1: start.x,\n            y1: start.y,\n            x2: end.x,\n            y2: end.y\n          }, lineCfg)\n        });\n      };\n\n      return Line;\n    }(Abastract);\n\n    Abastract.Line = Line;\n\n    var calcDirection = function calcDirection(start, end) {\n      var xDistance = end.x - start.x;\n      var yDistance = end.y - start.y; // x 的距离大于y 说明是横向，否则就是纵向\n\n      if (Math.abs(xDistance) > Math.abs(yDistance)) {\n        return xDistance > 0 ? 'right' : 'left';\n      }\n\n      return yDistance > 0 ? 'down' : 'up';\n    }; // 计算2点之间的距离\n\n\n    var calcDistance = function calcDistance(point1, point2) {\n      var xDistance = Math.abs(point2.x - point1.x);\n      var yDistance = Math.abs(point2.y - point1.y);\n      return Math.sqrt(xDistance * xDistance + yDistance * yDistance);\n    };\n\n    var getCenter = function getCenter(point1, point2) {\n      var x = point1.x + (point2.x - point1.x) / 2;\n      var y = point1.y + (point2.y - point1.y) / 2;\n      return {\n        x: x,\n        y: y\n      };\n    };\n\n    var convertPoints = function convertPoints(ev, canvas) {\n      var touches = ev.touches; // 认为是mouse事件\n\n      if (!touches) {\n        var point = getRelativePosition({\n          x: ev.clientX,\n          y: ev.clientY\n        }, canvas);\n        return [point];\n      }\n\n      var points = [];\n      var len = touches.length;\n\n      for (var i = 0; i < len; i++) {\n        var touch = touches[i]; // x, y: 相对canvas原点的位置，clientX, clientY 相对于可视窗口的位置\n\n        var x = touch.x,\n            y = touch.y,\n            clientX = touch.clientX,\n            clientY = touch.clientY;\n\n        var _point = void 0; // 小程序环境会有x,y\n\n\n        if (isNumber(x) || isNumber(y)) {\n          _point = {\n            x: x,\n            y: y\n          };\n        } else {\n          // 浏览器环境再计算下canvas的相对位置\n          _point = getRelativePosition({\n            x: clientX,\n            y: clientY\n          }, canvas);\n        }\n\n        points.push(_point);\n      }\n\n      return points;\n    };\n\n    var PRESS_DELAY = 250;\n\n    var EventController = /*#__PURE__*/function () {\n      function EventController(_ref) {\n        var _this = this;\n\n        var canvas = _ref.canvas,\n            el = _ref.el;\n\n        _defineProperty(this, \"_click\", function (ev) {\n          var points = convertPoints(ev, _this.canvas);\n          ev.points = points;\n\n          _this.emitEvent('click', ev);\n        });\n\n        _defineProperty(this, \"_start\", function (ev) {\n          var points = convertPoints(ev, _this.canvas);\n\n          if (!points) {\n            return;\n          }\n\n          ev.points = points;\n\n          _this.emitEvent('touchstart', ev); // 防止上次的内容没有清理掉，重新reset下\n\n\n          _this.reset(); // 记录touch start 的时间\n\n\n          _this.startTime = Date.now(); // 记录touch start 的点\n\n          _this.startPoints = points;\n\n          if (points.length > 1) {\n            _this.startDistance = calcDistance(points[0], points[1]);\n            _this.center = getCenter(points[0], points[1]);\n          } else {\n            // 如果touchstart后停顿250ms, 则也触发press事件\n            _this.pressTimeout = setTimeout(function () {\n              // 这里固定触发press事件\n              var eventType = 'press';\n              var direction = 'none';\n              ev.direction = direction;\n\n              _this.emitStart(eventType, ev);\n\n              _this.emitEvent(eventType, ev);\n\n              _this.eventType = eventType;\n              _this.direction = direction;\n            }, PRESS_DELAY);\n          }\n        });\n\n        _defineProperty(this, \"_move\", function (ev) {\n          var points = convertPoints(ev, _this.canvas);\n          if (!points) return;\n\n          _this.clearPressTimeout();\n\n          ev.points = points;\n\n          _this.emitEvent('touchmove', ev);\n\n          var startPoints = _this.startPoints;\n          if (!startPoints) return; // 多指触控\n\n          if (points.length > 1) {\n            // touchstart的距离\n            var startDistance = _this.startDistance;\n            var currentDistance = calcDistance(points[0], points[1]);\n            ev.zoom = currentDistance / startDistance;\n            ev.center = _this.center; // 触发缩放事件\n\n            _this.emitStart('pinch', ev);\n\n            _this.emitEvent('pinch', ev);\n          } else {\n            var deltaX = points[0].x - startPoints[0].x;\n            var deltaY = points[0].y - startPoints[0].y;\n            var direction = _this.direction || calcDirection(startPoints[0], points[0]);\n            _this.direction = direction; // 获取press或者pan的事件类型\n            // press 按住滑动, pan表示平移\n            // 如果start后立刻move，则触发pan, 如果有停顿，则触发press\n\n            var eventType = _this.getEventType(points);\n\n            ev.direction = direction;\n            ev.deltaX = deltaX;\n            ev.deltaY = deltaY;\n\n            _this.emitStart(eventType, ev);\n\n            _this.emitEvent(eventType, ev); // 记录最后2次move的时间和坐标，为了给swipe事件用\n\n\n            var prevMoveTime = _this.lastMoveTime;\n            var now = Date.now(); // 最后2次的时间间隔一定要大于0，否则swipe没发计算\n\n            if (now - prevMoveTime > 0) {\n              _this.prevMoveTime = prevMoveTime;\n              _this.prevMovePoints = _this.lastMovePoints;\n              _this.lastMoveTime = now;\n              _this.lastMovePoints = points;\n            }\n          }\n        });\n\n        _defineProperty(this, \"_end\", function (ev) {\n          _this.emitEnd(ev);\n\n          _this.emitEvent('touchend', ev); // swipe事件处理, 在touchend之后触发\n\n\n          var lastMoveTime = _this.lastMoveTime;\n          var now = Date.now(); // 做这个判断是为了最后一次touchmove后到end前，还有一个停顿的过程\n          // 100 是拍的一个值，理论这个值会很短，一般不卡顿的话在10ms以内\n\n          if (now - lastMoveTime < 100) {\n            var prevMoveTime = _this.prevMoveTime || _this.startTime;\n            var intervalTime = lastMoveTime - prevMoveTime; // 时间间隔一定要大于0, 否则计算没意义\n\n            if (intervalTime > 0) {\n              var prevMovePoints = _this.prevMovePoints || _this.startPoints;\n              var lastMovePoints = _this.lastMovePoints; // move速率\n\n              var velocity = calcDistance(prevMovePoints[0], lastMovePoints[0]) / intervalTime; // 0.3 是参考hammerjs的设置\n\n              if (velocity > 0.3) {\n                ev.velocity = velocity;\n                ev.direction = calcDirection(prevMovePoints[0], lastMovePoints[0]);\n\n                _this.emitEvent('swipe', ev);\n              }\n            }\n          }\n\n          _this.reset();\n\n          var touches = ev.touches; // 当多指只释放了1指时也会触发end, 这时重新触发一次start\n\n          if (touches && touches.length > 0) {\n            _this._start(ev);\n          }\n        });\n\n        _defineProperty(this, \"_cancel\", function (ev) {\n          _this.emitEvent('touchcancel', ev);\n\n          _this.reset();\n        });\n\n        // canvasEl\n        this.canvas = canvas;\n        this.delegateEvent(el); // 用来记录当前触发的事件\n\n        this.processEvent = {};\n      }\n\n      var _proto = EventController.prototype;\n\n      _proto.delegateEvent = function delegateEvent(canvasEl) {\n        // 代理这几个事件\n        canvasEl.addEventListener('click', this._click);\n        canvasEl.addEventListener('touchstart', this._start);\n        canvasEl.addEventListener('touchmove', this._move);\n        canvasEl.addEventListener('touchend', this._end);\n        canvasEl.addEventListener('touchcancel', this._cancel);\n      };\n\n      _proto.emitEvent = function emitEvent(type, ev) {\n        var canvas = this.canvas;\n        canvas.emit(type, ev);\n      };\n\n      _proto.getEventType = function getEventType(points) {\n        var eventType = this.eventType,\n            canvas = this.canvas,\n            startTime = this.startTime,\n            startPoints = this.startPoints;\n\n        if (eventType) {\n          return eventType;\n        }\n\n        var type;\n        var panEventListeners = canvas.__events.pan; // 如果没有pan事件的监听，默认都是press\n\n        if (!panEventListeners || !panEventListeners.length) {\n          type = 'press';\n        } else {\n          // 如果有pan事件的处理，press则需要停顿250ms, 且移动距离小于10\n          var now = Date.now();\n\n          if (now - startTime > PRESS_DELAY && calcDistance(startPoints[0], points[0]) < 10) {\n            type = 'press';\n          } else {\n            type = 'pan';\n          }\n        }\n\n        this.eventType = type;\n        return type;\n      };\n\n      _proto.enable = function enable(eventType) {\n        this.processEvent[eventType] = true;\n      } // 是否进行中的事件\n      ;\n\n      _proto.isProcess = function isProcess(eventType) {\n        return this.processEvent[eventType];\n      } // 触发start事件\n      ;\n\n      _proto.emitStart = function emitStart(type, ev) {\n        if (this.isProcess(type)) {\n          return;\n        }\n\n        this.enable(type);\n        this.emitEvent(type + \"start\", ev);\n      } // 触发end事件\n      ;\n\n      _proto.emitEnd = function emitEnd(ev) {\n        var _this2 = this;\n\n        var processEvent = this.processEvent;\n        Object.keys(processEvent).forEach(function (type) {\n          _this2.emitEvent(type + \"end\", ev);\n\n          delete processEvent[type];\n        });\n      };\n\n      _proto.clearPressTimeout = function clearPressTimeout() {\n        if (this.pressTimeout) {\n          clearTimeout(this.pressTimeout);\n          this.pressTimeout = 0;\n        }\n      };\n\n      _proto.reset = function reset() {\n        this.clearPressTimeout();\n        this.startTime = 0;\n        this.startPoints = null;\n        this.startDistance = 0;\n        this.direction = null;\n        this.eventType = null;\n        this.pinch = false;\n        this.prevMoveTime = 0;\n        this.prevMovePoints = null;\n        this.lastMoveTime = 0;\n        this.lastMovePoints = null;\n      };\n\n      return EventController;\n    }();\n\n    var CanvasElement = /*#__PURE__*/function (_EventEmit) {\n      _inheritsLoose(CanvasElement, _EventEmit);\n\n      function CanvasElement(ctx) {\n        var _this;\n\n        _this = _EventEmit.call(this) || this;\n        _this.context = ctx; // canvas实际的宽高 (width/height) * pixelRatio\n\n        _this.width = 0;\n        _this.height = 0;\n        _this.style = {};\n        _this.currentStyle = {}; // 用来标识是CanvasElement实例\n\n        _this.isCanvasElement = true;\n        return _this;\n      }\n\n      var _proto = CanvasElement.prototype;\n\n      _proto.getContext = function getContext()\n      /* type */\n      {\n        return this.context;\n      };\n\n      _proto.getBoundingClientRect = function getBoundingClientRect() {\n        var width = this.width;\n        var height = this.height; // 默认都处理成可视窗口的顶部位置\n\n        return {\n          top: 0,\n          right: width,\n          bottom: height,\n          left: 0\n        };\n      };\n\n      _proto.addEventListener = function addEventListener(type, listener) {\n        this.on(type, listener);\n      };\n\n      _proto.removeEventListener = function removeEventListener(type, listener) {\n        this.off(type, listener);\n      };\n\n      _proto.dispatchEvent = function dispatchEvent(type, e) {\n        this.emit(type, e);\n      };\n\n      return CanvasElement;\n    }(EventEmit);\n\n    function supportEventListener(canvas) {\n      if (!canvas) {\n        return false;\n      } // 非 HTMLCanvasElement\n\n\n      if (canvas.nodeType !== 1 || !canvas.nodeName || canvas.nodeName.toLowerCase() !== 'canvas') {\n        return false;\n      } // 微信小程序canvas.getContext('2d')时也是CanvasRenderingContext2D\n      // 也会有ctx.canvas, 而且nodeType也是1，所以还要在看下是否支持addEventListener\n\n\n      var support = false;\n\n      try {\n        canvas.addEventListener('eventTest', function () {\n          support = true;\n        });\n        canvas.dispatchEvent(new Event('eventTest'));\n      } catch (error) {\n        support = false;\n      }\n\n      return support;\n    }\n\n    var CanvasElement$1 = {\n      create: function create(ctx) {\n        if (!ctx) {\n          return null;\n        }\n\n        if (supportEventListener(ctx.canvas)) {\n          return ctx.canvas;\n        }\n\n        return new CanvasElement(ctx);\n      }\n    };\n\n    function _mod(n, m) {\n      return (n % m + m) % m;\n    }\n\n    function _addStop(steps, gradient) {\n      each(steps, function (item) {\n        item = item.split(':');\n        gradient.addColorStop(Number(item[0]), item[1]);\n      });\n    } // the string format: 'l(0) 0:#ffffff 0.5:#7ec2f3 1:#1890ff'\n\n\n    function _parseLineGradient(color, shape, context) {\n      var arr = color.split(' ');\n      var angle = arr[0].slice(2, arr[0].length - 1);\n      angle = _mod(parseFloat(angle) * Math.PI / 180, Math.PI * 2);\n      var steps = arr.slice(1);\n\n      var _shape$getBBox = shape.getBBox(),\n          minX = _shape$getBBox.minX,\n          minY = _shape$getBBox.minY,\n          maxX = _shape$getBBox.maxX,\n          maxY = _shape$getBBox.maxY;\n\n      var start;\n      var end;\n\n      if (angle >= 0 && angle < 0.5 * Math.PI) {\n        start = {\n          x: minX,\n          y: minY\n        };\n        end = {\n          x: maxX,\n          y: maxY\n        };\n      } else if (0.5 * Math.PI <= angle && angle < Math.PI) {\n        start = {\n          x: maxX,\n          y: minY\n        };\n        end = {\n          x: minX,\n          y: maxY\n        };\n      } else if (Math.PI <= angle && angle < 1.5 * Math.PI) {\n        start = {\n          x: maxX,\n          y: maxY\n        };\n        end = {\n          x: minX,\n          y: minY\n        };\n      } else {\n        start = {\n          x: minX,\n          y: maxY\n        };\n        end = {\n          x: maxX,\n          y: minY\n        };\n      }\n\n      var tanTheta = Math.tan(angle);\n      var tanTheta2 = tanTheta * tanTheta;\n      var x = (end.x - start.x + tanTheta * (end.y - start.y)) / (tanTheta2 + 1) + start.x;\n      var y = tanTheta * (end.x - start.x + tanTheta * (end.y - start.y)) / (tanTheta2 + 1) + start.y;\n      var gradient = context.createLinearGradient(start.x, start.y, x, y);\n\n      _addStop(steps, gradient);\n\n      return gradient;\n    } // the string format: 'r(0.5, 0.5, 0.1) 0:#ffffff 1:#1890ff'\n\n\n    function _parseRadialGradient(color, shape, context) {\n      var arr = color.split(' ');\n      var circleCfg = arr[0].slice(2, arr[0].length - 1);\n      circleCfg = circleCfg.split(',');\n      var fx = parseFloat(circleCfg[0]);\n      var fy = parseFloat(circleCfg[1]);\n      var fr = parseFloat(circleCfg[2]);\n      var steps = arr.slice(1); // if radius is 0, no gradient, stroke with the last color\n\n      if (fr === 0) {\n        var _color = steps[steps.length - 1];\n        return _color.split(':')[1];\n      }\n\n      var _shape$getBBox2 = shape.getBBox(),\n          width = _shape$getBBox2.width,\n          height = _shape$getBBox2.height,\n          minX = _shape$getBBox2.minX,\n          minY = _shape$getBBox2.minY;\n\n      var r = Math.sqrt(width * width + height * height) / 2;\n      var gradient = context.createRadialGradient(minX + width * fx, minY + height * fy, fr * r, minX + width / 2, minY + height / 2, r);\n\n      _addStop(steps, gradient);\n\n      return gradient;\n    }\n\n    function parseStyle(color, shape, context) {\n      if (color[1] === '(') {\n        try {\n          var firstCode = color[0];\n\n          if (firstCode === 'l') {\n            return _parseLineGradient(color, shape, context);\n          } else if (firstCode === 'r') {\n            return _parseRadialGradient(color, shape, context);\n          }\n        } catch (ev) {\n          console.error('error in parsing gradient string, please check if there are any extra whitespaces.');\n          console.error(ev);\n        }\n      }\n\n      return color;\n    }\n\n    var ALIAS_ATTRS_MAP = {\n      stroke: 'strokeStyle',\n      fill: 'fillStyle',\n      opacity: 'globalAlpha'\n    };\n    var SHAPE_ATTRS = ['fillStyle', 'font', 'globalAlpha', 'lineCap', 'lineWidth', 'lineJoin', 'miterLimit', 'shadowBlur', 'shadowColor', 'shadowOffsetX', 'shadowOffsetY', 'strokeStyle', 'textAlign', 'textBaseline', 'lineDash', 'shadow' // 兼容支付宝小程序\n    ];\n    var CLIP_SHAPES = ['circle', 'sector', 'polygon', 'rect', 'polyline'];\n\n    var Element = /*#__PURE__*/function () {\n      var _proto = Element.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        this._attrs = {\n          zIndex: 0,\n          visible: true,\n          destroyed: false\n        };\n      };\n\n      function Element(cfg) {\n        this._initProperties();\n\n        mix(this._attrs, cfg);\n        var attrs = this._attrs.attrs;\n\n        if (attrs) {\n          this.initAttrs(attrs);\n        }\n\n        this.initTransform();\n      }\n\n      _proto.get = function get(name) {\n        return this._attrs[name];\n      };\n\n      _proto.set = function set(name, value) {\n        this._attrs[name] = value;\n      };\n\n      _proto.isGroup = function isGroup() {\n        return this.get('isGroup');\n      };\n\n      _proto.isShape = function isShape() {\n        return this.get('isShape');\n      };\n\n      _proto.initAttrs = function initAttrs(attrs) {\n        this.attr(mix(this.getDefaultAttrs(), attrs));\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {};\n      };\n\n      _proto._setAttr = function _setAttr(name, value) {\n        var attrs = this._attrs.attrs;\n\n        if (name === 'clip') {\n          value = this._setAttrClip(value);\n        } else {\n          var alias = ALIAS_ATTRS_MAP[name];\n\n          if (alias) {\n            attrs[alias] = value;\n          }\n        }\n\n        attrs[name] = value;\n      };\n\n      _proto._getAttr = function _getAttr(name) {\n        return this._attrs.attrs[name];\n      } // _afterAttrsSet() {}\n      ;\n\n      _proto._setAttrClip = function _setAttrClip(clip) {\n        if (clip && CLIP_SHAPES.indexOf(clip._attrs.type) > -1) {\n          if (clip.get('canvas') === null) {\n            clip = Object.assign({}, clip);\n          }\n\n          clip.set('parent', this.get('parent'));\n          clip.set('context', this.get('context'));\n          return clip;\n        }\n\n        return null;\n      };\n\n      _proto.attr = function attr(name, value) {\n        var self = this;\n        if (self.get('destroyed')) return null;\n        var argumentsLen = arguments.length;\n\n        if (argumentsLen === 0) {\n          return self._attrs.attrs;\n        }\n\n        if (isObject(name)) {\n          this._attrs.bbox = null;\n\n          for (var k in name) {\n            self._setAttr(k, name[k]);\n          }\n\n          if (self._afterAttrsSet) {\n            self._afterAttrsSet();\n          }\n\n          return self;\n        }\n\n        if (argumentsLen === 2) {\n          this._attrs.bbox = null;\n\n          self._setAttr(name, value);\n\n          if (self._afterAttrsSet) {\n            self._afterAttrsSet();\n          }\n\n          return self;\n        }\n\n        return self._getAttr(name);\n      };\n\n      _proto.getParent = function getParent() {\n        return this.get('parent');\n      };\n\n      _proto.draw = function draw(context) {\n        if (this.get('destroyed')) {\n          return;\n        }\n\n        if (this.get('visible')) {\n          this.setContext(context);\n          this.drawInner(context);\n          this.restoreContext(context);\n        }\n      };\n\n      _proto.setContext = function setContext(context) {\n        var clip = this._attrs.attrs.clip;\n        context.save();\n\n        if (clip) {\n          clip.resetTransform(context);\n          clip.createPath(context);\n          context.clip();\n        }\n\n        this.resetContext(context);\n        this.resetTransform(context);\n      };\n\n      _proto.restoreContext = function restoreContext(context) {\n        context.restore();\n      };\n\n      _proto.resetContext = function resetContext(context) {\n        var elAttrs = this._attrs.attrs;\n\n        if (!this._attrs.isGroup) {\n          for (var k in elAttrs) {\n            if (SHAPE_ATTRS.indexOf(k) > -1) {\n              var v = elAttrs[k];\n\n              if (k === 'fillStyle' || k === 'strokeStyle') {\n                v = parseStyle(v, this, context);\n              }\n\n              if (k === 'lineDash' && context.setLineDash && isArray(v)) {\n                context.setLineDash(v);\n              } else {\n                context[k] = v;\n              }\n            }\n          }\n        }\n      };\n\n      _proto.hasFill = function hasFill() {\n        return this.get('canFill') && this._attrs.attrs.fillStyle;\n      };\n\n      _proto.hasStroke = function hasStroke() {\n        return this.get('canStroke') && this._attrs.attrs.strokeStyle;\n      };\n\n      _proto.drawInner = function drawInner()\n      /* context */\n      {};\n\n      _proto.show = function show() {\n        this.set('visible', true);\n        return this;\n      };\n\n      _proto.hide = function hide() {\n        this.set('visible', false);\n        return this;\n      };\n\n      _proto.isVisible = function isVisible() {\n        return this.get('visible');\n      };\n\n      _proto._removeFromParent = function _removeFromParent() {\n        var parent = this.get('parent');\n\n        if (parent) {\n          var children = parent.get('children');\n          remove(children, this);\n        }\n\n        return this;\n      };\n\n      _proto.remove = function remove(destroy) {\n        if (destroy) {\n          this.destroy();\n        } else {\n          this._removeFromParent();\n        }\n      };\n\n      _proto.destroy = function destroy() {\n        var destroyed = this.get('destroyed');\n\n        if (destroyed) {\n          return null;\n        }\n\n        this._removeFromParent();\n\n        this._attrs = {};\n        this.set('destroyed', true);\n      };\n\n      _proto.getBBox = function getBBox() {\n        return {\n          minX: 0,\n          maxX: 0,\n          minY: 0,\n          maxY: 0,\n          width: 0,\n          height: 0\n        };\n      };\n\n      _proto.initTransform = function initTransform() {\n        var attrs = this._attrs.attrs || {};\n\n        if (!attrs.matrix) {\n          attrs.matrix = [1, 0, 0, 1, 0, 0];\n        }\n\n        this._attrs.attrs = attrs;\n      };\n\n      _proto.getMatrix = function getMatrix() {\n        return this._attrs.attrs.matrix;\n      };\n\n      _proto.setMatrix = function setMatrix(m) {\n        this._attrs.attrs.matrix = [m[0], m[1], m[2], m[3], m[4], m[5]];\n      };\n\n      _proto.transform = function transform(actions) {\n        var matrix = this._attrs.attrs.matrix;\n        this._attrs.attrs.matrix = Matrix.transform(matrix, actions);\n        return this;\n      };\n\n      _proto.setTransform = function setTransform(actions) {\n        this._attrs.attrs.matrix = [1, 0, 0, 1, 0, 0];\n        return this.transform(actions);\n      };\n\n      _proto.translate = function translate(x, y) {\n        var matrix = this._attrs.attrs.matrix;\n        Matrix.translate(matrix, matrix, [x, y]);\n      };\n\n      _proto.rotate = function rotate(rad) {\n        var matrix = this._attrs.attrs.matrix;\n        Matrix.rotate(matrix, matrix, rad);\n      };\n\n      _proto.scale = function scale(sx, sy) {\n        var matrix = this._attrs.attrs.matrix;\n        Matrix.scale(matrix, matrix, [sx, sy]);\n      };\n\n      _proto.moveTo = function moveTo(x, y) {\n        var cx = this._attrs.x || 0;\n        var cy = this._attrs.y || 0;\n        this.translate(x - cx, y - cy);\n        this.set('x', x);\n        this.set('y', y);\n      };\n\n      _proto.apply = function apply(v) {\n        var m = this._attrs.attrs.matrix;\n        Vector2.transformMat2d(v, v, m);\n        return this;\n      };\n\n      _proto.resetTransform = function resetTransform(context) {\n        var mo = this._attrs.attrs.matrix;\n\n        if (Matrix.isChanged(mo)) {\n          context.transform(mo[0], mo[1], mo[2], mo[3], mo[4], mo[5]);\n        }\n      };\n\n      _proto.isDestroyed = function isDestroyed() {\n        return this.get('destroyed');\n      };\n\n      return Element;\n    }();\n\n    var Shape$2 = /*#__PURE__*/function (_Element) {\n      _inheritsLoose(Shape, _Element);\n\n      function Shape() {\n        return _Element.apply(this, arguments) || this;\n      }\n\n      var _proto = Shape.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        this._attrs = {\n          zIndex: 0,\n          visible: true,\n          destroyed: false,\n          isShape: true,\n          attrs: {}\n        };\n      };\n\n      _proto.getType = function getType() {\n        return this._attrs.type;\n      };\n\n      _proto.drawInner = function drawInner(context) {\n        var self = this;\n        var attrs = self.get('attrs');\n        self.createPath(context);\n        var originOpacity = context.globalAlpha;\n\n        if (self.hasFill()) {\n          var fillOpacity = attrs.fillOpacity;\n\n          if (!isNil(fillOpacity) && fillOpacity !== 1) {\n            context.globalAlpha = fillOpacity;\n            context.fill();\n            context.globalAlpha = originOpacity;\n          } else {\n            context.fill();\n          }\n        }\n\n        if (self.hasStroke()) {\n          var lineWidth = attrs.lineWidth;\n\n          if (lineWidth > 0) {\n            var strokeOpacity = attrs.strokeOpacity;\n\n            if (!isNil(strokeOpacity) && strokeOpacity !== 1) {\n              context.globalAlpha = strokeOpacity;\n            }\n\n            context.stroke();\n          }\n        }\n      };\n\n      _proto.getBBox = function getBBox() {\n        var bbox = this._attrs.bbox;\n\n        if (!bbox) {\n          bbox = this.calculateBox();\n\n          if (bbox) {\n            bbox.x = bbox.minX;\n            bbox.y = bbox.minY;\n            bbox.width = bbox.maxX - bbox.minX;\n            bbox.height = bbox.maxY - bbox.minY;\n          }\n\n          this._attrs.bbox = bbox;\n        }\n\n        return bbox;\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        return null;\n      };\n\n      _proto.createPath = function createPath() {};\n\n      return Shape;\n    }(Element);\n\n    var SHAPE_MAP = {};\n    var INDEX = '_INDEX';\n\n    function getComparer(compare) {\n      return function (left, right) {\n        var result = compare(left, right);\n        return result === 0 ? left[INDEX] - right[INDEX] : result;\n      };\n    }\n\n    var Container = {\n      getGroupClass: function getGroupClass() {},\n      getChildren: function getChildren() {\n        return this.get('children');\n      },\n      addShape: function addShape(type, cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        var canvas = this.get('canvas');\n        var shapeType = SHAPE_MAP[type];\n\n        if (!shapeType) {\n          shapeType = upperFirst(type);\n          SHAPE_MAP[type] = shapeType;\n        }\n\n        cfg.canvas = canvas;\n\n        if (shapeType === 'Text' && canvas && canvas.get('fontFamily')) {\n          cfg.attrs.fontFamily = cfg.attrs.fontFamily || canvas.get('fontFamily');\n        }\n\n        var shape = new Shape$2[shapeType](cfg);\n        this.add(shape);\n        return shape;\n      },\n      addGroup: function addGroup(cfg) {\n        var canvas = this.get('canvas');\n        var groupClass = this.getGroupClass();\n        cfg = mix({}, cfg);\n        cfg.canvas = canvas;\n        cfg.parent = this;\n        var rst = new groupClass(cfg);\n        this.add(rst);\n        return rst;\n      },\n      contain: function contain(item) {\n        var children = this.get('children');\n        return children.indexOf(item) > -1;\n      },\n      sort: function sort() {\n        var children = this.get('children');\n\n        for (var i = 0, len = children.length; i < len; i++) {\n          var child = children[i];\n          child[INDEX] = i;\n        }\n\n        children.sort(getComparer(function (obj1, obj2) {\n          return obj1.get('zIndex') - obj2.get('zIndex');\n        }));\n        return this;\n      },\n      drawInner: function drawInner(context) {\n        var children = this.get('children');\n\n        for (var i = 0, len = children.length; i < len; i++) {\n          var child = children[i];\n          child.draw(context);\n        }\n\n        return this;\n      },\n      clear: function clear() {\n        var children = this.get('children');\n\n        while (children.length !== 0) {\n          children[children.length - 1].remove(true);\n        }\n\n        return this;\n      },\n      add: function add(items) {\n        var self = this;\n        var children = self.get('children');\n\n        if (!isArray(items)) {\n          items = [items];\n        }\n\n        for (var i = 0, len = items.length; i < len; i++) {\n          var item = items[i];\n          var parent = item.get('parent');\n\n          if (parent) {\n            var descendants = parent.get('children');\n            remove(descendants, item);\n          }\n\n          self._setEvn(item);\n\n          children.push(item);\n        }\n\n        return self;\n      },\n      _setEvn: function _setEvn(item) {\n        var self = this;\n        item._attrs.parent = self;\n        item._attrs.context = self._attrs.context;\n        item._attrs.canvas = self._attrs.canvas;\n        var clip = item._attrs.attrs.clip;\n\n        if (clip) {\n          clip.set('parent', self);\n          clip.set('context', self.get('context'));\n        }\n\n        if (item._attrs.isGroup) {\n          var children = item._attrs.children;\n\n          for (var i = 0, len = children.length; i < len; i++) {\n            item._setEvn(children[i]);\n          }\n        }\n      }\n    };\n\n    var Group = /*#__PURE__*/function (_Element) {\n      _inheritsLoose(Group, _Element);\n\n      function Group() {\n        return _Element.apply(this, arguments) || this;\n      }\n\n      var _proto = Group.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        this._attrs = {\n          zIndex: 0,\n          visible: true,\n          destroyed: false,\n          isGroup: true,\n          children: []\n        };\n      };\n\n      _proto.getBBox = function getBBox() {\n        var self = this;\n        var minX = Infinity;\n        var maxX = -Infinity;\n        var minY = Infinity;\n        var maxY = -Infinity;\n        var children = self.get('children');\n\n        for (var i = 0, length = children.length; i < length; i++) {\n          var child = children[i];\n\n          if (child.get('visible')) {\n            var box = child.getBBox();\n\n            if (!box) {\n              continue;\n            }\n\n            var leftTop = [box.minX, box.minY];\n            var leftBottom = [box.minX, box.maxY];\n            var rightTop = [box.maxX, box.minY];\n            var rightBottom = [box.maxX, box.maxY];\n            var matrix = child.attr('matrix');\n            Vector2.transformMat2d(leftTop, leftTop, matrix);\n            Vector2.transformMat2d(leftBottom, leftBottom, matrix);\n            Vector2.transformMat2d(rightTop, rightTop, matrix);\n            Vector2.transformMat2d(rightBottom, rightBottom, matrix);\n            minX = Math.min(leftTop[0], leftBottom[0], rightTop[0], rightBottom[0], minX);\n            maxX = Math.max(leftTop[0], leftBottom[0], rightTop[0], rightBottom[0], maxX);\n            minY = Math.min(leftTop[1], leftBottom[1], rightTop[1], rightBottom[1], minY);\n            maxY = Math.max(leftTop[1], leftBottom[1], rightTop[1], rightBottom[1], maxY);\n          }\n        }\n\n        return {\n          minX: minX,\n          minY: minY,\n          maxX: maxX,\n          maxY: maxY,\n          x: minX,\n          y: minY,\n          width: maxX - minX,\n          height: maxY - minY\n        };\n      };\n\n      _proto.destroy = function destroy() {\n        if (this.get('destroyed')) {\n          return;\n        }\n\n        this.clear();\n\n        _Element.prototype.destroy.call(this);\n      };\n\n      return Group;\n    }(Element);\n\n    mix(Group.prototype, Container, {\n      getGroupClass: function getGroupClass() {\n        return Group;\n      }\n    });\n\n    var requestAnimationFrame = typeof window === 'object' && window.requestAnimationFrame ? window.requestAnimationFrame : function (fn) {\n      return setTimeout(fn, 16);\n    };\n\n    var Canvas = /*#__PURE__*/function (_EventEmit) {\n      _inheritsLoose(Canvas, _EventEmit);\n\n      var _proto = Canvas.prototype;\n\n      _proto.get = function get(name) {\n        return this._attrs[name];\n      };\n\n      _proto.set = function set(name, value) {\n        this._attrs[name] = value;\n      };\n\n      function Canvas(cfg) {\n        var _this;\n\n        _this = _EventEmit.call(this) || this;\n        _this._attrs = mix({\n          type: 'canvas',\n          children: []\n        }, cfg);\n\n        _this._initPixelRatio();\n\n        _this._initCanvas();\n\n        return _this;\n      }\n\n      _proto._initPixelRatio = function _initPixelRatio() {\n        var pixelRatio = this.get('pixelRatio');\n\n        if (!pixelRatio) {\n          this.set('pixelRatio', getPixelRatio());\n        }\n      };\n\n      _proto.beforeDraw = function beforeDraw() {\n        var context = this._attrs.context;\n        var el = this._attrs.el;\n        context && context.clearRect && context.clearRect(0, 0, el.width, el.height);\n      };\n\n      _proto._initCanvas = function _initCanvas() {\n        var self = this;\n        var el = self.get('el');\n        var context = self.get('context');\n\n        if (!el && !context) {\n          throw new Error('Please specify the id, el or context of the chart!');\n        }\n\n        var canvas;\n\n        if (el) {\n          // DOMElement or String\n          canvas = isString(el) ? getDomById(el) : el;\n        } else {\n          // 说明没有指定el\n          canvas = CanvasElement$1.create(context);\n        }\n\n        if (context && canvas && !canvas.getContext) {\n          canvas.getContext = function () {\n            return context;\n          };\n        }\n\n        var width = self.get('width');\n\n        if (!width) {\n          width = getWidth(canvas);\n        }\n\n        var height = self.get('height');\n\n        if (!height) {\n          height = getHeight(canvas);\n        }\n\n        self.set('canvas', this);\n        self.set('el', canvas);\n        self.set('context', context || canvas.getContext('2d'));\n        self.changeSize(width, height); // 初始化事件控制器\n\n        var eventController = new EventController({\n          canvas: this,\n          el: canvas\n        });\n        self.set('eventController', eventController);\n      };\n\n      _proto.changeSize = function changeSize(width, height) {\n        var pixelRatio = this.get('pixelRatio');\n        var canvasDOM = this.get('el'); // HTMLCanvasElement or canvasElement\n        // 浏览器环境设置style样式\n\n        if (canvasDOM.style) {\n          canvasDOM.style.width = width + 'px';\n          canvasDOM.style.height = height + 'px';\n        }\n\n        if (isCanvasElement(canvasDOM)) {\n          canvasDOM.width = width * pixelRatio;\n          canvasDOM.height = height * pixelRatio;\n\n          if (pixelRatio !== 1) {\n            var ctx = this.get('context');\n            ctx.scale(pixelRatio, pixelRatio);\n          }\n        }\n\n        this.set('width', width);\n        this.set('height', height);\n      };\n\n      _proto.getWidth = function getWidth() {\n        var pixelRatio = this.get('pixelRatio');\n        var width = this.get('width');\n        return width * pixelRatio;\n      };\n\n      _proto.getHeight = function getHeight() {\n        var pixelRatio = this.get('pixelRatio');\n        var height = this.get('height');\n        return height * pixelRatio;\n      };\n\n      _proto.getPointByClient = function getPointByClient(clientX, clientY) {\n        var el = this.get('el');\n        var bbox = el.getBoundingClientRect();\n        var width = bbox.right - bbox.left;\n        var height = bbox.bottom - bbox.top;\n        return {\n          x: (clientX - bbox.left) * (el.width / width),\n          y: (clientY - bbox.top) * (el.height / height)\n        };\n      };\n\n      _proto._beginDraw = function _beginDraw() {\n        this._attrs.toDraw = true;\n      };\n\n      _proto._endDraw = function _endDraw() {\n        this._attrs.toDraw = false;\n      };\n\n      _proto.draw = function draw() {\n        var self = this;\n\n        function drawInner() {\n          self.set('animateHandler', requestAnimationFrame(function () {\n            self.set('animateHandler', undefined);\n\n            if (self.get('toDraw')) {\n              drawInner();\n            }\n          }));\n          self.beforeDraw();\n\n          try {\n            var context = self._attrs.context;\n            self.drawInner(context); // 支付宝，微信小程序，需要调context.draw才能完成绘制， 所以这里直接判断是否有.draw方法\n\n            if (context.draw) {\n              context.draw();\n            }\n          } catch (ev) {\n            console.warn('error in draw canvas, detail as:');\n            console.warn(ev);\n\n            self._endDraw();\n          }\n\n          self._endDraw();\n        }\n\n        if (self.get('destroyed')) {\n          return;\n        }\n\n        if (self.get('animateHandler')) {\n          this._beginDraw();\n        } else {\n          drawInner();\n        }\n      };\n\n      _proto.destroy = function destroy() {\n        if (this.get('destroyed')) {\n          return;\n        } // 需要清理 canvas 画布内容，否则会导致 spa 应用 ios 下 canvas 白屏\n        // https://stackoverflow.com/questions/52532614/total-canvas-memory-use-exceeds-the-maximum-limit-safari-12\n        // https://github.com/antvis/F2/issues/630\n\n\n        var el = this.get('el');\n        el.width = 0;\n        el.height = 0;\n        this.clear();\n        this._attrs = {};\n        this.set('destroyed', true);\n      };\n\n      _proto.isDestroyed = function isDestroyed() {\n        return this.get('destroyed');\n      };\n\n      return Canvas;\n    }(EventEmit);\n\n    mix(Canvas.prototype, Container, {\n      getGroupClass: function getGroupClass() {\n        return Group;\n      }\n    });\n\n    function parseRadius(radius, width, height) {\n      radius = parsePadding(radius); // 都为0\n\n      if (!radius[0] && !radius[1] && !radius[2] && !radius[3]) {\n        return radius;\n      }\n\n      var minWidth = Math.max(radius[0] + radius[1], radius[2] + radius[3]);\n      var minHeight = Math.max(radius[0] + radius[3], radius[1] + radius[2]);\n      var scale = Math.min(width / minWidth, height / minHeight);\n\n      if (scale < 1) {\n        return radius.map(function (r) {\n          return r * scale;\n        });\n      }\n\n      return radius;\n    }\n\n    var Rect = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Rect, _Shape);\n\n      function Rect() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Rect.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canFill = true;\n        this._attrs.canStroke = true;\n        this._attrs.type = 'rect';\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {\n          x: 0,\n          y: 0,\n          width: 0,\n          height: 0,\n          radius: 0,\n          lineWidth: 0\n        };\n      };\n\n      _proto.createPath = function createPath(context) {\n        var self = this;\n        var attrs = self.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            width = attrs.width,\n            height = attrs.height,\n            radius = attrs.radius;\n        context.beginPath();\n\n        if (!radius || !(width * height)) {\n          context.rect(x, y, width, height);\n        } else {\n          radius = parseRadius(radius, width, height);\n          context.moveTo(x + radius[0], y);\n          context.lineTo(x + width - radius[1], y);\n          context.arc(x + width - radius[1], y + radius[1], radius[1], -Math.PI / 2, 0, false);\n          context.lineTo(x + width, y + height - radius[2]);\n          context.arc(x + width - radius[2], y + height - radius[2], radius[2], 0, Math.PI / 2, false);\n          context.lineTo(x + radius[3], y + height);\n          context.arc(x + radius[3], y + height - radius[3], radius[3], Math.PI / 2, Math.PI, false);\n          context.lineTo(x, y + radius[0]);\n          context.arc(x + radius[0], y + radius[0], radius[0], Math.PI, Math.PI * 3 / 2, false);\n          context.closePath();\n        }\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            width = attrs.width,\n            height = attrs.height;\n        return {\n          minX: x,\n          minY: y,\n          maxX: x + width,\n          maxY: y + height\n        };\n      };\n\n      return Rect;\n    }(Shape$2);\n\n    Shape$2.Rect = Rect;\n\n    var ImageShape = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(ImageShape, _Shape);\n\n      function ImageShape() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = ImageShape.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canFill = false;\n        this._attrs.canStroke = false;\n        this._attrs.loading = false;\n        this._attrs.image = null;\n        this._attrs.type = 'image';\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {\n          x: 0,\n          y: 0,\n          width: 0,\n          height: 0\n        };\n      };\n\n      _proto.createPath = function createPath(context) {\n        var _this = this;\n\n        var attrs = this.get('attrs');\n        var src = attrs.src;\n\n        if (this.get('loading')) {\n          return;\n        }\n\n        var image = this.get('image');\n\n        if (image) {\n          this.drawImage(context, image);\n        } else {\n          if (src && Image) {\n            this.set('loading', true);\n\n            var _image = new Image();\n\n            _image.src = src; // 设置跨域\n\n            _image.crossOrigin = 'Anonymous';\n\n            _image.onload = function () {\n              _this.set('loading', false);\n\n              _this.set('image', _image);\n\n              _this.drawImage(context, _image);\n            };\n          }\n        }\n      };\n\n      _proto.drawImage = function drawImage(context, image) {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            width = attrs.width,\n            height = attrs.height,\n            sx = attrs.sx,\n            sy = attrs.sy,\n            swidth = attrs.swidth,\n            sheight = attrs.sheight;\n\n        if (!isNil(sx) && !isNil(sy) && !isNil(swidth) && !isNil(sheight)) {\n          context.drawImage(image, sx, sy, swidth, sheight, x, y, width, height);\n        } else {\n          context.drawImage(image, x, y, width, height);\n        }\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            width = attrs.width,\n            height = attrs.height; // 和rect一样\n\n        return {\n          minX: x,\n          minY: y,\n          maxX: x + width,\n          maxY: y + height\n        };\n      };\n\n      return ImageShape;\n    }(Shape$2);\n\n    Shape$2.Image = ImageShape;\n\n    var Circle = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Circle, _Shape);\n\n      function Circle() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Circle.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canFill = true;\n        this._attrs.canStroke = true;\n        this._attrs.type = 'circle';\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {\n          x: 0,\n          y: 0,\n          r: 0,\n          lineWidth: 0\n        };\n      };\n\n      _proto.createPath = function createPath(context) {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            r = attrs.r;\n        context.beginPath();\n        context.arc(x, y, r, 0, Math.PI * 2, false);\n        context.closePath();\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            r = attrs.r;\n        return {\n          minX: x - r,\n          maxX: x + r,\n          minY: y - r,\n          maxY: y + r\n        };\n      };\n\n      return Circle;\n    }(Shape$2);\n\n    Shape$2.Circle = Circle;\n\n    var start = Vector2.create();\n    var end = Vector2.create();\n    var extremity = Vector2.create();\n\n    function getCubicBezierXYatT(startPt, controlPt1, controlPt2, endPt, T) {\n      var x = CubicN(T, startPt.x, controlPt1.x, controlPt2.x, endPt.x);\n      var y = CubicN(T, startPt.y, controlPt1.y, controlPt2.y, endPt.y);\n      return {\n        x: x,\n        y: y\n      };\n    } // cubic helper formula at T distance\n\n\n    function CubicN(T, a, b, c, d) {\n      var t2 = T * T;\n      var t3 = t2 * T;\n      return a + (-a * 3 + T * (3 * a - a * T)) * T + (3 * b + T * (-6 * b + b * 3 * T)) * T + (c * 3 - c * 3 * T) * t2 + d * t3;\n    }\n\n    function cubicBezierBounds(c) {\n      var minX = Infinity;\n      var maxX = -Infinity;\n      var minY = Infinity;\n      var maxY = -Infinity;\n      var s = {\n        x: c[0],\n        y: c[1]\n      };\n      var c1 = {\n        x: c[2],\n        y: c[3]\n      };\n      var c2 = {\n        x: c[4],\n        y: c[5]\n      };\n      var e = {\n        x: c[6],\n        y: c[7]\n      };\n\n      for (var t = 0; t < 100; t++) {\n        var pt = getCubicBezierXYatT(s, c1, c2, e, t / 100);\n\n        if (pt.x < minX) {\n          minX = pt.x;\n        }\n\n        if (pt.x > maxX) {\n          maxX = pt.x;\n        }\n\n        if (pt.y < minY) {\n          minY = pt.y;\n        }\n\n        if (pt.y > maxY) {\n          maxY = pt.y;\n        }\n      }\n\n      return {\n        minX: minX,\n        minY: minY,\n        maxX: maxX,\n        maxY: maxY\n      };\n    }\n\n    function getBBoxFromPoints(points, lineWidth) {\n      if (points.length === 0) {\n        return;\n      }\n\n      var p = points[0];\n      var left = p.x;\n      var right = p.x;\n      var top = p.y;\n      var bottom = p.y;\n      var len = points.length;\n\n      for (var i = 1; i < len; i++) {\n        p = points[i];\n        left = Math.min(left, p.x);\n        right = Math.max(right, p.x);\n        top = Math.min(top, p.y);\n        bottom = Math.max(bottom, p.y);\n      }\n\n      lineWidth = lineWidth / 2 || 0;\n      return {\n        minX: left - lineWidth,\n        minY: top - lineWidth,\n        maxX: right + lineWidth,\n        maxY: bottom + lineWidth\n      };\n    }\n\n    function getBBoxFromLine(x0, y0, x1, y1, lineWidth) {\n      lineWidth = lineWidth / 2 || 0;\n      return {\n        minX: Math.min(x0, x1) - lineWidth,\n        minY: Math.min(y0, y1) - lineWidth,\n        maxX: Math.max(x0, x1) + lineWidth,\n        maxY: Math.max(y0, y1) + lineWidth\n      };\n    }\n\n    function getBBoxFromArc(x, y, r, startAngle, endAngle, anticlockwise) {\n      var diff = Math.abs(startAngle - endAngle);\n\n      if (diff % (Math.PI * 2) < 1e-4 && diff > 1e-4) {\n        // Is a circle\n        return {\n          minX: x - r,\n          minY: y - r,\n          maxX: x + r,\n          maxY: y + r\n        };\n      }\n\n      start[0] = Math.cos(startAngle) * r + x;\n      start[1] = Math.sin(startAngle) * r + y;\n      end[0] = Math.cos(endAngle) * r + x;\n      end[1] = Math.sin(endAngle) * r + y;\n      var min = [0, 0];\n      var max = [0, 0];\n      Vector2.min(min, start, end);\n      Vector2.max(max, start, end); // Thresh to [0, Math.PI * 2]\n\n      startAngle = startAngle % (Math.PI * 2);\n\n      if (startAngle < 0) {\n        startAngle = startAngle + Math.PI * 2;\n      }\n\n      endAngle = endAngle % (Math.PI * 2);\n\n      if (endAngle < 0) {\n        endAngle = endAngle + Math.PI * 2;\n      }\n\n      if (startAngle > endAngle && !anticlockwise) {\n        endAngle += Math.PI * 2;\n      } else if (startAngle < endAngle && anticlockwise) {\n        startAngle += Math.PI * 2;\n      }\n\n      if (anticlockwise) {\n        var tmp = endAngle;\n        endAngle = startAngle;\n        startAngle = tmp;\n      }\n\n      for (var angle = 0; angle < endAngle; angle += Math.PI / 2) {\n        if (angle > startAngle) {\n          extremity[0] = Math.cos(angle) * r + x;\n          extremity[1] = Math.sin(angle) * r + y;\n          Vector2.min(min, extremity, min);\n          Vector2.max(max, extremity, max);\n        }\n      }\n\n      return {\n        minX: min[0],\n        minY: min[1],\n        maxX: max[0],\n        maxY: max[1]\n      };\n    }\n\n    function getBBoxFromBezierGroup(points, lineWidth) {\n      var minX = Infinity;\n      var maxX = -Infinity;\n      var minY = Infinity;\n      var maxY = -Infinity;\n\n      for (var i = 0, len = points.length; i < len; i++) {\n        var bbox = cubicBezierBounds(points[i]);\n\n        if (bbox.minX < minX) {\n          minX = bbox.minX;\n        }\n\n        if (bbox.maxX > maxX) {\n          maxX = bbox.maxX;\n        }\n\n        if (bbox.minY < minY) {\n          minY = bbox.minY;\n        }\n\n        if (bbox.maxY > maxY) {\n          maxY = bbox.maxY;\n        }\n      }\n\n      lineWidth = lineWidth / 2 || 0;\n      return {\n        minX: minX - lineWidth,\n        minY: minY - lineWidth,\n        maxX: maxX + lineWidth,\n        maxY: maxY + lineWidth\n      };\n    }\n\n    var Line$1 = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Line, _Shape);\n\n      function Line() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Line.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canStroke = true;\n        this._attrs.type = 'line';\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {\n          x1: 0,\n          y1: 0,\n          x2: 0,\n          y2: 0,\n          lineWidth: 1\n        };\n      };\n\n      _proto.createPath = function createPath(context) {\n        var attrs = this.get('attrs');\n        var x1 = attrs.x1,\n            y1 = attrs.y1,\n            x2 = attrs.x2,\n            y2 = attrs.y2;\n        context.beginPath();\n        context.moveTo(x1, y1);\n        context.lineTo(x2, y2);\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var attrs = this.get('attrs');\n        var x1 = attrs.x1,\n            y1 = attrs.y1,\n            x2 = attrs.x2,\n            y2 = attrs.y2,\n            lineWidth = attrs.lineWidth;\n        return getBBoxFromLine(x1, y1, x2, y2, lineWidth);\n      };\n\n      return Line;\n    }(Shape$2);\n\n    Shape$2.Line = Line$1;\n\n    var Polygon = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Polygon, _Shape);\n\n      function Polygon() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Polygon.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canFill = true;\n        this._attrs.canStroke = true;\n        this._attrs.type = 'polygon';\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {\n          points: null,\n          lineWidth: 0\n        };\n      };\n\n      _proto.createPath = function createPath(context) {\n        var self = this;\n        var attrs = self.get('attrs');\n        var points = attrs.points;\n        context.beginPath();\n\n        for (var i = 0, len = points.length; i < len; i++) {\n          var point = points[i];\n\n          if (i === 0) {\n            context.moveTo(point.x, point.y);\n          } else {\n            context.lineTo(point.x, point.y);\n          }\n        }\n\n        context.closePath();\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var attrs = this.get('attrs');\n        var points = attrs.points;\n        return getBBoxFromPoints(points);\n      };\n\n      return Polygon;\n    }(Shape$2);\n\n    Shape$2.Polygon = Polygon;\n\n    /**\n     * @fileOverview convert the line to curve\n     * @author dxq613@gmail.com\n     */\n\n    function getPoint(v) {\n      return [v.x, v.y];\n    }\n\n    function smoothBezier(points, smooth, isLoop, constraint) {\n      var cps = [];\n      var prevPoint;\n      var nextPoint;\n      var hasConstraint = !!constraint;\n      var min;\n      var max;\n      var point;\n      var len;\n      var l;\n      var i;\n\n      if (hasConstraint) {\n        min = [Infinity, Infinity];\n        max = [-Infinity, -Infinity];\n\n        for (i = 0, l = points.length; i < l; i++) {\n          point = getPoint(points[i]);\n          Vector2.min(min, min, point);\n          Vector2.max(max, max, point);\n        }\n\n        Vector2.min(min, min, constraint[0]);\n        Vector2.max(max, max, constraint[1]);\n      }\n\n      for (i = 0, len = points.length; i < len; i++) {\n        point = getPoint(points[i]);\n\n        if (isLoop) {\n          prevPoint = getPoint(points[i ? i - 1 : len - 1]);\n          nextPoint = getPoint(points[(i + 1) % len]);\n        } else {\n          if (i === 0 || i === len - 1) {\n            cps.push([point[0], point[1]]);\n            continue;\n          } else {\n            prevPoint = getPoint(points[i - 1]);\n            nextPoint = getPoint(points[i + 1]);\n          }\n        }\n\n        var v = Vector2.sub([], nextPoint, prevPoint);\n        Vector2.scale(v, v, smooth);\n        var d0 = Vector2.distance(point, prevPoint);\n        var d1 = Vector2.distance(point, nextPoint);\n        var sum = d0 + d1;\n\n        if (sum !== 0) {\n          d0 /= sum;\n          d1 /= sum;\n        }\n\n        var v1 = Vector2.scale([], v, -d0);\n        var v2 = Vector2.scale([], v, d1);\n        var cp0 = Vector2.add([], point, v1);\n        var cp1 = Vector2.add([], point, v2);\n\n        if (hasConstraint) {\n          Vector2.max(cp0, cp0, min);\n          Vector2.min(cp0, cp0, max);\n          Vector2.max(cp1, cp1, min);\n          Vector2.min(cp1, cp1, max);\n        }\n\n        cps.push([cp0[0], cp0[1]]);\n        cps.push([cp1[0], cp1[1]]);\n      }\n\n      if (isLoop) {\n        cps.push(cps.shift());\n      }\n\n      return cps;\n    }\n\n    function catmullRom2bezier(pointList, z, constraint) {\n      var isLoop = !!z;\n      var controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n      var len = pointList.length;\n      var d1 = [];\n      var cp1;\n      var cp2;\n      var p;\n\n      for (var i = 0; i < len - 1; i++) {\n        cp1 = controlPointList[i * 2];\n        cp2 = controlPointList[i * 2 + 1];\n        p = pointList[i + 1];\n        d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p.x, p.y]);\n      }\n\n      if (isLoop) {\n        cp1 = controlPointList[len];\n        cp2 = controlPointList[len + 1];\n        p = pointList[0];\n        d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p.x, p.y]);\n      }\n\n      return d1;\n    }\n\n    function _filterPoints(points) {\n      var filteredPoints = [];\n\n      for (var i = 0, len = points.length; i < len; i++) {\n        var point = points[i];\n\n        if (!isNaN(point.x) && !isNaN(point.y)) {\n          filteredPoints.push(point);\n        }\n      }\n\n      return filteredPoints;\n    }\n\n    var Polyline = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Polyline, _Shape);\n\n      function Polyline() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Polyline.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canFill = true;\n        this._attrs.canStroke = true;\n        this._attrs.type = 'polyline';\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {\n          points: null,\n          lineWidth: 1,\n          smooth: false\n        };\n      };\n\n      _proto.createPath = function createPath(context) {\n        var self = this;\n        var attrs = self.get('attrs');\n        var points = attrs.points,\n            smooth = attrs.smooth;\n\n        var filteredPoints = _filterPoints(points);\n\n        context.beginPath();\n\n        if (filteredPoints.length) {\n          context.moveTo(filteredPoints[0].x, filteredPoints[0].y);\n\n          if (smooth) {\n            var constaint = [[0, 0], [1, 1]];\n            var sps = catmullRom2bezier(filteredPoints, false, constaint);\n\n            for (var i = 0, n = sps.length; i < n; i++) {\n              var sp = sps[i];\n              context.bezierCurveTo(sp[1], sp[2], sp[3], sp[4], sp[5], sp[6]);\n            }\n          } else {\n            var _i;\n\n            var l;\n\n            for (_i = 1, l = filteredPoints.length - 1; _i < l; _i++) {\n              context.lineTo(filteredPoints[_i].x, filteredPoints[_i].y);\n            }\n\n            context.lineTo(filteredPoints[l].x, filteredPoints[l].y);\n          }\n        }\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var attrs = this.get('attrs');\n        var points = attrs.points,\n            smooth = attrs.smooth,\n            lineWidth = attrs.lineWidth;\n\n        var filteredPoints = _filterPoints(points);\n\n        if (smooth) {\n          var newPoints = [];\n          var constaint = [[0, 0], [1, 1]];\n          var sps = catmullRom2bezier(filteredPoints, false, constaint);\n\n          for (var i = 0, n = sps.length; i < n; i++) {\n            var sp = sps[i];\n\n            if (i === 0) {\n              newPoints.push([filteredPoints[0].x, filteredPoints[0].y, sp[1], sp[2], sp[3], sp[4], sp[5], sp[6]]);\n            } else {\n              var lastPoint = sps[i - 1];\n              newPoints.push([lastPoint[5], lastPoint[6], sp[1], sp[2], sp[3], sp[4], sp[5], sp[6]]);\n            }\n          }\n\n          return getBBoxFromBezierGroup(newPoints, lineWidth);\n        }\n\n        return getBBoxFromPoints(filteredPoints, lineWidth);\n      };\n\n      return Polyline;\n    }(Shape$2);\n\n    Shape$2.Polyline = Polyline;\n\n    var Arc = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Arc, _Shape);\n\n      function Arc() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Arc.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canStroke = true;\n        this._attrs.canFill = true;\n        this._attrs.type = 'arc';\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {\n          x: 0,\n          y: 0,\n          r: 0,\n          startAngle: 0,\n          endAngle: Math.PI * 2,\n          anticlockwise: false,\n          lineWidth: 1\n        };\n      };\n\n      _proto.createPath = function createPath(context) {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            r = attrs.r,\n            startAngle = attrs.startAngle,\n            endAngle = attrs.endAngle,\n            anticlockwise = attrs.anticlockwise;\n        context.beginPath();\n\n        if (startAngle !== endAngle) {\n          context.arc(x, y, r, startAngle, endAngle, anticlockwise);\n        }\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            r = attrs.r,\n            startAngle = attrs.startAngle,\n            endAngle = attrs.endAngle,\n            anticlockwise = attrs.anticlockwise;\n        return getBBoxFromArc(x, y, r, startAngle, endAngle, anticlockwise);\n      };\n\n      return Arc;\n    }(Shape$2);\n\n    Shape$2.Arc = Arc;\n\n    var Sector = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Sector, _Shape);\n\n      function Sector() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Sector.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canFill = true;\n        this._attrs.canStroke = true;\n        this._attrs.type = 'sector';\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {\n          x: 0,\n          y: 0,\n          lineWidth: 0,\n          r: 0,\n          r0: 0,\n          startAngle: 0,\n          endAngle: Math.PI * 2,\n          anticlockwise: false\n        };\n      };\n\n      _proto.createPath = function createPath(context) {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            startAngle = attrs.startAngle,\n            endAngle = attrs.endAngle,\n            r = attrs.r,\n            r0 = attrs.r0,\n            anticlockwise = attrs.anticlockwise;\n        context.beginPath();\n        var unitX = Math.cos(startAngle);\n        var unitY = Math.sin(startAngle);\n        context.moveTo(unitX * r0 + x, unitY * r0 + y);\n        context.lineTo(unitX * r + x, unitY * r + y); // 当扇形的角度非常小的时候，就不进行弧线的绘制；或者整个只有1个扇形时，会出现end<0的情况不绘制\n\n        if (Math.abs(endAngle - startAngle) > 0.0001 || startAngle === 0 && endAngle < 0) {\n          context.arc(x, y, r, startAngle, endAngle, anticlockwise);\n          context.lineTo(Math.cos(endAngle) * r0 + x, Math.sin(endAngle) * r0 + y);\n\n          if (r0 !== 0) {\n            context.arc(x, y, r0, endAngle, startAngle, !anticlockwise);\n          }\n        }\n\n        context.closePath();\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            r = attrs.r,\n            r0 = attrs.r0,\n            startAngle = attrs.startAngle,\n            endAngle = attrs.endAngle,\n            anticlockwise = attrs.anticlockwise;\n        var outerBBox = getBBoxFromArc(x, y, r, startAngle, endAngle, anticlockwise);\n        var innerBBox = getBBoxFromArc(x, y, r0, startAngle, endAngle, anticlockwise);\n        return {\n          minX: Math.min(outerBBox.minX, innerBBox.minX),\n          minY: Math.min(outerBBox.minY, innerBBox.minY),\n          maxX: Math.max(outerBBox.maxX, innerBBox.maxX),\n          maxY: Math.max(outerBBox.maxY, innerBBox.maxY)\n        };\n      };\n\n      return Sector;\n    }(Shape$2);\n\n    Shape$2.Sector = Sector;\n\n    var Rect$1 = {\n      calcRotatedBox: function calcRotatedBox(_ref) {\n        var width = _ref.width,\n            height = _ref.height,\n            rotate = _ref.rotate;\n        var absRotate = Math.abs(rotate);\n        return {\n          width: Math.abs(width * Math.cos(absRotate) + height * Math.sin(absRotate)),\n          height: Math.abs(height * Math.cos(absRotate) + width * Math.sin(absRotate))\n        };\n      }\n    };\n\n    var textWidthCacheCounter = 0;\n    var textWidthCache = {};\n    var TEXT_CACHE_MAX = 5000;\n\n    var Text = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Text, _Shape);\n\n      function Text() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Text.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canFill = true;\n        this._attrs.canStroke = true;\n        this._attrs.type = 'text';\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {\n          lineWidth: 0,\n          lineCount: 1,\n          fontSize: 12,\n          fontFamily: 'sans-serif',\n          fontStyle: 'normal',\n          fontWeight: 'normal',\n          fontVariant: 'normal',\n          textAlign: 'start',\n          textBaseline: 'bottom',\n          lineHeight: null,\n          textArr: null\n        };\n      };\n\n      _proto._getFontStyle = function _getFontStyle() {\n        var attrs = this._attrs.attrs;\n        var fontSize = attrs.fontSize,\n            fontFamily = attrs.fontFamily,\n            fontWeight = attrs.fontWeight,\n            fontStyle = attrs.fontStyle,\n            fontVariant = attrs.fontVariant;\n        return fontStyle + \" \" + fontVariant + \" \" + fontWeight + \" \" + fontSize + \"px \" + fontFamily;\n      };\n\n      _proto._afterAttrsSet = function _afterAttrsSet() {\n        var attrs = this._attrs.attrs;\n        attrs.font = this._getFontStyle();\n\n        if (attrs.text) {\n          var text = attrs.text;\n          var textArr = null;\n          var lineCount = 1;\n\n          if (isString(text) && text.indexOf('\\n') !== -1) {\n            textArr = text.split('\\n');\n            lineCount = textArr.length;\n          }\n\n          attrs.lineCount = lineCount;\n          attrs.textArr = textArr;\n        }\n\n        this.set('attrs', attrs);\n      };\n\n      _proto._getTextHeight = function _getTextHeight() {\n        var attrs = this._attrs.attrs;\n\n        if (attrs.height) {\n          return attrs.height;\n        }\n\n        var lineCount = attrs.lineCount;\n        var fontSize = attrs.fontSize * 1;\n\n        if (lineCount > 1) {\n          var spaceingY = this._getSpaceingY();\n\n          return fontSize * lineCount + spaceingY * (lineCount - 1);\n        }\n\n        return fontSize;\n      };\n\n      _proto._getSpaceingY = function _getSpaceingY() {\n        var attrs = this._attrs.attrs;\n        var lineHeight = attrs.lineHeight;\n        var fontSize = attrs.fontSize * 1;\n        return lineHeight ? lineHeight - fontSize : fontSize * 0.14;\n      };\n\n      _proto.drawInner = function drawInner(context) {\n        var self = this;\n        var attrs = self._attrs.attrs;\n        var text = attrs.text;\n        var x = attrs.x;\n        var y = attrs.y;\n\n        if (isNil(text) || isNaN(x) || isNaN(y)) {\n          // text will be 0\n          return;\n        }\n\n        var textArr = attrs.textArr;\n        var fontSize = attrs.fontSize * 1;\n\n        var spaceingY = self._getSpaceingY();\n\n        if (attrs.rotate) {\n          // do rotation\n          context.translate(x, y);\n          context.rotate(attrs.rotate);\n          x = 0;\n          y = 0;\n        }\n\n        var textBaseline = attrs.textBaseline;\n        var height;\n\n        if (textArr) {\n          height = self._getTextHeight();\n        }\n\n        var subY; // context.beginPath();\n\n        if (self.hasFill()) {\n          var fillOpacity = attrs.fillOpacity;\n\n          if (!isNil(fillOpacity) && fillOpacity !== 1) {\n            context.globalAlpha = fillOpacity;\n          }\n\n          if (textArr) {\n            for (var i = 0, len = textArr.length; i < len; i++) {\n              var subText = textArr[i];\n              subY = y + i * (spaceingY + fontSize) - height + fontSize; // bottom;\n\n              if (textBaseline === 'middle') {\n                subY += height - fontSize - (height - fontSize) / 2;\n              }\n\n              if (textBaseline === 'top') {\n                subY += height - fontSize;\n              }\n\n              context.fillText(subText, x, subY);\n            }\n          } else {\n            context.fillText(text, x, y);\n          }\n        }\n\n        if (self.hasStroke()) {\n          if (textArr) {\n            for (var _i = 0, _len = textArr.length; _i < _len; _i++) {\n              var _subText = textArr[_i];\n              subY = y + _i * (spaceingY + fontSize) - height + fontSize; // bottom;\n\n              if (textBaseline === 'middle') {\n                subY += height - fontSize - (height - fontSize) / 2;\n              }\n\n              if (textBaseline === 'top') {\n                subY += height - fontSize;\n              }\n\n              context.strokeText(_subText, x, subY);\n            }\n          } else {\n            context.strokeText(text, x, y);\n          }\n        }\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var self = this;\n        var attrs = self._attrs.attrs;\n        var x = attrs.x,\n            y = attrs.y,\n            textAlign = attrs.textAlign,\n            textBaseline = attrs.textBaseline;\n\n        var width = self._getTextWidth(); // attrs.width\n\n\n        if (!width) {\n          return {\n            minX: x,\n            minY: y,\n            maxX: x,\n            maxY: y\n          };\n        }\n\n        var height = self._getTextHeight(); // attrs.height\n\n\n        if (attrs.rotate) {\n          var rotatedBox = Rect$1.calcRotatedBox({\n            width: width,\n            height: height,\n            rotate: attrs.rotate\n          });\n          width = rotatedBox.width;\n          height = rotatedBox.height;\n        }\n\n        var point = {\n          x: x,\n          y: y - height\n        }; // default textAlign: start, textBaseline: bottom\n\n        if (textAlign) {\n          if (textAlign === 'end' || textAlign === 'right') {\n            point.x -= width;\n          } else if (textAlign === 'center') {\n            point.x -= width / 2;\n          }\n        }\n\n        if (textBaseline) {\n          if (textBaseline === 'top') {\n            point.y += height;\n          } else if (textBaseline === 'middle') {\n            point.y += height / 2;\n          }\n        }\n\n        return {\n          minX: point.x,\n          minY: point.y,\n          maxX: point.x + width,\n          maxY: point.y + height\n        };\n      };\n\n      _proto._getTextWidth = function _getTextWidth() {\n        var attrs = this._attrs.attrs;\n\n        if (attrs.width) {\n          return attrs.width;\n        }\n\n        var text = attrs.text;\n        var context = this.get('context');\n        if (isNil(text)) return undefined;\n        var font = attrs.font;\n        var textArr = attrs.textArr;\n        var key = text + '' + font;\n\n        if (textWidthCache[key]) {\n          return textWidthCache[key];\n        }\n\n        var width = 0;\n\n        if (textArr) {\n          for (var i = 0, length = textArr.length; i < length; i++) {\n            var subText = textArr[i];\n            width = Math.max(width, measureText(subText, font, context).width);\n          }\n        } else {\n          width = measureText(text, font, context).width;\n        }\n\n        if (textWidthCacheCounter > TEXT_CACHE_MAX) {\n          textWidthCacheCounter = 0;\n          textWidthCache = {};\n        }\n\n        textWidthCacheCounter++;\n        textWidthCache[key] = width;\n        return width;\n      };\n\n      return Text;\n    }(Shape$2);\n\n    Shape$2.Text = Text;\n\n    var Custom = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Custom, _Shape);\n\n      function Custom() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Custom.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canFill = true;\n        this._attrs.canStroke = true;\n        this._attrs.createPath = null;\n        this._attrs.type = 'custom';\n      };\n\n      _proto.createPath = function createPath(context) {\n        var createPath = this.get('createPath');\n        createPath && createPath.call(this, context);\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var calculateBox = this.get('calculateBox');\n        return calculateBox && calculateBox.call(this);\n      };\n\n      return Custom;\n    }(Shape$2);\n\n    Shape$2.Custom = Custom;\n\n    var G = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        Canvas: Canvas,\n        Group: Group,\n        Shape: Shape$2,\n        Matrix: Matrix,\n        Vector2: Vector2\n    });\n\n    function formatTicks(ticks) {\n      var tmp = ticks.slice(0);\n\n      if (tmp.length > 0) {\n        var first = tmp[0];\n        var last = tmp[tmp.length - 1];\n\n        if (first.value !== 0) {\n          tmp.unshift({\n            value: 0\n          });\n        }\n\n        if (last.value !== 1) {\n          tmp.push({\n            value: 1\n          });\n        }\n      }\n\n      return tmp;\n    }\n\n    var AxisController = /*#__PURE__*/function () {\n      function AxisController(cfg) {\n        this.axisCfg = {};\n        this.frontPlot = null;\n        this.backPlot = null;\n        this.axes = {}; // store the axes's options\n\n        mix(this, cfg);\n      }\n\n      var _proto = AxisController.prototype;\n\n      _proto._isHide = function _isHide(field) {\n        var axisCfg = this.axisCfg;\n        return !axisCfg || axisCfg[field] === false;\n      };\n\n      _proto._getLinePosition = function _getLinePosition(scale, dimType, index, transposed) {\n        var position = '';\n        var field = scale.field;\n        var axisCfg = this.axisCfg;\n\n        if (axisCfg[field] && axisCfg[field].position) {\n          position = axisCfg[field].position;\n        } else if (dimType === 'x') {\n          position = transposed ? 'left' : 'bottom';\n        } else if (dimType === 'y') {\n          position = index ? 'right' : 'left';\n\n          if (transposed) {\n            position = 'bottom';\n          }\n        }\n\n        return position;\n      };\n\n      _proto._getLineCfg = function _getLineCfg(coord, dimType, position) {\n        var start;\n        var end;\n        var factor = 1; // Mark clockwise or counterclockwise\n\n        if (dimType === 'x') {\n          start = {\n            x: 0,\n            y: 0\n          };\n          end = {\n            x: 1,\n            y: 0\n          };\n        } else {\n          if (position === 'right') {\n            // there will be several y axes\n            start = {\n              x: 1,\n              y: 0\n            };\n            end = {\n              x: 1,\n              y: 1\n            };\n          } else {\n            start = {\n              x: 0,\n              y: 0\n            };\n            end = {\n              x: 0,\n              y: 1\n            };\n            factor = -1;\n          }\n        }\n\n        if (coord.transposed) {\n          factor *= -1;\n        }\n\n        return {\n          offsetFactor: factor,\n          start: coord.convertPoint(start),\n          end: coord.convertPoint(end)\n        };\n      };\n\n      _proto._getCircleCfg = function _getCircleCfg(coord) {\n        return {\n          startAngle: coord.startAngle,\n          endAngle: coord.endAngle,\n          center: coord.center,\n          radius: coord.circleRadius\n        };\n      };\n\n      _proto._getRadiusCfg = function _getRadiusCfg(coord) {\n        var transposed = coord.transposed;\n        var start;\n        var end;\n\n        if (transposed) {\n          start = {\n            x: 0,\n            y: 0\n          };\n          end = {\n            x: 1,\n            y: 0\n          };\n        } else {\n          start = {\n            x: 0,\n            y: 0\n          };\n          end = {\n            x: 0,\n            y: 1\n          };\n        }\n\n        return {\n          offsetFactor: -1,\n          start: coord.convertPoint(start),\n          end: coord.convertPoint(end)\n        };\n      };\n\n      _proto._getAxisCfg = function _getAxisCfg(coord, scale, verticalScale, dimType, defaultCfg) {\n        var self = this;\n        var axisCfg = this.axisCfg;\n        var ticks = scale.getTicks();\n        var cfg = deepMix({\n          ticks: ticks,\n          frontContainer: this.frontPlot,\n          backContainer: this.backPlot\n        }, defaultCfg, axisCfg[scale.field]);\n        var labels = [];\n        var label = cfg.label;\n        var count = ticks.length;\n        var maxWidth = 0;\n        var maxHeight = 0;\n        var labelCfg = label;\n        each(ticks, function (tick, index) {\n          if (isFunction(label)) {\n            var executedLabel = label(tick.text, index, count);\n            labelCfg = executedLabel ? mix({}, Global._defaultAxis.label, executedLabel) : null;\n          }\n\n          if (labelCfg) {\n            var textStyle = {};\n\n            if (labelCfg.textAlign) {\n              textStyle.textAlign = labelCfg.textAlign;\n            }\n\n            if (labelCfg.textBaseline) {\n              textStyle.textBaseline = labelCfg.textBaseline;\n            }\n\n            var axisLabel = new Shape$2.Text({\n              className: 'axis-label',\n              attrs: mix({\n                x: 0,\n                y: 0,\n                text: tick.text,\n                fontFamily: self.chart.get('canvas').get('fontFamily')\n              }, labelCfg),\n              value: tick.value,\n              textStyle: textStyle,\n              top: labelCfg.top,\n              context: self.chart.get('canvas').get('context')\n            });\n            labels.push(axisLabel);\n\n            var _axisLabel$getBBox = axisLabel.getBBox(),\n                width = _axisLabel$getBBox.width,\n                height = _axisLabel$getBBox.height;\n\n            maxWidth = Math.max(maxWidth, width);\n            maxHeight = Math.max(maxHeight, height);\n          }\n        });\n        cfg.labels = labels;\n        cfg.maxWidth = maxWidth;\n        cfg.maxHeight = maxHeight;\n        return cfg;\n      };\n\n      _proto._createAxis = function _createAxis(coord, scale, verticalScale, dimType, index) {\n        if (index === void 0) {\n          index = '';\n        }\n\n        var self = this;\n        var coordType = coord.type;\n        var transposed = coord.transposed;\n        var type;\n        var key;\n        var defaultCfg;\n\n        if (coordType === 'cartesian' || coordType === 'rect') {\n          var position = self._getLinePosition(scale, dimType, index, transposed);\n\n          defaultCfg = Global.axis[position];\n          defaultCfg.position = position;\n          type = 'Line';\n          key = position;\n        } else {\n          if (dimType === 'x' && !transposed || dimType === 'y' && transposed) {\n            defaultCfg = Global.axis.circle;\n            type = 'Circle';\n            key = 'circle';\n          } else {\n            defaultCfg = Global.axis.radius;\n            type = 'Line';\n            key = 'radius';\n          }\n        }\n\n        var cfg = self._getAxisCfg(coord, scale, verticalScale, dimType, defaultCfg);\n\n        cfg.type = type;\n        cfg.dimType = dimType;\n        cfg.verticalScale = verticalScale;\n        cfg.index = index;\n        this.axes[key] = cfg;\n      };\n\n      _proto.createAxis = function createAxis(coord, xScale, yScales) {\n        var self = this;\n\n        if (xScale && !self._isHide(xScale.field)) {\n          self._createAxis(coord, xScale, yScales[0], 'x');\n        }\n\n        each(yScales, function (yScale, index) {\n          if (!self._isHide(yScale.field)) {\n            self._createAxis(coord, yScale, xScale, 'y', index);\n          }\n        });\n        var axes = this.axes;\n        var chart = self.chart;\n\n        if (chart._isAutoPadding()) {\n          var userPadding = parsePadding(chart.get('padding'));\n          var appendPadding = parsePadding(chart.get('appendPadding'));\n          var legendRange = chart.get('legendRange') || {\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0\n          };\n          var padding = [userPadding[0] === 'auto' ? legendRange.top + appendPadding[0] * 2 : userPadding[0], userPadding[1] === 'auto' ? legendRange.right + appendPadding[1] : userPadding[1], userPadding[2] === 'auto' ? legendRange.bottom + appendPadding[2] : userPadding[2], userPadding[3] === 'auto' ? legendRange.left + appendPadding[3] : userPadding[3]];\n\n          if (coord.isPolar) {\n            var circleAxis = axes.circle;\n\n            if (circleAxis) {\n              var maxHeight = circleAxis.maxHeight,\n                  maxWidth = circleAxis.maxWidth,\n                  labelOffset = circleAxis.labelOffset;\n              padding[0] += maxHeight + labelOffset;\n              padding[1] += maxWidth + labelOffset;\n              padding[2] += maxHeight + labelOffset;\n              padding[3] += maxWidth + labelOffset;\n            }\n          } else {\n            if (axes.right && userPadding[1] === 'auto') {\n              var _axes$right = axes.right,\n                  _maxWidth = _axes$right.maxWidth,\n                  _labelOffset = _axes$right.labelOffset;\n              padding[1] += _maxWidth + _labelOffset;\n            }\n\n            if (axes.left && userPadding[3] === 'auto') {\n              var _axes$left = axes.left,\n                  _maxWidth2 = _axes$left.maxWidth,\n                  _labelOffset2 = _axes$left.labelOffset;\n              padding[3] += _maxWidth2 + _labelOffset2;\n            }\n\n            if (axes.bottom && userPadding[2] === 'auto') {\n              var _axes$bottom = axes.bottom,\n                  _maxHeight = _axes$bottom.maxHeight,\n                  _labelOffset3 = _axes$bottom.labelOffset;\n              padding[2] += _maxHeight + _labelOffset3;\n            }\n          }\n\n          chart.set('_padding', padding);\n\n          chart._updateLayout(padding);\n        }\n\n        each(axes, function (axis) {\n          var type = axis.type,\n              grid = axis.grid,\n              verticalScale = axis.verticalScale,\n              ticks = axis.ticks,\n              dimType = axis.dimType,\n              position = axis.position,\n              index = axis.index;\n          var appendCfg;\n\n          if (coord.isPolar) {\n            if (type === 'Line') {\n              appendCfg = self._getRadiusCfg(coord);\n            } else if (type === 'Circle') {\n              appendCfg = self._getCircleCfg(coord);\n            }\n          } else {\n            appendCfg = self._getLineCfg(coord, dimType, position);\n          }\n\n          if (grid && verticalScale) {\n            var gridPoints = [];\n            var verticalTicks = formatTicks(verticalScale.getTicks());\n            each(ticks, function (tick) {\n              var subPoints = [];\n              each(verticalTicks, function (verticalTick) {\n                var x = dimType === 'x' ? tick.value : verticalTick.value;\n                var y = dimType === 'x' ? verticalTick.value : tick.value;\n\n                if (x >= 0 && x <= 1 && y >= 0 && y <= 1) {\n                  var point = coord.convertPoint({\n                    x: x,\n                    y: y\n                  });\n                  subPoints.push(point);\n                }\n              });\n              gridPoints.push({\n                points: subPoints,\n                _id: 'axis-' + dimType + index + '-grid-' + tick.tickValue\n              });\n            });\n            axis.gridPoints = gridPoints;\n\n            if (coord.isPolar) {\n              axis.center = coord.center;\n              axis.startAngle = coord.startAngle;\n              axis.endAngle = coord.endAngle;\n            }\n          }\n\n          appendCfg._id = 'axis-' + dimType;\n\n          if (!isNil(index)) {\n            appendCfg._id = 'axis-' + dimType + index;\n          }\n\n          new Abastract[type](mix(axis, appendCfg));\n        });\n      };\n\n      _proto.clear = function clear() {\n        this.axes = {};\n        this.frontPlot.clear();\n        this.backPlot.clear();\n      };\n\n      return AxisController;\n    }();\n\n    function getClip(coord) {\n      var start = coord.start;\n      var end = coord.end;\n      var width = end.x - start.x;\n      var height = Math.abs(end.y - start.y);\n      var margin = 10;\n      var clip;\n\n      if (coord.isPolar) {\n        var circleRadius = coord.circleRadius,\n            center = coord.center,\n            startAngle = coord.startAngle,\n            endAngle = coord.endAngle;\n        clip = new Shape$2.Sector({\n          attrs: {\n            x: center.x,\n            y: center.y,\n            r: circleRadius,\n            r0: 0,\n            startAngle: startAngle,\n            endAngle: endAngle\n          }\n        });\n      } else {\n        clip = new Shape$2.Rect({\n          attrs: {\n            x: start.x,\n            y: end.y - margin,\n            width: width,\n            height: height + 2 * margin\n          }\n        });\n      }\n\n      clip.isClip = true;\n      return clip;\n    }\n\n    function isPointInPlot(point, plot) {\n      var x = point.x,\n          y = point.y;\n      var tl = plot.tl,\n          tr = plot.tr,\n          br = plot.br;\n      return x >= tl.x && x <= tr.x && y >= tl.y && y <= br.y;\n    }\n\n    var Helper = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getClip: getClip,\n        isPointInPlot: isPointInPlot\n    });\n\n    function compare(a, b) {\n      return a - b;\n    }\n\n    function _isScaleExist(scales, compareScale) {\n      var flag = false;\n      each(scales, function (scale) {\n        var scaleValues = [].concat(scale.values);\n        var compareScaleValues = [].concat(compareScale.values);\n\n        if (scale.type === compareScale.type && scale.field === compareScale.field && scaleValues.sort(compare).toString() === compareScaleValues.sort(compare).toString()) {\n          flag = true;\n          return;\n        }\n      });\n      return flag;\n    }\n\n    var Chart = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Chart, _Base);\n\n      Chart.initPlugins = function initPlugins() {\n        return {\n          _plugins: [],\n          _cacheId: 0,\n          register: function register(plugins) {\n            var p = this._plugins;\n            [].concat(plugins).forEach(function (plugin) {\n              if (p.indexOf(plugin) === -1) {\n                p.push(plugin);\n              }\n            });\n            this._cacheId++;\n          },\n          unregister: function unregister(plugins) {\n            var p = this._plugins;\n            [].concat(plugins).forEach(function (plugin) {\n              var idx = p.indexOf(plugin);\n\n              if (idx !== -1) {\n                p.splice(idx, 1);\n              }\n            });\n            this._cacheId++;\n          },\n          clear: function clear() {\n            this._plugins = [];\n            this._cacheId++;\n          },\n          count: function count() {\n            return this._plugins.length;\n          },\n          getAll: function getAll() {\n            return this._plugins;\n          },\n          notify: function notify(chart, hook, args) {\n            var descriptors = this.descriptors(chart);\n            var ilen = descriptors.length;\n            var i;\n            var descriptor;\n            var plugin;\n            var params;\n            var method;\n\n            for (i = 0; i < ilen; ++i) {\n              descriptor = descriptors[i];\n              plugin = descriptor.plugin;\n              method = plugin[hook];\n\n              if (typeof method === 'function') {\n                params = [chart].concat(args || []);\n\n                if (method.apply(plugin, params) === false) {\n                  return false;\n                }\n              }\n            }\n\n            return true;\n          },\n          descriptors: function descriptors(chart) {\n            var cache = chart._plugins || (chart._plugins = {});\n\n            if (cache.id === this._cacheId) {\n              return cache.descriptors;\n            }\n\n            var plugins = [];\n            var descriptors = [];\n\n            this._plugins.concat(chart && chart.get('plugins') || []).forEach(function (plugin) {\n              var idx = plugins.indexOf(plugin);\n\n              if (idx !== -1) {\n                return;\n              }\n\n              plugins.push(plugin);\n              descriptors.push({\n                plugin: plugin\n              });\n            });\n\n            cache.descriptors = descriptors;\n            cache.id = this._cacheId;\n            return descriptors;\n          }\n        };\n      };\n\n      var _proto = Chart.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        return {\n          /**\n           * the id of canvas\n           * @type {String}\n           */\n          id: null,\n          rendered: false,\n\n          /**\n           * padding\n           * @type {Array|Number}\n           */\n          padding: Global.padding,\n\n          /**\n           * data\n           * @type {Array}\n           */\n          data: null,\n\n          /**\n           * scales of chart\n           * @type {Object}\n           */\n          scales: {},\n\n          /**\n           * @private\n           * geometry instances\n           * @type {Array}\n           */\n          geoms: [],\n\n          /**\n           * scale configuration\n           * @type {Object}\n           */\n          colDefs: null,\n          pixelRatio: Global.pixelRatio,\n\n          /**\n           * filter options\n           * @type {Object}\n           */\n          filters: null,\n          appendPadding: Global.appendPadding\n        };\n      };\n\n      _proto._syncYScales = function _syncYScales() {\n        var syncY = this.get('syncY');\n\n        if (!syncY) {\n          return;\n        }\n\n        var geoms = this.get('geoms');\n        var syncScales = [];\n        var min = [];\n        var max = [];\n        each(geoms, function (geom) {\n          var yScale = geom.getYScale();\n\n          if (yScale.isLinear) {\n            syncScales.push(yScale);\n            min.push(yScale.min);\n            max.push(yScale.max);\n          }\n        });\n        min = Math.min.apply(null, min);\n        max = Math.max.apply(null, max);\n        each(syncScales, function (scale) {\n          scale.change({\n            min: min\n          });\n          scale.change({\n            max: max\n          });\n        });\n      };\n\n      _proto._getFieldsForLegend = function _getFieldsForLegend() {\n        var fields = [];\n        var geoms = this.get('geoms');\n        each(geoms, function (geom) {\n          var attrOptions = geom.get('attrOptions');\n          var attrCfg = attrOptions.color;\n\n          if (attrCfg && attrCfg.field && isString(attrCfg.field)) {\n            var arr = attrCfg.field.split('*');\n            each(arr, function (item) {\n              if (fields.indexOf(item) === -1) {\n                fields.push(item);\n              }\n            });\n          }\n        });\n        return fields;\n      };\n\n      _proto._getScaleData = function _getScaleData(field) {\n        var data = this.get('data');\n        var filteredData = this.get('filteredData');\n\n        if (filteredData.length) {\n          var legendFields = this._getFieldsForLegend();\n\n          if (legendFields.indexOf(field) === -1) {\n            data = filteredData;\n          }\n        }\n\n        return data;\n      } // _updateScales() {\n      //   const scaleController = this.get('scaleController');\n      //   scaleController.updateScales();\n      //   this._adjustScale();\n      // }\n      ;\n\n      _proto._adjustScale = function _adjustScale() {\n        var self = this;\n        var scaleController = self.get('scaleController'); // 看起来是为了让柱状图最小或最大都默认从0开始\n\n        var geoms = this.get('geoms');\n\n        for (var i = 0; i < geoms.length; i++) {\n          var geom = geoms[i];\n\n          if (geom.get('type') === 'interval') {\n            var yScale = geom.getYScale();\n            scaleController.adjustStartZero(yScale);\n          }\n        }\n      };\n\n      _proto._removeGeoms = function _removeGeoms() {\n        var geoms = this.get('geoms');\n\n        while (geoms.length > 0) {\n          var geom = geoms.shift();\n          geom.destroy();\n        }\n      };\n\n      _proto._clearGeoms = function _clearGeoms() {\n        var geoms = this.get('geoms');\n\n        for (var i = 0, length = geoms.length; i < length; i++) {\n          var geom = geoms[i];\n          geom.clear();\n        }\n      };\n\n      _proto._clearInner = function _clearInner() {\n        this._clearGeoms();\n\n        Chart.plugins.notify(this, 'clearInner');\n        this.emit(EVENT_CLEAR_INNER);\n        this.get('axisController') && this.get('axisController').clear();\n      };\n\n      _proto._initFilteredData = function _initFilteredData() {\n        var filters = this.get('filters');\n        var data = this.get('data') || [];\n\n        if (filters) {\n          data = data.filter(function (obj) {\n            var rst = true;\n            each(filters, function (fn, k) {\n              if (fn) {\n                rst = fn(obj[k], obj);\n\n                if (!rst) {\n                  return false;\n                }\n              }\n            });\n            return rst;\n          });\n        }\n\n        this.set('filteredData', data);\n      };\n\n      _proto._changeGeomsData = function _changeGeomsData() {\n        var geoms = this.get('geoms');\n        var data = this.get('filteredData');\n\n        for (var i = 0, length = geoms.length; i < length; i++) {\n          var geom = geoms[i];\n          geom.changeData(data);\n        }\n      };\n\n      _proto._initGeom = function _initGeom(geom) {\n        if (geom.get('isInit')) {\n          return;\n        }\n\n        var coord = this.get('coord');\n        var data = this.get('filteredData');\n        var colDefs = this.get('colDefs');\n        var middlePlot = this.get('middlePlot');\n        geom.set('chart', this);\n        geom.set('container', middlePlot.addGroup());\n        geom.set('data', data);\n        geom.set('coord', coord);\n        geom.set('colDefs', colDefs);\n        geom.init();\n        this.emit(EVENT_AFTER_GEOM_INIT, geom);\n      };\n\n      _proto._initGeoms = function _initGeoms() {\n        var geoms = this.get('geoms');\n\n        for (var i = 0, length = geoms.length; i < length; i++) {\n          this._initGeom(geoms[i]);\n        }\n      };\n\n      _proto._initCoord = function _initCoord() {\n        var plot = this.get('plotRange');\n        var coordCfg = mix({\n          type: 'cartesian'\n        }, this.get('coordCfg'), {\n          plot: plot\n        });\n        var type = coordCfg.type;\n        var C = Base$1[upperFirst(type)];\n        var coord = new C(coordCfg);\n        this.set('coord', coord);\n      };\n\n      _proto._initLayout = function _initLayout() {\n        var padding = this.get('_padding');\n\n        if (!padding) {\n          padding = this.get('margin') || this.get('padding');\n          padding = parsePadding(padding);\n        }\n\n        var top = padding[0] === 'auto' ? 0 : padding[0];\n        var right = padding[1] === 'auto' ? 0 : padding[1];\n        var bottom = padding[2] === 'auto' ? 0 : padding[2];\n        var left = padding[3] === 'auto' ? 0 : padding[3];\n        var width = this.get('width');\n        var height = this.get('height');\n        var start = {\n          x: left,\n          y: top\n        };\n        var end = {\n          x: width - right,\n          y: height - bottom\n        };\n        var plot = this.get('plot');\n\n        if (plot) {\n          plot.reset(start, end);\n          return;\n        }\n\n        var newPlot = new Plot({\n          start: start,\n          end: end\n        });\n        this.set('plotRange', newPlot);\n        this.set('plot', newPlot);\n      };\n\n      _proto._initCanvas = function _initCanvas() {\n        var self = this;\n\n        try {\n          var canvas = new Canvas({\n            el: self.get('el') || self.get('id'),\n            context: self.get('context'),\n            pixelRatio: self.get('pixelRatio'),\n            width: self.get('width'),\n            height: self.get('height'),\n            fontFamily: Global.fontFamily\n          });\n          self.set('canvas', canvas);\n          self.set('el', canvas.get('el'));\n          self.set('width', canvas.get('width'));\n          self.set('height', canvas.get('height'));\n        } catch (error) {\n          throw error;\n        }\n\n        Chart.plugins.notify(self, 'afterCanvasInit');\n      };\n\n      _proto._initLayers = function _initLayers() {\n        var canvas = this.get('canvas');\n        this.set('backPlot', canvas.addGroup());\n        this.set('middlePlot', canvas.addGroup({\n          zIndex: 10\n        }));\n        this.set('frontPlot', canvas.addGroup({\n          zIndex: 20\n        }));\n      };\n\n      _proto._initEvents = function _initEvents() {\n        var _this2 = this;\n\n        // 数据更新后的一些更新\n        this.on(EVENT_AFTER_DATA_CHANGE, function () {\n          // 数据更新后，重新设置filterdata\n          _this2._initFilteredData(); // 更新geoms里的数据\n\n\n          _this2._changeGeomsData();\n        }); // 大小变化后的一些更新\n\n        this.on(EVENT_AFTER_SIZE_CHANGE, function () {\n          _this2._initLayout(); // layout变化后，坐标轴也需要做相应的变化\n\n\n          var coord = _this2.get('coord');\n\n          if (coord) {\n            coord.reset(_this2.get('plot'));\n          }\n        });\n      };\n\n      _proto._initScaleController = function _initScaleController() {\n        var scaleController = new ScaleController({\n          chart: this\n        }); // 让colDefs 和 scaleController.defs 用同一个对象，这样就不用考虑同步的问题\n\n        this.set('colDefs', scaleController.defs); // 已经实例化的scales 也保持统一个对象\n\n        this.set('scales', scaleController.scales);\n        this.set('scaleController', scaleController);\n      };\n\n      _proto._clearScaleController = function _clearScaleController() {\n        var scaleController = this.get('scaleController');\n        scaleController.clear();\n      };\n\n      _proto._init = function _init() {\n        var self = this;\n\n        self._initCanvas();\n\n        self._initLayout();\n\n        self._initLayers();\n\n        self._initEvents();\n\n        self._initScaleController();\n\n        self.set('axisController', new AxisController({\n          frontPlot: self.get('frontPlot').addGroup({\n            className: 'axisContainer'\n          }),\n          backPlot: self.get('backPlot').addGroup({\n            className: 'axisContainer'\n          }),\n          chart: self\n        }));\n        Chart.plugins.notify(self, 'init');\n      };\n\n      function Chart(cfg) {\n        var _this;\n\n        _this = _Base.call(this, cfg) || this;\n\n        var self = _assertThisInitialized(_this);\n\n        each(Geom, function (geomConstructor, className) {\n          var methodName = lowerFirst(className);\n\n          self[methodName] = function (cfg) {\n            var geom = new geomConstructor(cfg);\n            self.addGeom(geom);\n            return geom;\n          };\n        });\n\n        self._init();\n\n        return _this;\n      }\n\n      _proto.init = function init() {\n        // 初始filterData\n        this._initFilteredData(); // initialization coordinate instance\n\n\n        this._initCoord();\n\n        Chart.plugins.notify(this, 'beforeGeomInit'); // init all geometry instances\n\n        this._initGeoms(); // 多 Y 轴的情况时，统一 Y 轴的数值范围。\n\n\n        this._syncYScales(); // do some adjust for data\n\n\n        this._adjustScale();\n\n        this.emit(EVENT_AFTER_INIT);\n      }\n      /**\n       * set data and some scale configuration\n       * @chainable\n       * @param  {Array} data the dataset to visualize\n       * @param  {Object} colDefs the configuration for scales\n       * @return {Chart} return the chart instance\n       */\n      ;\n\n      _proto.source = function source(data, colDefs) {\n        this.set('data', data);\n\n        if (colDefs) {\n          this.scale(colDefs);\n        }\n\n        return this;\n      };\n\n      _proto.scale = function scale(field, cfg) {\n        var scaleController = this.get('scaleController');\n        scaleController.setFieldDef(field, cfg);\n        return this;\n      }\n      /**\n       * configure the axis\n       * @chainable\n       * @param  {String|Boolean} field the field name of data\n       * @param  {Object} cfg configuration for axis\n       * @return {Chart} return the chart instance\n       */\n      ;\n\n      _proto.axis = function axis(field, cfg) {\n        var axisController = this.get('axisController');\n\n        if (!field) {\n          axisController.axisCfg = null;\n        } else {\n          axisController.axisCfg = axisController.axisCfg || {};\n          axisController.axisCfg[field] = cfg;\n        }\n\n        return this;\n      }\n      /**\n       * configure the coordinate\n       * @chainable\n       * @param  {String} type set the type of coodinate\n       * @param  {Object} cfg configuration for coordinate\n       * @return {Chart} return the chart instance\n       */\n      ;\n\n      _proto.coord = function coord(type, cfg) {\n        var coordCfg;\n\n        if (isObject(type)) {\n          coordCfg = type;\n        } else {\n          coordCfg = cfg || {};\n          coordCfg.type = type || 'cartesian';\n        }\n\n        this.set('coordCfg', coordCfg);\n        return this;\n      };\n\n      _proto.filter = function filter(field, condition) {\n        var filters = this.get('filters') || {};\n        filters[field] = condition;\n        this.set('filters', filters); // 如果已经render过，则再重新触发一次change\n\n        if (this.get('rendered')) {\n          this.emit(EVENT_AFTER_DATA_CHANGE, this.get('data'));\n        }\n      }\n      /**\n       * render the chart\n       * @chainable\n       * @return {Chart} return the chart instance\n       */\n      ;\n\n      _proto.render = function render() {\n        var rendered = this.get('rendered');\n        var canvas = this.get('canvas');\n        var geoms = this.get('geoms'); // 已经渲染过\n\n        if (rendered) {\n          this._initGeoms();\n\n          this._adjustScale();\n        } else {\n          this.init();\n          this.set('rendered', true);\n        }\n\n        this.emit(EVENT_BEFORE_RENDER);\n        Chart.plugins.notify(this, 'beforeGeomDraw');\n\n        this._renderAxis();\n\n        var middlePlot = this.get('middlePlot');\n\n        if (this.get('limitInPlot') && !middlePlot.attr('clip')) {\n          var coord = this.get('coord');\n          var clip = getClip(coord);\n          clip.set('canvas', middlePlot.get('canvas'));\n          middlePlot.attr('clip', clip);\n        }\n\n        this.emit(EVENT_BEFORE_GEOM_DRAW);\n\n        for (var i = 0, length = geoms.length; i < length; i++) {\n          var geom = geoms[i];\n          geom.paint();\n        }\n\n        this.emit(EVENT_AFTER_GEOM_DRAW);\n        Chart.plugins.notify(this, 'afterGeomDraw');\n        canvas.sort();\n        this.get('frontPlot').sort();\n        Chart.plugins.notify(this, 'beforeCanvasDraw');\n        canvas.draw();\n        this.emit(EVENT_AFTER_RENDER);\n        return this;\n      }\n      /**\n       * clear the chart, include geometris and all the shapes\n       * @chainable\n       * @return {Chart} return the chart\n       */\n      ;\n\n      _proto.clear = function clear() {\n        Chart.plugins.notify(this, 'clear');\n        this.emit(EVENT_CLEAR);\n\n        this._clearInner();\n\n        this._removeGeoms();\n\n        this._clearScaleController();\n\n        this.set('legendItems', null);\n        this.set('filters', null);\n        this.set('isUpdate', false);\n        this.set('_padding', null);\n        this.set('rendered', false);\n        var canvas = this.get('canvas');\n        canvas.draw();\n        return this;\n      };\n\n      _proto.repaint = function repaint() {\n        // 如果在没有render之前就repaint的，就直接return退出\n        var rendered = this.get('rendered');\n\n        if (!rendered) {\n          return;\n        }\n\n        this.set('isUpdate', true);\n        this.set('legendItems', null);\n        Chart.plugins.notify(this, 'repaint');\n\n        this._clearInner();\n\n        this.emit(EVENT_REPAINT);\n        this.render();\n      };\n\n      _proto.changeData = function changeData(data) {\n        this.emit(EVENT_BEFORE_DATA_CHANGE, data);\n        this.set('data', data);\n        Chart.plugins.notify(this, 'changeData');\n        this.emit(EVENT_AFTER_DATA_CHANGE, data);\n        this.set('_padding', null);\n        this.repaint();\n      };\n\n      _proto.changeSize = function changeSize(width, height) {\n        if (width) {\n          this.set('width', width);\n        } else {\n          width = this.get('width');\n        }\n\n        if (height) {\n          this.set('height', height);\n        } else {\n          height = this.get('height');\n        }\n\n        var canvas = this.get('canvas');\n        canvas.changeSize(width, height);\n        this.emit(EVENT_AFTER_SIZE_CHANGE, {\n          width: width,\n          height: height\n        });\n        this.repaint();\n        return this;\n      };\n\n      _proto.destroy = function destroy() {\n        this.clear();\n        var canvas = this.get('canvas');\n        canvas.destroy();\n        Chart.plugins.notify(this, 'afterCanvasDestroyed');\n\n        if (this._interactions) {\n          each(this._interactions, function (interaction) {\n            interaction.destroy();\n          });\n        }\n\n        _Base.prototype.destroy.call(this);\n      }\n      /**\n       * calculate dataset's position on canvas\n       * @param  {Object} record the dataset\n       * @return {Object} return the position\n       */\n      ;\n\n      _proto.getPosition = function getPosition(record) {\n        var self = this;\n        var coord = self.get('coord');\n        var xScale = self.getXScale();\n        var xField = xScale.field;\n        var yScales = self.getYScales(); // default first\n\n        var yScale = yScales[0];\n        var yField = yScale.field;\n\n        for (var i = 0, len = yScales.length; i < len; i++) {\n          var scale = yScales[i];\n          var field = scale.field;\n\n          if (record[field]) {\n            yScale = scale;\n            yField = field;\n            break;\n          }\n        }\n\n        var x = xScale.scale(record[xField]);\n        var y = yScale.scale(record[yField]);\n        return coord.convertPoint({\n          x: x,\n          y: y\n        });\n      }\n      /**\n       * get the data item of the point\n       * @param  {Object} point canvas position\n       * @return {Object} return the data item\n       */\n      ;\n\n      _proto.getRecord = function getRecord(point) {\n        var self = this;\n        var coord = self.get('coord');\n        var xScale = self.getXScale();\n        var yScale = self.getYScales()[0];\n        var invertPoint = coord.invertPoint(point);\n        var record = {};\n        record[xScale.field] = xScale.invert(invertPoint.x);\n        record[yScale.field] = yScale.invert(invertPoint.y);\n        return record;\n      }\n      /**\n       * get the dataset of the point\n       * @param  {Object} point canvas position\n       * @return {Array} return the dataset\n      **/\n      ;\n\n      _proto.getSnapRecords = function getSnapRecords(point) {\n        var geom = this.get('geoms')[0];\n        var data = [];\n\n        if (geom) {\n          // need to judge\n          data = geom.getSnapRecords(point);\n        }\n\n        return data;\n      }\n      /**\n       * creat scale instances\n       * @param  {String} field field name of data\n       * @return {Scale} return the scale\n       */\n      ;\n\n      _proto.createScale = function createScale(field) {\n        var data = this._getScaleData(field);\n\n        var scaleController = this.get('scaleController');\n        return scaleController.createScale(field, data);\n      }\n      /**\n       * @protected\n       * add geometry instance to geoms\n       * @param {Geom} geom geometry instance\n       */\n      ;\n\n      _proto.addGeom = function addGeom(geom) {\n        var geoms = this.get('geoms');\n        geoms.push(geom);\n      }\n      /**\n       * get the scale of x axis\n       * @return {Scale} return the scale\n       */\n      ;\n\n      _proto.getXScale = function getXScale() {\n        var self = this;\n        var geoms = self.get('geoms');\n        var xScale = geoms[0].getXScale();\n        return xScale;\n      }\n      /**\n       * get the scale of y axis\n       * @return {Array} return the scale\n       */\n      ;\n\n      _proto.getYScales = function getYScales() {\n        var geoms = this.get('geoms');\n        var rst = [];\n        each(geoms, function (geom) {\n          var yScale = geom.getYScale();\n\n          if (rst.indexOf(yScale) === -1) {\n            rst.push(yScale);\n          }\n        });\n        return rst;\n      };\n\n      _proto.getLegendItems = function getLegendItems() {\n        if (this.get('legendItems')) {\n          return this.get('legendItems');\n        }\n\n        var legendItems = {};\n        var scales = [];\n        var geoms = this.get('geoms');\n        each(geoms, function (geom) {\n          var colorAttr = geom.getAttr('color');\n\n          if (colorAttr) {\n            var scale = colorAttr.getScale('color'); // 只支持分类图例\n\n            if (scale.isCategory && !_isScaleExist(scales, scale)) {\n              scales.push(scale);\n              var field = scale.field;\n              var ticks = scale.getTicks();\n              var items = [];\n              each(ticks, function (tick) {\n                var text = tick.text;\n                var name = text;\n                var scaleValue = tick.value;\n                var value = scale.invert(scaleValue);\n                var color = colorAttr.mapping(value).join('') || Global.defaultColor;\n                var marker = {\n                  fill: color,\n                  radius: 3,\n                  symbol: 'circle',\n                  stroke: '#fff'\n                };\n                items.push({\n                  name: name,\n                  // for display\n                  dataValue: value,\n                  // the origin value\n                  checked: true,\n                  marker: marker\n                });\n              });\n              legendItems[field] = items;\n            }\n          }\n        });\n        this.set('legendItems', legendItems);\n        return legendItems;\n      } // register the plugins\n      ;\n\n      _proto.registerPlugins = function registerPlugins(plugins) {\n        var self = this;\n        var chartPlugins = self.get('plugins') || [];\n\n        if (!isArray(chartPlugins)) {\n          chartPlugins = [chartPlugins];\n        }\n\n        [].concat(plugins).forEach(function (plugin) {\n          if (chartPlugins.indexOf(plugin) === -1) {\n            plugin.init && plugin.init(self); // init\n\n            chartPlugins.push(plugin);\n          }\n        });\n        Chart.plugins._cacheId++;\n        self.set('plugins', chartPlugins);\n      };\n\n      _proto._renderAxis = function _renderAxis() {\n        var axisController = this.get('axisController');\n        var xScale = this.getXScale();\n        var yScales = this.getYScales();\n        var coord = this.get('coord');\n        Chart.plugins.notify(this, 'beforeRenderAxis');\n        axisController.createAxis(coord, xScale, yScales);\n      };\n\n      _proto._isAutoPadding = function _isAutoPadding() {\n        if (this.get('_padding')) {\n          return false;\n        }\n\n        var padding = this.get('padding');\n\n        if (isArray(padding)) {\n          return padding.indexOf('auto') !== -1;\n        }\n\n        return padding === 'auto';\n      };\n\n      _proto._updateLayout = function _updateLayout(padding) {\n        var width = this.get('width');\n        var height = this.get('height');\n        var start = {\n          x: padding[3],\n          y: padding[0]\n        };\n        var end = {\n          x: width - padding[1],\n          y: height - padding[2]\n        };\n        var plot = this.get('plot');\n        var coord = this.get('coord');\n        plot.reset(start, end);\n        coord.reset(plot);\n      };\n\n      return Chart;\n    }(Base);\n\n    Chart.plugins = Chart.initPlugins();\n\n    var track = function track() {\n      return null;\n    };\n\n    /**\n     * @fileOverview shape util\n     * @author dxq613@gmail.com\n     */\n\n    function splitPoints(obj) {\n      var points = [];\n      var x = obj.x;\n      var y = obj.y;\n      y = isArray(y) ? y : [y];\n      y.forEach(function (yItem, index) {\n        var point = {\n          x: isArray(x) ? x[index] : x,\n          y: yItem\n        };\n        points.push(point);\n      });\n      return points;\n    }\n\n    function splitArray(data, yField, connectNulls) {\n      if (!data.length) return [];\n      var arr = [];\n      var tmp = [];\n      var yValue;\n      each(data, function (obj) {\n        yValue = obj._origin ? obj._origin[yField] : obj[yField];\n\n        if (connectNulls) {\n          if (!isNil(yValue)) {\n            tmp.push(obj);\n          }\n        } else {\n          if (isArray(yValue) && isNil(yValue[0]) || isNil(yValue)) {\n            if (tmp.length) {\n              arr.push(tmp);\n              tmp = [];\n            }\n          } else {\n            tmp.push(obj);\n          }\n        }\n      });\n\n      if (tmp.length) {\n        arr.push(tmp);\n      }\n\n      return arr;\n    }\n\n    var SHAPES = ['circle', 'hollowCircle', 'rect'];\n    var Point = Shape$1.registerFactory('point', {\n      defaultShapeType: 'circle',\n      getDefaultPoints: function getDefaultPoints(pointInfo) {\n        return splitPoints(pointInfo);\n      }\n    });\n\n    function getPointsCfg(cfg) {\n      var style = {\n        lineWidth: 0,\n        stroke: cfg.color,\n        fill: cfg.color\n      };\n\n      if (cfg.size) {\n        style.size = cfg.size;\n      }\n\n      mix(style, cfg.style);\n      return mix({}, Global.shape.point, style);\n    }\n\n    function drawShape(cfg, container, shape) {\n      if (cfg.size === 0) return;\n      var pointCfg = getPointsCfg(cfg);\n      var size = pointCfg.r || pointCfg.size;\n      var x = cfg.x;\n      var y = !isArray(cfg.y) ? [cfg.y] : cfg.y;\n\n      if (shape === 'hollowCircle') {\n        pointCfg.lineWidth = 1;\n        pointCfg.fill = null;\n      }\n\n      for (var i = 0, len = y.length; i < len; i++) {\n        if (shape === 'rect') {\n          return container.addShape('Rect', {\n            className: 'point',\n            attrs: mix({\n              x: x - size,\n              y: y[i] - size,\n              width: size * 2,\n              height: size * 2\n            }, pointCfg)\n          });\n        }\n\n        return container.addShape('Circle', {\n          className: 'point',\n          attrs: mix({\n            x: x,\n            y: y[i],\n            r: size\n          }, pointCfg)\n        });\n      }\n    }\n\n    each(SHAPES, function (shapeType) {\n      Shape$1.registerShape('point', shapeType, {\n        draw: function draw(cfg, container) {\n          return drawShape(cfg, container, shapeType);\n        }\n      });\n    });\n\n    var Point$1 = /*#__PURE__*/function (_Geom) {\n      _inheritsLoose(Point, _Geom);\n\n      function Point() {\n        return _Geom.apply(this, arguments) || this;\n      }\n\n      var _proto = Point.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        var cfg = _Geom.prototype.getDefaultCfg.call(this);\n\n        cfg.type = 'point';\n        cfg.shapeType = 'point';\n        cfg.generatePoints = false;\n        return cfg;\n      };\n\n      _proto.draw = function draw(data, shapeFactory) {\n        var self = this;\n        var container = self.get('container');\n        each(data, function (obj) {\n          var shape = obj.shape;\n          var cfg = self.getDrawCfg(obj);\n\n          if (isArray(obj.y)) {\n            var hasStack = self.hasAdjust('stack');\n            each(obj.y, function (y, idx) {\n              cfg.y = y;\n\n              if (!hasStack || idx !== 0) {\n                self.drawShape(shape, obj, cfg, container, shapeFactory);\n              }\n            });\n          } else if (!isNil(obj.y)) {\n            self.drawShape(shape, obj, cfg, container, shapeFactory);\n          }\n        });\n      };\n\n      return Point;\n    }(Geom);\n\n    Geom.Point = Point$1;\n\n    var Line$2 = Shape$1.registerFactory('line', {\n      defaultShapeType: 'line'\n    });\n\n    function getStyle$1(cfg) {\n      var style = {\n        strokeStyle: cfg.color\n      };\n\n      if (cfg.size >= 0) {\n        style.lineWidth = cfg.size;\n      }\n\n      mix(style, cfg.style);\n      return mix({}, Global.shape.line, style);\n    }\n\n    function drawLines(cfg, container, style, smooth) {\n      var points = cfg.points;\n\n      if (points.length && isArray(points[0].y)) {\n        var topPoints = [];\n        var bottomPoints = [];\n\n        for (var i = 0, len = points.length; i < len; i++) {\n          var point = points[i];\n          var tmp = splitPoints(point);\n          bottomPoints.push(tmp[0]);\n          topPoints.push(tmp[1]);\n        }\n\n        if (cfg.isInCircle) {\n          topPoints.push(topPoints[0]);\n          bottomPoints.push(bottomPoints[0]);\n        }\n\n        if (cfg.isStack) {\n          return container.addShape('Polyline', {\n            className: 'line',\n            attrs: mix({\n              points: topPoints,\n              smooth: smooth\n            }, style)\n          });\n        }\n\n        var topShape = container.addShape('Polyline', {\n          className: 'line',\n          attrs: mix({\n            points: topPoints,\n            smooth: smooth\n          }, style)\n        });\n        var bottomShape = container.addShape('Polyline', {\n          className: 'line',\n          attrs: mix({\n            points: bottomPoints,\n            smooth: smooth\n          }, style)\n        });\n        return [topShape, bottomShape];\n      }\n\n      if (cfg.isInCircle) {\n        points.push(points[0]);\n      }\n\n      return container.addShape('Polyline', {\n        className: 'line',\n        attrs: mix({\n          points: points,\n          smooth: smooth\n        }, style)\n      });\n    }\n\n    var SHAPES$1 = ['line', 'smooth', 'dash'];\n    each(SHAPES$1, function (shapeType) {\n      Shape$1.registerShape('line', shapeType, {\n        draw: function draw(cfg, container) {\n          var smooth = shapeType === 'smooth';\n          var style = getStyle$1(cfg);\n\n          if (shapeType === 'dash') {\n            style.lineDash = Global.lineDash;\n          }\n\n          return drawLines(cfg, container, style, smooth);\n        }\n      });\n    });\n\n    var Path = /*#__PURE__*/function (_Geom) {\n      _inheritsLoose(Path, _Geom);\n\n      function Path() {\n        return _Geom.apply(this, arguments) || this;\n      }\n\n      var _proto = Path.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        var cfg = _Geom.prototype.getDefaultCfg.call(this);\n\n        cfg.type = 'path';\n        cfg.shapeType = 'line';\n        return cfg;\n      };\n\n      _proto.getDrawCfg = function getDrawCfg(obj) {\n        var cfg = _Geom.prototype.getDrawCfg.call(this, obj);\n\n        cfg.isStack = this.hasAdjust('stack');\n        return cfg;\n      };\n\n      _proto.draw = function draw(data, shapeFactory) {\n        var self = this;\n        var container = self.get('container');\n        var yScale = self.getYScale();\n        var connectNulls = self.get('connectNulls');\n        var splitArrayObj = splitArray(data, yScale.field, connectNulls);\n        var cfg = this.getDrawCfg(data[0]);\n        cfg.origin = data;\n        each(splitArrayObj, function (subData, splitedIndex) {\n          cfg.splitedIndex = splitedIndex;\n          cfg.points = subData;\n          self.drawShape(cfg.shape, data[0], cfg, container, shapeFactory);\n        });\n      };\n\n      return Path;\n    }(Geom);\n\n    Geom.Path = Path;\n\n    var Line$3 = /*#__PURE__*/function (_Path) {\n      _inheritsLoose(Line, _Path);\n\n      function Line() {\n        return _Path.apply(this, arguments) || this;\n      }\n\n      var _proto = Line.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        var cfg = _Path.prototype.getDefaultCfg.call(this);\n\n        cfg.type = 'line';\n        cfg.sortable = true;\n        return cfg;\n      };\n\n      return Line;\n    }(Path);\n\n    Geom.Line = Line$3;\n\n    function equals(v1, v2) {\n      return Math.abs(v1 - v2) < 0.00001;\n    }\n\n    function notEmpty(value) {\n      return !isNaN(value) && !isNil(value);\n    }\n\n    function filterPoints(points) {\n      var filteredPoints = []; // filter the point which x or y is NaN\n\n      for (var i = 0, len = points.length; i < len; i++) {\n        var point = points[i];\n\n        if (notEmpty(point.x) && notEmpty(point.y)) {\n          filteredPoints.push(point);\n        }\n      }\n\n      return filteredPoints;\n    }\n\n    function equalsCenter(points, center) {\n      var eqls = true;\n      each(points, function (point) {\n        if (!equals(point.x, center.x) || !equals(point.y, center.y)) {\n          eqls = false;\n          return false;\n        }\n      });\n      return eqls;\n    }\n\n    function drawRectShape(topPoints, bottomPoints, container, style, isSmooth) {\n      var shape;\n      var points = topPoints.concat(bottomPoints);\n\n      if (isSmooth) {\n        shape = container.addShape('Custom', {\n          className: 'area',\n          attrs: mix({\n            points: points\n          }, style),\n          createPath: function createPath(context) {\n            var constaint = [[0, 0], [1, 1]];\n            var points = filterPoints(this._attrs.attrs.points);\n            var pointsLen = points.length;\n            var topPoints = points.slice(0, pointsLen / 2);\n            var bottomPoints = points.slice(pointsLen / 2, pointsLen);\n            var topSps = catmullRom2bezier(topPoints, false, constaint);\n            context.beginPath();\n            context.moveTo(topPoints[0].x, topPoints[0].y);\n\n            for (var i = 0, n = topSps.length; i < n; i++) {\n              var sp = topSps[i];\n              context.bezierCurveTo(sp[1], sp[2], sp[3], sp[4], sp[5], sp[6]);\n            }\n\n            if (bottomPoints.length) {\n              var bottomSps = catmullRom2bezier(bottomPoints, false, constaint);\n              context.lineTo(bottomPoints[0].x, bottomPoints[0].y);\n\n              for (var _i = 0, _n = bottomSps.length; _i < _n; _i++) {\n                var _sp = bottomSps[_i];\n                context.bezierCurveTo(_sp[1], _sp[2], _sp[3], _sp[4], _sp[5], _sp[6]);\n              }\n            }\n\n            context.closePath();\n          },\n          calculateBox: function calculateBox() {\n            var points = filterPoints(this._attrs.attrs.points);\n            return getBBoxFromPoints(points);\n          }\n        });\n      } else {\n        shape = container.addShape('Polyline', {\n          className: 'area',\n          attrs: mix({\n            points: points\n          }, style)\n        });\n      }\n\n      return shape;\n    }\n\n    function drawShape$1(cfg, container, isSmooth) {\n      var self = this;\n      var points = cfg.points;\n      var topPoints = [];\n      var bottomPoints = [];\n      each(points, function (point) {\n        bottomPoints.push(point[0]);\n        topPoints.push(point[1]);\n      });\n      var style = mix({\n        fillStyle: cfg.color\n      }, Global.shape.area, cfg.style);\n      bottomPoints.reverse();\n      topPoints = self.parsePoints(topPoints);\n      bottomPoints = self.parsePoints(bottomPoints);\n\n      if (cfg.isInCircle) {\n        topPoints.push(topPoints[0]);\n        bottomPoints.unshift(bottomPoints[bottomPoints.length - 1]);\n\n        if (equalsCenter(bottomPoints, cfg.center)) {\n          bottomPoints = [];\n        }\n      }\n\n      return drawRectShape(topPoints, bottomPoints, container, style, isSmooth);\n    }\n\n    var Area = Shape$1.registerFactory('area', {\n      defaultShapeType: 'area',\n      getDefaultPoints: function getDefaultPoints(obj) {\n        var x = obj.x;\n        var y = obj.y;\n        var y0 = obj.y0;\n        y = isArray(y) ? y : [y0, y];\n        var points = [];\n        points.push({\n          x: x,\n          y: y[0]\n        }, {\n          x: x,\n          y: y[1]\n        });\n        return points;\n      }\n    });\n    var SHAPES$2 = ['area', 'smooth'];\n    each(SHAPES$2, function (shapeType) {\n      Shape$1.registerShape('area', shapeType, {\n        draw: function draw(cfg, container) {\n          var smooth = shapeType === 'smooth';\n          return drawShape$1.call(this, cfg, container, smooth);\n        }\n      });\n    });\n\n    var Area$1 = /*#__PURE__*/function (_Geom) {\n      _inheritsLoose(Area, _Geom);\n\n      function Area() {\n        return _Geom.apply(this, arguments) || this;\n      }\n\n      var _proto = Area.prototype;\n\n      /**\n       * get the default configuration\n       * @protected\n       * @return {Object} return the result\n       */\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        var cfg = _Geom.prototype.getDefaultCfg.call(this);\n\n        cfg.type = 'area';\n        cfg.shapeType = 'area';\n        cfg.generatePoints = true;\n        cfg.sortable = true;\n        return cfg;\n      };\n\n      _proto.draw = function draw(data, shapeFactory) {\n        var self = this;\n        var container = self.get('container');\n        var cfg = this.getDrawCfg(data[0]);\n        var yScale = self.getYScale();\n        var connectNulls = self.get('connectNulls');\n        var splitArrayfn = splitArray(data, yScale.field, connectNulls);\n        cfg.origin = data;\n        each(splitArrayfn, function (subData, splitedIndex) {\n          cfg.splitedIndex = splitedIndex;\n          var points = subData.map(function (obj) {\n            return obj.points;\n          });\n          cfg.points = points;\n          self.drawShape(cfg.shape, data[0], cfg, container, shapeFactory);\n        });\n      };\n\n      return Area;\n    }(Geom);\n\n    Geom.Area = Area$1;\n\n    /**\n     * @fileOverview Utility for calculate the with ratui in x axis\n     * @author sima.zhang1990@gmail.com\n     * @author dxq613@gmail.com\n     */\n    var SizeMixin = {\n      initEvent: function initEvent() {\n        var _this = this;\n\n        var chart = this.get('chart');\n\n        if (!chart) {\n          return;\n        }\n\n        chart.on(EVENT_AFTER_SIZE_CHANGE, function () {\n          _this.set('_width', null);\n        });\n      },\n      getDefaultSize: function getDefaultSize() {\n        var defaultSize = this.get('defaultSize');\n\n        if (!defaultSize) {\n          var coord = this.get('coord');\n          var xScale = this.getXScale();\n          var dataArray = this.get('dataArray');\n          var values = uniq(xScale.values);\n          var count = values.length;\n          var range = xScale.range;\n          var normalizeSize = 1 / count;\n          var widthRatio = 1;\n\n          if (coord && coord.isPolar) {\n            if (coord.transposed && count > 1) {\n              widthRatio = Global.widthRatio.multiplePie;\n            } else {\n              widthRatio = Global.widthRatio.rose;\n            }\n          } else {\n            if (xScale.isLinear) {\n              normalizeSize *= range[1] - range[0];\n            }\n\n            widthRatio = Global.widthRatio.column;\n          }\n\n          normalizeSize *= widthRatio;\n\n          if (this.hasAdjust('dodge')) {\n            normalizeSize = normalizeSize / dataArray.length;\n          }\n\n          defaultSize = normalizeSize;\n          this.set('defaultSize', defaultSize);\n        }\n\n        return defaultSize;\n      },\n      getDimWidth: function getDimWidth(dimName) {\n        var coord = this.get('coord');\n        var start = coord.convertPoint({\n          x: 0,\n          y: 0\n        });\n        var end = coord.convertPoint({\n          x: dimName === 'x' ? 1 : 0,\n          y: dimName === 'x' ? 0 : 1\n        });\n        var width = 0;\n\n        if (start && end) {\n          width = Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2));\n        }\n\n        return width;\n      },\n      _getWidth: function _getWidth() {\n        var width = this.get('_width');\n\n        if (!width) {\n          var coord = this.get('coord');\n\n          if (coord && coord.isPolar && !coord.transposed) {\n            width = (coord.endAngle - coord.startAngle) * coord.circleRadius;\n          } else {\n            width = this.getDimWidth('x');\n          }\n\n          this.set('_width', width);\n        }\n\n        return width;\n      },\n      _toNormalizedSize: function _toNormalizedSize(size) {\n        var width = this._getWidth();\n\n        return size / width;\n      },\n      _toCoordSize: function _toCoordSize(normalizeSize) {\n        var width = this._getWidth();\n\n        return width * normalizeSize;\n      },\n      getNormalizedSize: function getNormalizedSize(obj) {\n        var size = this.getAttrValue('size', obj);\n\n        if (isNil(size)) {\n          size = this.getDefaultSize();\n        } else {\n          size = this._toNormalizedSize(size);\n        }\n\n        return size;\n      },\n      getSize: function getSize(obj) {\n        var size = this.getAttrValue('size', obj);\n\n        if (isNil(size)) {\n          var normalizeSize = this.getDefaultSize();\n          size = this._toCoordSize(normalizeSize);\n        }\n\n        return size;\n      }\n    };\n\n    function getRectPoints(cfg) {\n      var x = cfg.x,\n          y = cfg.y,\n          y0 = cfg.y0,\n          size = cfg.size;\n      var ymin = y0;\n      var ymax = y;\n\n      if (isArray(y)) {\n        ymax = y[1];\n        ymin = y[0];\n      }\n\n      var xmin;\n      var xmax;\n\n      if (isArray(x)) {\n        xmin = x[0];\n        xmax = x[1];\n      } else {\n        xmin = x - size / 2;\n        xmax = x + size / 2;\n      }\n\n      return [{\n        x: xmin,\n        y: ymin\n      }, {\n        x: xmin,\n        y: ymax\n      }, {\n        x: xmax,\n        y: ymax\n      }, {\n        x: xmax,\n        y: ymin\n      }];\n    }\n\n    function getRectRange(points) {\n      var xValues = [];\n      var yValues = [];\n\n      for (var i = 0, len = points.length; i < len; i++) {\n        var point = points[i];\n        xValues.push(point.x);\n        yValues.push(point.y);\n      }\n\n      var xMin = Math.min.apply(null, xValues);\n      var yMin = Math.min.apply(null, yValues);\n      var xMax = Math.max.apply(null, xValues);\n      var yMax = Math.max.apply(null, yValues);\n      return {\n        x: xMin,\n        y: yMin,\n        width: xMax - xMin,\n        height: yMax - yMin\n      };\n    }\n\n    function getMiddlePoint(a, b) {\n      var x = (a.x - b.x) / 2 + b.x;\n      var y = (a.y - b.y) / 2 + b.y;\n      return {\n        x: x,\n        y: y\n      };\n    }\n\n    var Interval = Shape$1.registerFactory('interval', {\n      defaultShapeType: 'rect',\n      getDefaultPoints: function getDefaultPoints(cfg) {\n        return getRectPoints(cfg);\n      }\n    });\n    Shape$1.registerShape('interval', 'rect', {\n      draw: function draw(cfg, container) {\n        var points = this.parsePoints(cfg.points);\n        var style = mix({\n          fill: cfg.color\n        }, Global.shape.interval, cfg.style);\n\n        if (cfg.isInCircle) {\n          var newPoints = points.slice(0);\n\n          if (this._coord.transposed) {\n            newPoints = [points[0], points[3], points[2], points[1]];\n          }\n\n          var _cfg$center = cfg.center,\n              x = _cfg$center.x,\n              y = _cfg$center.y;\n          var v = [1, 0];\n          var v0 = [newPoints[0].x - x, newPoints[0].y - y];\n          var v1 = [newPoints[1].x - x, newPoints[1].y - y];\n          var v2 = [newPoints[2].x - x, newPoints[2].y - y];\n          var startAngle = Vector2.angleTo(v, v1);\n          var endAngle = Vector2.angleTo(v, v2);\n          var r0 = Vector2.length(v0);\n          var r = Vector2.length(v1);\n\n          if (startAngle >= 1.5 * Math.PI) {\n            startAngle = startAngle - 2 * Math.PI;\n          }\n\n          if (endAngle >= 1.5 * Math.PI) {\n            endAngle = endAngle - 2 * Math.PI;\n          }\n\n          return container.addShape('Sector', {\n            className: 'interval',\n            attrs: mix({\n              x: x,\n              y: y,\n              r: r,\n              r0: r0,\n              startAngle: startAngle,\n              endAngle: endAngle\n            }, style)\n          });\n        }\n\n        var rectCfg = getRectRange(points);\n        return container.addShape('rect', {\n          className: 'interval',\n          attrs: mix(rectCfg, style)\n        });\n      }\n    }); // 金字塔 和 漏斗图\n\n    ['pyramid', 'funnel'].forEach(function (shapeType) {\n      Shape$1.registerShape('interval', shapeType, {\n        getPoints: function getPoints(cfg) {\n          cfg.size = cfg.size * 2; // 漏斗图的 size 是柱状图的两倍\n\n          return getRectPoints(cfg);\n        },\n        draw: function draw(cfg, container) {\n          var points = this.parsePoints(cfg.points);\n          var nextPoints = this.parsePoints(cfg.nextPoints);\n          var polygonPoints = null;\n\n          if (nextPoints) {\n            polygonPoints = [points[0], points[1], nextPoints[1], nextPoints[0]];\n          } else {\n            polygonPoints = [points[0], points[1]]; // pyramid 顶部是三角形，所以取中心点就好了，funnel顶部是长方形\n\n            if (shapeType === 'pyramid') {\n              polygonPoints.push(getMiddlePoint(points[2], points[3]));\n            } else {\n              polygonPoints.push(points[2], points[3]);\n            }\n          }\n\n          var attrs = mix({\n            fill: cfg.color,\n            points: polygonPoints\n          }, Global.shape.interval, cfg.style);\n          return container.addShape('polygon', {\n            className: 'interval',\n            attrs: attrs\n          });\n        }\n      });\n    });\n\n    var Interval$1 = /*#__PURE__*/function (_Geom) {\n      _inheritsLoose(Interval, _Geom);\n\n      var _proto = Interval.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        var cfg = _Geom.prototype.getDefaultCfg.call(this);\n\n        cfg.type = 'interval';\n        cfg.shapeType = 'interval';\n        cfg.generatePoints = true;\n        return cfg;\n      };\n\n      function Interval(cfg) {\n        var _this;\n\n        _this = _Geom.call(this, cfg) || this;\n        mix(_assertThisInitialized(_this), SizeMixin);\n        return _this;\n      }\n\n      _proto.init = function init() {\n        _Geom.prototype.init.call(this); // 绑定事件\n\n\n        this.initEvent();\n      };\n\n      _proto.createShapePointsCfg = function createShapePointsCfg(obj) {\n        var cfg = _Geom.prototype.createShapePointsCfg.call(this, obj);\n\n        cfg.size = this.getNormalizedSize(obj);\n        return cfg;\n      };\n\n      _proto.clearInner = function clearInner() {\n        _Geom.prototype.clearInner.call(this);\n\n        this.set('defaultSize', null);\n      };\n\n      return Interval;\n    }(Geom);\n\n    Geom.Interval = Interval$1;\n\n    var Polygon$1 = Shape$1.registerFactory('polygon', {\n      defaultShapeType: 'polygon',\n      getDefaultPoints: function getDefaultPoints(pointInfo) {\n        var points = [];\n        var x = pointInfo.x,\n            y = pointInfo.y;\n\n        for (var i = 0, len = x.length; i < len; i++) {\n          points.push({\n            x: x[i],\n            y: y[i]\n          });\n        }\n\n        return points;\n      }\n    });\n    Shape$1.registerShape('polygon', 'polygon', {\n      draw: function draw(cfg, container) {\n        var points = this.parsePoints(cfg.points);\n        var style = mix({\n          fill: cfg.color,\n          points: points\n        }, cfg.style);\n        return container.addShape('Polygon', {\n          className: 'polygon',\n          attrs: style\n        });\n      }\n    });\n\n    var Polygon$2 = /*#__PURE__*/function (_Geom) {\n      _inheritsLoose(Polygon, _Geom);\n\n      function Polygon() {\n        return _Geom.apply(this, arguments) || this;\n      }\n\n      var _proto = Polygon.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        var cfg = _Geom.prototype.getDefaultCfg.call(this);\n\n        cfg.type = 'polygon';\n        cfg.shapeType = 'polygon';\n        cfg.generatePoints = true;\n        return cfg;\n      };\n\n      _proto.createShapePointsCfg = function createShapePointsCfg(obj) {\n        var cfg = _Geom.prototype.createShapePointsCfg.call(this, obj);\n\n        var self = this;\n        var x = cfg.x;\n        var y = cfg.y;\n        var temp;\n\n        if (!(isArray(x) && isArray(y))) {\n          var xScale = self.getXScale();\n          var yScale = self.getYScale();\n          var xCount = xScale.values ? xScale.values.length : xScale.ticks.length;\n          var yCount = yScale.values ? yScale.values.length : yScale.ticks.length;\n          var xOffset = 0.5 * 1 / xCount;\n          var yOffset = 0.5 * 1 / yCount;\n\n          if (xScale.isCategory && yScale.isCategory) {\n            x = [x - xOffset, x - xOffset, x + xOffset, x + xOffset];\n            y = [y - yOffset, y + yOffset, y + yOffset, y - yOffset];\n          } else if (isArray(x)) {\n            temp = x;\n            x = [temp[0], temp[0], temp[1], temp[1]];\n            y = [y - yOffset / 2, y + yOffset / 2, y + yOffset / 2, y - yOffset / 2];\n          } else if (isArray(y)) {\n            temp = y;\n            y = [temp[0], temp[1], temp[1], temp[0]];\n            x = [x - xOffset / 2, x - xOffset / 2, x + xOffset / 2, x + xOffset / 2];\n          }\n\n          cfg.x = x;\n          cfg.y = y;\n        }\n\n        return cfg;\n      };\n\n      return Polygon;\n    }(Geom);\n\n    Geom.Polygon = Polygon$2;\n\n    function _sortValue(value) {\n      var sorted = value.sort(function (a, b) {\n        return a < b ? 1 : -1;\n      });\n      var length = sorted.length;\n\n      if (length < 4) {\n        var min = sorted[length - 1];\n\n        for (var i = 0; i < 4 - length; i++) {\n          sorted.push(min);\n        }\n      }\n\n      return sorted;\n    } // from left bottom corner, and clockwise\n\n\n    function getCandlePoints(x, y, width) {\n      var yValues = _sortValue(y);\n\n      var points = [{\n        x: x,\n        y: yValues[0]\n      }, {\n        x: x,\n        y: yValues[1]\n      }, {\n        x: x - width / 2,\n        y: yValues[2]\n      }, {\n        x: x - width / 2,\n        y: yValues[1]\n      }, {\n        x: x + width / 2,\n        y: yValues[1]\n      }, {\n        x: x + width / 2,\n        y: yValues[2]\n      }, {\n        x: x,\n        y: yValues[2]\n      }, {\n        x: x,\n        y: yValues[3]\n      }];\n      return points;\n    }\n\n    var Schema = Shape$1.registerFactory('schema', {});\n    Shape$1.registerShape('schema', 'candle', {\n      getPoints: function getPoints(cfg) {\n        return getCandlePoints(cfg.x, cfg.y, cfg.size);\n      },\n      draw: function draw(cfg, container) {\n        var points = this.parsePoints(cfg.points);\n        var style = mix({\n          stroke: cfg.color,\n          fill: cfg.color,\n          lineWidth: 1\n        }, cfg.style);\n        return container.addShape('Custom', {\n          className: 'schema',\n          attrs: style,\n          createPath: function createPath(ctx) {\n            ctx.beginPath();\n            ctx.moveTo(points[0].x, points[0].y);\n            ctx.lineTo(points[1].x, points[1].y);\n            ctx.moveTo(points[2].x, points[2].y);\n\n            for (var i = 3; i < 6; i++) {\n              ctx.lineTo(points[i].x, points[i].y);\n            }\n\n            ctx.closePath();\n            ctx.moveTo(points[6].x, points[6].y);\n            ctx.lineTo(points[7].x, points[7].y);\n          }\n        });\n      }\n    });\n\n    var Schema$1 = /*#__PURE__*/function (_Geom) {\n      _inheritsLoose(Schema, _Geom);\n\n      var _proto = Schema.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        var cfg = _Geom.prototype.getDefaultCfg.call(this);\n\n        cfg.type = 'schema';\n        cfg.shapeType = 'schema';\n        cfg.generatePoints = true;\n        return cfg;\n      };\n\n      function Schema(cfg) {\n        var _this;\n\n        _this = _Geom.call(this, cfg) || this;\n        mix(_assertThisInitialized(_this), SizeMixin);\n        return _this;\n      }\n\n      _proto.init = function init() {\n        _Geom.prototype.init.call(this); // 绑定事件\n\n\n        this.initEvent();\n      };\n\n      _proto.createShapePointsCfg = function createShapePointsCfg(obj) {\n        var cfg = _Geom.prototype.createShapePointsCfg.call(this, obj);\n\n        cfg.size = this.getNormalizedSize(obj);\n        return cfg;\n      };\n\n      _proto.clearInner = function clearInner() {\n        _Geom.prototype.clearInner.call(this);\n\n        this.set('defaultSize', null);\n      };\n\n      return Schema;\n    }(Geom);\n\n    Geom.Schema = Schema$1;\n\n    var toString$3 = {}.toString;\n\n    var isType$1 = function isType(value, type) {\n      return toString$3.call(value) === '[object ' + type + ']';\n    };\n\n    var isType_1 = isType$1;\n\n    var isArray$1 = Array.isArray ? Array.isArray : function (value) {\n      return isType_1(value, 'Array');\n    };\n    var isArray_1 = isArray$1;\n\n    // isFinite,\n    var isNil$1 = function isNil(value) {\n      /**\n       * isNil(null) => true\n       * isNil() => true\n       */\n      return value === null || value === undefined;\n    };\n\n    var isNil_1 = isNil$1;\n\n    function _inheritsLoose$1(subClass, superClass) {\n      subClass.prototype = Object.create(superClass.prototype);\n      subClass.prototype.constructor = subClass;\n      subClass.__proto__ = superClass;\n    }\n\n    var Stack = /*#__PURE__*/function (_Adjust) {\n      _inheritsLoose$1(Stack, _Adjust);\n\n      function Stack() {\n        return _Adjust.apply(this, arguments) || this;\n      }\n\n      var _proto = Stack.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.xField = null; // 调整对应的 x 方向对应的字段名称\n\n        this.yField = null; // 调整对应的 y 方向对应的字段名称\n      };\n\n      _proto.processAdjust = function processAdjust(dataArray) {\n        this.processStack(dataArray);\n      };\n\n      _proto.processStack = function processStack(dataArray) {\n        var self = this;\n        var xField = self.xField;\n        var yField = self.yField;\n        var count = dataArray.length;\n        var stackCache = {\n          positive: {},\n          negative: {}\n        }; // 层叠顺序翻转\n\n        if (self.reverseOrder) {\n          dataArray = dataArray.slice(0).reverse();\n        }\n\n        for (var i = 0; i < count; i++) {\n          var data = dataArray[i];\n\n          for (var j = 0, len = data.length; j < len; j++) {\n            var item = data[j];\n            var x = item[xField] || 0;\n            var y = item[yField];\n            var xkey = x.toString();\n            y = isArray_1(y) ? y[1] : y;\n\n            if (!isNil_1(y)) {\n              var direction = y >= 0 ? 'positive' : 'negative';\n\n              if (!stackCache[direction][xkey]) {\n                stackCache[direction][xkey] = 0;\n              }\n\n              item[yField] = [stackCache[direction][xkey], y + stackCache[direction][xkey]];\n              stackCache[direction][xkey] += y;\n            }\n          }\n        }\n      };\n\n      return Stack;\n    }(base);\n\n    base.Stack = Stack;\n\n    var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n      return typeof obj;\n    } : function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    var isObject$1 = function isObject(value) {\n      /**\n       * isObject({}) => true\n       * isObject([1, 2, 3]) => true\n       * isObject(Function) => true\n       * isObject(null) => false\n       */\n      var type = typeof value === 'undefined' ? 'undefined' : _typeof(value);\n      return value !== null && type === 'object' || type === 'function';\n    };\n\n    var isObject_1 = isObject$1;\n\n    var each$1 = function each(elements, func) {\n      if (!elements) {\n        return;\n      }\n\n      var rst = void 0;\n\n      if (isArray_1(elements)) {\n        for (var i = 0, len = elements.length; i < len; i++) {\n          rst = func(elements[i], i);\n\n          if (rst === false) {\n            break;\n          }\n        }\n      } else if (isObject_1(elements)) {\n        for (var k in elements) {\n          if (elements.hasOwnProperty(k)) {\n            rst = func(elements[k], k);\n\n            if (rst === false) {\n              break;\n            }\n          }\n        }\n      }\n    };\n\n    var each_1 = each$1;\n\n    function _inheritsLoose$2(subClass, superClass) {\n      subClass.prototype = Object.create(superClass.prototype);\n      subClass.prototype.constructor = subClass;\n      subClass.__proto__ = superClass;\n    }\n\n    var MARGIN_RATIO = 1 / 2;\n    var DODGE_RATIO = 1 / 2;\n\n    var Dodge = /*#__PURE__*/function (_Adjust) {\n      _inheritsLoose$2(Dodge, _Adjust);\n\n      function Dodge() {\n        return _Adjust.apply(this, arguments) || this;\n      }\n\n      var _proto = Dodge.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        /**\n         * 调整过程中,2个数据的间距\n         * @type {Number}\n         */\n        this.marginRatio = MARGIN_RATIO;\n        /**\n         * 调整占单位宽度的比例,例如：占2个分类间距的 1/2\n         * @type {Number}\n         */\n\n        this.dodgeRatio = DODGE_RATIO;\n        this.adjustNames = ['x', 'y']; // 调整的维度，默认,x,y都做调整\n      };\n\n      _proto.getDodgeOffset = function getDodgeOffset(range, index, count) {\n        var self = this;\n        var pre = range.pre;\n        var next = range.next;\n        var tickLength = next - pre;\n        var width = tickLength * self.dodgeRatio / count;\n        var margin = self.marginRatio * width;\n        var offset = 1 / 2 * (tickLength - count * width - (count - 1) * margin) + ((index + 1) * width + index * margin) - 1 / 2 * width - 1 / 2 * tickLength;\n        return (pre + next) / 2 + offset;\n      };\n\n      _proto.processAdjust = function processAdjust(dataArray) {\n        var self = this;\n        var count = dataArray.length;\n        var xField = self.xField;\n        each_1(dataArray, function (data, index) {\n          for (var i = 0, len = data.length; i < len; i++) {\n            var obj = data[i];\n            var value = obj[xField];\n            var range = {\n              pre: len === 1 ? value - 1 : value - 0.5,\n              next: len === 1 ? value + 1 : value + 0.5\n            };\n            var dodgeValue = self.getDodgeOffset(range, index, count);\n            obj[xField] = dodgeValue;\n          }\n        });\n      };\n\n      return Dodge;\n    }(base);\n\n    base.Dodge = Dodge;\n\n    /**\n     * 是否为函数\n     * @param  {*} fn 对象\n     * @return {Boolean}  是否函数\n     */\n\n    var isFunction$1 = function isFunction(value) {\n      return isType_1(value, 'Function');\n    };\n\n    var isFunction_1 = isFunction$1;\n\n    /**\n     * @param {Array} arr The array to iterate over.\n     * @param {Function} [fn] The iteratee invoked per element.\n     * @return {*} Returns the maximum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * maxBy(objects, function(o) { return o.n; });\n     * // => { 'n': 2 }\n     *\n     * maxBy(objects, 'n');\n     * // => { 'n': 2 }\n     */\n\n    var maxBy = function maxBy(arr, fn) {\n      if (!isArray_1(arr)) {\n        return undefined;\n      }\n\n      var max = arr[0];\n      var maxData = void 0;\n\n      if (isFunction_1(fn)) {\n        maxData = fn(arr[0]);\n      } else {\n        maxData = arr[0][fn];\n      }\n\n      var data = void 0;\n      each_1(arr, function (val) {\n        if (isFunction_1(fn)) {\n          data = fn(val);\n        } else {\n          data = val[fn];\n        }\n\n        if (data > maxData) {\n          max = val;\n          maxData = data;\n        }\n      });\n      return max;\n    };\n\n    var maxBy_1 = maxBy;\n\n    var merge$1 = function merge(dataArray) {\n      var rst = [];\n\n      for (var i = 0; i < dataArray.length; i++) {\n        rst = rst.concat(dataArray[i]);\n      }\n\n      return rst;\n    };\n\n    var merge_1 = merge$1;\n\n    function _inheritsLoose$3(subClass, superClass) {\n      subClass.prototype = Object.create(superClass.prototype);\n      subClass.prototype.constructor = subClass;\n      subClass.__proto__ = superClass;\n    }\n\n    var ArrayUtil = {\n      merge: merge_1\n    };\n\n    var Symmetric = /*#__PURE__*/function (_Adjust) {\n      _inheritsLoose$3(Symmetric, _Adjust);\n\n      function Symmetric() {\n        return _Adjust.apply(this, arguments) || this;\n      }\n\n      var _proto = Symmetric.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.xField = null; // 调整对应的 x 方向对应的字段名称\n\n        this.yField = null; // 调整对应的 y 方向对应的字段名称\n\n        this.cacheMax = null; // 缓存的最大值\n\n        this.adjustNames = ['y']; // Only support stack y\n\n        this.groupFields = null; // 参与分组的数据维度\n      }; // 获取最大的y值\n\n\n      _proto._getMax = function _getMax(dim) {\n        var self = this;\n        var mergeData = self.mergeData;\n        var maxRecord = maxBy_1(mergeData, function (obj) {\n          var value = obj[dim];\n\n          if (isArray_1(value)) {\n            return Math.max.apply(null, value);\n          }\n\n          return value;\n        });\n        var maxValue = maxRecord[dim];\n        var max = isArray_1(maxValue) ? Math.max.apply(null, maxValue) : maxValue;\n        return max;\n      }; // 获取每个字段最大的值\n\n\n      _proto._getXValuesMax = function _getXValuesMax() {\n        var self = this;\n        var yField = self.yField;\n        var xField = self.xField;\n        var cache = {};\n        var mergeData = self.mergeData;\n        each_1(mergeData, function (obj) {\n          var xValue = obj[xField];\n          var yValue = obj[yField];\n          var max = isArray_1(yValue) ? Math.max.apply(null, yValue) : yValue;\n          cache[xValue] = cache[xValue] || 0;\n\n          if (cache[xValue] < max) {\n            cache[xValue] = max;\n          }\n        });\n        return cache;\n      }; // 入口函数\n\n\n      _proto.processAdjust = function processAdjust(dataArray) {\n        var self = this;\n        var mergeData = ArrayUtil.merge(dataArray);\n        self.mergeData = mergeData;\n\n        self._processSymmetric(dataArray);\n\n        self.mergeData = null;\n      }; // 处理对称\n\n\n      _proto._processSymmetric = function _processSymmetric(dataArray) {\n        var self = this;\n        var xField = self.xField;\n        var yField = self.yField;\n\n        var max = self._getMax(yField);\n\n        var first = dataArray[0][0];\n        var cache;\n\n        if (first && isArray_1(first[yField])) {\n          cache = self._getXValuesMax();\n        }\n\n        each_1(dataArray, function (data) {\n          each_1(data, function (obj) {\n            var value = obj[yField];\n            var offset;\n\n            if (isArray_1(value)) {\n              var xValue = obj[xField];\n              var valueMax = cache[xValue];\n              offset = (max - valueMax) / 2;\n              var tmp = [];\n              /* eslint-disable no-loop-func */\n\n              each_1(value, function (subVal) {\n                // 多个字段\n                tmp.push(offset + subVal);\n              });\n              /* eslint-enable no-loop-func */\n\n              obj[yField] = tmp;\n            } else {\n              offset = (max - value) / 2;\n              obj[yField] = [offset, value + offset];\n            }\n          });\n        });\n      };\n\n      return Symmetric;\n    }(base);\n\n    base.Symmetric = Symmetric;\n\n    var Polar = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Polar, _Base);\n\n      function Polar() {\n        return _Base.apply(this, arguments) || this;\n      }\n\n      var _proto = Polar.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.type = 'polar';\n        this.startAngle = -Math.PI / 2;\n        this.endAngle = Math.PI * 3 / 2;\n        this.inner = 0;\n        this.innerRadius = 0; // alias\n\n        this.isPolar = true;\n        this.transposed = false;\n        this.center = null;\n        this.radius = null; // relative, 0 ~ 1\n      };\n\n      _proto.init = function init(start, end) {\n        _Base.prototype.init.call(this, start, end);\n\n        var self = this;\n        var inner = self.inner || self.innerRadius;\n        var width = Math.abs(end.x - start.x);\n        var height = Math.abs(end.y - start.y);\n        var maxRadius;\n        var center;\n\n        if (self.startAngle === -Math.PI && self.endAngle === 0) {\n          maxRadius = Math.min(width / 2, height);\n          center = {\n            x: (start.x + end.x) / 2,\n            y: start.y\n          };\n        } else {\n          maxRadius = Math.min(width, height) / 2;\n          center = {\n            x: (start.x + end.x) / 2,\n            y: (start.y + end.y) / 2\n          };\n        }\n\n        var radius = self.radius;\n\n        if (radius > 0 && radius <= 1) {\n          maxRadius = maxRadius * radius;\n        }\n\n        this.x = {\n          start: self.startAngle,\n          end: self.endAngle\n        };\n        this.y = {\n          start: maxRadius * inner,\n          end: maxRadius\n        };\n        this.center = center;\n        this.circleRadius = maxRadius; // the radius value in px\n      };\n\n      _proto._convertPoint = function _convertPoint(point) {\n        var self = this;\n        var center = self.center;\n        var transposed = self.transposed;\n        var xDim = transposed ? 'y' : 'x';\n        var yDim = transposed ? 'x' : 'y';\n        var x = self.x;\n        var y = self.y;\n        var angle = x.start + (x.end - x.start) * point[xDim];\n        var radius = y.start + (y.end - y.start) * point[yDim];\n        return {\n          x: center.x + Math.cos(angle) * radius,\n          y: center.y + Math.sin(angle) * radius\n        };\n      };\n\n      _proto._invertPoint = function _invertPoint(point) {\n        var self = this;\n        var center = self.center,\n            transposed = self.transposed,\n            x = self.x,\n            y = self.y;\n        var xDim = transposed ? 'y' : 'x';\n        var yDim = transposed ? 'x' : 'y';\n        var m = [1, 0, 0, 1, 0, 0];\n        Matrix.rotate(m, m, x.start);\n        var startV = [1, 0];\n        Vector2.transformMat2d(startV, startV, m);\n        startV = [startV[0], startV[1]];\n        var pointV = [point.x - center.x, point.y - center.y];\n\n        if (Vector2.zero(pointV)) {\n          return {\n            x: 0,\n            y: 0\n          };\n        }\n\n        var theta = Vector2.angleTo(startV, pointV, x.end < x.start);\n\n        if (Math.abs(theta - Math.PI * 2) < 0.001) {\n          theta = 0;\n        }\n\n        var l = Vector2.length(pointV);\n        var percentX = theta / (x.end - x.start);\n        percentX = x.end - x.start > 0 ? percentX : -percentX;\n        var percentY = (l - y.start) / (y.end - y.start);\n        var rst = {};\n        rst[xDim] = percentX;\n        rst[yDim] = percentY;\n        return rst;\n      };\n\n      return Polar;\n    }(Base$1);\n\n    Base$1.Polar = Polar;\n\n    var Circle$1 = /*#__PURE__*/function (_Abstract) {\n      _inheritsLoose(Circle, _Abstract);\n\n      function Circle() {\n        return _Abstract.apply(this, arguments) || this;\n      }\n\n      var _proto = Circle.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        _Abstract.prototype._initDefaultCfg.call(this);\n\n        this.startAngle = -Math.PI / 2; // start angle，in radian\n\n        this.endAngle = Math.PI * 3 / 2; // end angle, in radian\n\n        this.radius = null; // radius\n\n        this.center = null; // center\n      };\n\n      _proto.getOffsetPoint = function getOffsetPoint(value) {\n        var startAngle = this.startAngle,\n            endAngle = this.endAngle;\n        var angle = startAngle + (endAngle - startAngle) * value;\n        return this._getCirclePoint(angle);\n      };\n\n      _proto._getCirclePoint = function _getCirclePoint(angle, radius) {\n        var self = this;\n        var center = self.center;\n        radius = radius || self.radius;\n        return {\n          x: center.x + Math.cos(angle) * radius,\n          y: center.y + Math.sin(angle) * radius\n        };\n      };\n\n      _proto.getTextAlignInfo = function getTextAlignInfo(point, offset) {\n        var self = this;\n        var offsetVector = self.getOffsetVector(point, offset);\n        var align;\n        var baseLine = 'middle';\n\n        if (offsetVector[0] > 0) {\n          align = 'left';\n        } else if (offsetVector[0] < 0) {\n          align = 'right';\n        } else {\n          align = 'center';\n\n          if (offsetVector[1] > 0) {\n            baseLine = 'top';\n          } else if (offsetVector[1] < 0) {\n            baseLine = 'bottom';\n          }\n        }\n\n        return {\n          textAlign: align,\n          textBaseline: baseLine\n        };\n      };\n\n      _proto.getAxisVector = function getAxisVector(point) {\n        var center = this.center;\n        var factor = this.offsetFactor;\n        return [(point.y - center.y) * factor, (point.x - center.x) * -1 * factor];\n      };\n\n      _proto.drawLine = function drawLine(lineCfg) {\n        var center = this.center,\n            radius = this.radius,\n            startAngle = this.startAngle,\n            endAngle = this.endAngle;\n        var container = this.getContainer(lineCfg.top);\n        container.addShape('arc', {\n          className: 'axis-line',\n          attrs: mix({\n            x: center.x,\n            y: center.y,\n            r: radius,\n            startAngle: startAngle,\n            endAngle: endAngle\n          }, lineCfg)\n        });\n      };\n\n      return Circle;\n    }(Abastract);\n\n    Abastract.Circle = Circle$1;\n\n    var KEYWORDS_PERCENT = {\n      min: 0,\n      median: 0.5,\n      max: 1\n    };\n\n    var GuideBase = /*#__PURE__*/function () {\n      var _proto = GuideBase.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {};\n\n      function GuideBase(cfg) {\n        this._initDefaultCfg();\n\n        deepMix(this, cfg);\n      }\n\n      _proto._getNormalizedValue = function _getNormalizedValue(val, scale) {\n        var rst;\n\n        if (isNil(KEYWORDS_PERCENT[val])) {\n          rst = scale.scale(val);\n        } else {\n          rst = KEYWORDS_PERCENT[val];\n        }\n\n        return rst;\n      };\n\n      _proto.parsePercentPoint = function parsePercentPoint(coord, position) {\n        var xPercent = parseFloat(position[0]) / 100;\n        var yPercent = parseFloat(position[1]) / 100;\n        var start = coord.start;\n        var end = coord.end;\n        var width = Math.abs(start.x - end.x);\n        var height = Math.abs(start.y - end.y);\n        var x = width * xPercent + Math.min(start.x, end.x);\n        var y = height * yPercent + Math.min(start.y, end.y);\n        return {\n          x: x,\n          y: y\n        };\n      };\n\n      _proto.parsePoint = function parsePoint(coord, position) {\n        var self = this;\n        var xScale = self.xScale;\n        var yScales = self.yScales;\n\n        if (isFunction(position)) {\n          position = position(xScale, yScales); // position 必须是对象\n        } // 如果数据格式是 ['50%', '50%'] 的格式\n        // fix: 原始数据中可能会包含 'xxx5%xxx' 这样的数据，需要判断下 https://github.com/antvis/f2/issues/590\n\n\n        if (isString(position[0]) && position[0].indexOf('%') !== -1 && !isNaN(position[0].slice(0, -1))) {\n          return this.parsePercentPoint(coord, position);\n        }\n\n        var x = self._getNormalizedValue(position[0], xScale);\n\n        var y = self._getNormalizedValue(position[1], yScales[0]);\n\n        var point = coord.convertPoint({\n          x: x,\n          y: y\n        });\n\n        if (self.limitInPlot) {\n          // limit in chart plotRange\n          if (x >= 0 && x <= 1 && y >= 0 && y <= 1) {\n            return point;\n          }\n\n          return null;\n        }\n\n        return point;\n      }\n      /**\n       * render the guide component\n       * @param  {Coord} coord  coordinate instance\n       * @param  {Canvas.Group} group the container\n       */\n      ;\n\n      _proto.render = function render()\n      /* coord,group */\n      {};\n\n      _proto.repaint = function repaint() {\n        this.remove();\n        var coord = this.coord,\n            container = this.container,\n            canvas = this.canvas;\n\n        if (container && !container.isDestroyed()) {\n          this.render(coord, container);\n          canvas.draw();\n        }\n      };\n\n      _proto.remove = function remove() {\n        var element = this.element;\n        element && element.remove(true);\n      };\n\n      _proto.changeVisible = function changeVisible(visible) {\n        var self = this;\n        self.visible = visible;\n        var element = self.element;\n        if (!element) return;\n\n        if (element.set) {\n          element.set('visible', visible);\n        } else {\n          element.style.display = visible ? '' : 'none';\n        }\n      };\n\n      return GuideBase;\n    }();\n\n    var Arc$1 = /*#__PURE__*/function (_GuideBase) {\n      _inheritsLoose(Arc, _GuideBase);\n\n      function Arc() {\n        return _GuideBase.apply(this, arguments) || this;\n      }\n\n      var _proto = Arc.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.type = 'arc';\n        /**\n         * start point\n         * @type {Array | Function}\n         */\n\n        this.start = [];\n        /**\n         * end point\n         * @type {Array | Function}\n         */\n\n        this.end = [];\n        /**\n         * style configuration\n         * @type {Object}\n         */\n\n        this.style = {\n          stroke: '#999',\n          lineWidth: 1\n        };\n      };\n\n      _proto.render = function render(coord, container) {\n        var self = this;\n        var start = self.parsePoint(coord, self.start);\n        var end = self.parsePoint(coord, self.end);\n\n        if (!start || !end) {\n          return;\n        }\n\n        var coordCenter = coord.center;\n        var radius = Math.sqrt((start.x - coordCenter.x) * (start.x - coordCenter.x) + (start.y - coordCenter.y) * (start.y - coordCenter.y));\n        var startAngle = Math.atan2(start.y - coordCenter.y, start.x - coordCenter.x);\n        var endAngle = Math.atan2(end.y - coordCenter.y, end.x - coordCenter.x);\n        var shape = container.addShape('arc', {\n          className: 'guide-arc',\n          attrs: mix({\n            x: coordCenter.x,\n            y: coordCenter.y,\n            r: radius,\n            startAngle: startAngle,\n            endAngle: endAngle\n          }, self.style)\n        });\n        self.element = shape;\n        return shape;\n      };\n\n      return Arc;\n    }(GuideBase);\n\n    GuideBase.Arc = Arc$1;\n\n    function getOffsetFromAlign(alignX, alignY, width, height) {\n      var result = [];\n\n      if (alignX === 'left' && alignY === 'top') {\n        result[0] = 0;\n        result[1] = 0;\n      } else if (alignX === 'right' && alignY === 'top') {\n        result[0] = -width;\n        result[1] = 0;\n      } else if (alignX === 'left' && alignY === 'bottom') {\n        result[0] = 0;\n        result[1] = Math.floor(-height);\n      } else if (alignX === 'right' && alignY === 'bottom') {\n        result[0] = Math.floor(-width);\n        result[1] = Math.floor(-height);\n      } else if (alignX === 'right' && alignY === 'middle') {\n        result[0] = Math.floor(-width);\n        result[1] = Math.floor(-height / 2);\n      } else if (alignX === 'left' && alignY === 'middle') {\n        result[0] = 0;\n        result[1] = Math.floor(-height / 2);\n      } else if (alignX === 'center' && alignY === 'bottom') {\n        result[0] = Math.floor(-width / 2);\n        result[1] = Math.floor(-height);\n      } else if (alignX === 'center' && alignY === 'top') {\n        result[0] = Math.floor(-width / 2);\n        result[1] = 0;\n      } else {\n        result[0] = Math.floor(-width / 2);\n        result[1] = Math.floor(-height / 2);\n      }\n\n      return result;\n    }\n\n    function modifyCSS(DOM, CSS) {\n      for (var key in CSS) {\n        if (CSS.hasOwnProperty(key)) {\n          DOM.style[key] = CSS[key];\n        }\n      }\n\n      return DOM;\n    }\n\n    function createDom(str) {\n      var container = document.createElement('div');\n      str = str.replace(/(^\\s*)|(\\s*$)/g, '');\n      container.innerHTML = '' + str;\n      return container.childNodes[0];\n    }\n\n    var Html = /*#__PURE__*/function (_GuideBase) {\n      _inheritsLoose(Html, _GuideBase);\n\n      function Html() {\n        return _GuideBase.apply(this, arguments) || this;\n      }\n\n      var _proto = Html.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.type = 'html';\n        /**\n         * dom position\n         * @type {Object | Array}\n         */\n\n        this.position = null;\n        /**\n          * alignment for horizontal direction，can be 'left','center','right'\n          * @type {String}\n          */\n\n        this.alignX = 'center';\n        /**\n          * alignment for vertical direction，can be 'top', 'middle', 'bottom'\n          * @type {String}\n          */\n\n        this.alignY = 'middle';\n        /**\n          * offset for horizontal direction\n          * @type {Number}\n          */\n\n        this.offsetX = null;\n        /**\n          * offset for vertical direction\n          * @type {Number}\n          */\n\n        this.offsetY = null;\n        /**\n        * the html string\n        *@type {String | Function}\n        */\n\n        this.html = null;\n      } // override paint\n      ;\n\n      _proto.render = function render(coord, container) {\n        var self = this;\n        var position = self.parsePoint(coord, self.position);\n\n        if (!position) {\n          return;\n        }\n\n        var myNode = createDom(self.html);\n        myNode = modifyCSS(myNode, {\n          position: 'absolute',\n          top: Math.floor(position.y) + 'px',\n          left: Math.floor(position.x) + 'px',\n          visibility: 'hidden'\n        });\n        var canvasDom = container.get('canvas').get('el');\n        var parentNode = canvasDom.parentNode;\n        parentNode = modifyCSS(parentNode, {\n          position: 'relative'\n        });\n        var wrapperNode = createDom('<div class=\"guideWapper\" style=\"position: absolute;top: 0; left: 0;\"></div>');\n        parentNode.appendChild(wrapperNode);\n        wrapperNode.appendChild(myNode);\n        var canvasOffsetTop = canvasDom.offsetTop;\n        var canvasOffsetLeft = canvasDom.offsetLeft;\n        var alignX = self.alignX,\n            alignY = self.alignY,\n            offsetX = self.offsetX,\n            offsetY = self.offsetY;\n        var width = getWidth(myNode);\n        var height = getHeight(myNode);\n        var newOffset = getOffsetFromAlign(alignX, alignY, width, height);\n        position.x = position.x + newOffset[0] + canvasOffsetLeft;\n        position.y = position.y + newOffset[1] + canvasOffsetTop;\n\n        if (offsetX) {\n          position.x += offsetX;\n        }\n\n        if (offsetY) {\n          position.y += offsetY;\n        }\n\n        modifyCSS(myNode, {\n          top: Math.floor(position.y) + 'px',\n          left: Math.floor(position.x) + 'px',\n          visibility: 'visible'\n        });\n        self.element = wrapperNode;\n      };\n\n      _proto.remove = function remove() {\n        var element = this.element;\n        element && element.parentNode && element.parentNode.removeChild(element);\n      };\n\n      return Html;\n    }(GuideBase);\n\n    GuideBase.Html = Html;\n\n    var Line$4 = /*#__PURE__*/function (_GuideBase) {\n      _inheritsLoose(Line, _GuideBase);\n\n      function Line() {\n        return _GuideBase.apply(this, arguments) || this;\n      }\n\n      var _proto = Line.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.type = 'line';\n        this.start = [];\n        this.end = [];\n        this.style = {\n          stroke: '#000',\n          lineWidth: 1\n        };\n      };\n\n      _proto.render = function render(coord, container) {\n        var points = [];\n        points[0] = this.parsePoint(coord, this.start);\n        points[1] = this.parsePoint(coord, this.end);\n\n        if (!points[0] || !points[1]) {\n          return;\n        }\n\n        var shape = container.addShape('Line', {\n          className: 'guide-line',\n          attrs: mix({\n            x1: points[0].x,\n            y1: points[0].y,\n            x2: points[1].x,\n            y2: points[1].y\n          }, this.style)\n        });\n        this.element = shape;\n        return shape;\n      };\n\n      return Line;\n    }(GuideBase);\n\n    GuideBase.Line = Line$4;\n\n    var Rect$2 = /*#__PURE__*/function (_GuideBase) {\n      _inheritsLoose(Rect, _GuideBase);\n\n      function Rect() {\n        return _GuideBase.apply(this, arguments) || this;\n      }\n\n      var _proto = Rect.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.type = 'rect';\n        this.start = [];\n        this.end = [];\n        this.style = {\n          fill: '#CCD7EB',\n          opacity: 0.4\n        };\n      };\n\n      _proto.render = function render(coord, container) {\n        var start = this.parsePoint(coord, this.start);\n        var end = this.parsePoint(coord, this.end);\n\n        if (!start || !end) {\n          return;\n        }\n\n        var shape = container.addShape('rect', {\n          className: 'guide-rect',\n          attrs: mix({\n            x: Math.min(start.x, end.x),\n            y: Math.min(start.y, end.y),\n            width: Math.abs(end.x - start.x),\n            height: Math.abs(start.y - end.y)\n          }, this.style)\n        });\n        this.element = shape;\n        return shape;\n      };\n\n      return Rect;\n    }(GuideBase);\n\n    GuideBase.Rect = Rect$2;\n\n    var Text$1 = /*#__PURE__*/function (_GuideBase) {\n      _inheritsLoose(Text, _GuideBase);\n\n      function Text() {\n        return _GuideBase.apply(this, arguments) || this;\n      }\n\n      var _proto = Text.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.type = 'text';\n        /**\n         * the position of text\n         * @type {Function | Array}\n         */\n\n        this.position = null;\n        /**\n         * the display content\n         * @type {String}\n         */\n\n        this.content = null;\n        /**\n         * style configuration for text\n         * @type {Object}\n         */\n\n        this.style = {\n          fill: '#000'\n        };\n        /**\n         * offset of horizontal direction\n         * @type {Number}\n         */\n\n        this.offsetX = 0;\n        /**\n         * offset of vertical direction\n         * @type {Number}\n         */\n\n        this.offsetY = 0;\n      };\n\n      _proto.render = function render(coord, container) {\n        var position = this.position;\n        var point = this.parsePoint(coord, position);\n\n        if (!point) {\n          return;\n        }\n\n        var content = this.content,\n            style = this.style,\n            offsetX = this.offsetX,\n            offsetY = this.offsetY;\n\n        if (offsetX) {\n          point.x += offsetX;\n        }\n\n        if (offsetY) {\n          point.y += offsetY;\n        }\n\n        var shape = container.addShape('text', {\n          className: 'guide-text',\n          attrs: mix({\n            x: point.x,\n            y: point.y,\n            text: content\n          }, style)\n        });\n        this.element = shape;\n        return shape;\n      };\n\n      return Text;\n    }(GuideBase);\n\n    GuideBase.Text = Text$1;\n\n    var Tag = /*#__PURE__*/function (_GuideBase) {\n      _inheritsLoose(Tag, _GuideBase);\n\n      function Tag() {\n        return _GuideBase.apply(this, arguments) || this;\n      }\n\n      var _proto = Tag.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.type = 'tag';\n        this.position = null;\n        this.content = null;\n        this.direct = 'tl';\n        this.autoAdjust = true;\n        this.offsetX = 0;\n        this.offsetY = 0;\n        this.side = 4;\n        this.background = {\n          padding: 5,\n          radius: 2,\n          fill: '#1890FF'\n        };\n        this.textStyle = {\n          fontSize: 12,\n          fill: '#fff',\n          textAlign: 'center',\n          textBaseline: 'middle'\n        };\n        this.withPoint = true;\n        this.pointStyle = {\n          fill: '#1890FF',\n          r: 3,\n          lineWidth: 1,\n          stroke: '#fff'\n        };\n      };\n\n      _proto._getDirect = function _getDirect(container, point, tagWidth, tagHeight) {\n        var direct = this.direct;\n        var side = this.side;\n        var canvas = container.get('canvas');\n        var clientWidth = canvas.get('width');\n        var clientHeight = canvas.get('height');\n        var x = point.x,\n            y = point.y;\n        var vertical = direct[0];\n        var horizontal = direct[1]; // adjust for vertical direction\n\n        if (vertical === 't' && y - side - tagHeight < 0) {\n          vertical = 'b';\n        } else if (vertical === 'b' && y + side + tagHeight > clientHeight) {\n          vertical = 't';\n        } // adjust for horizontal direction\n\n\n        var diff = vertical === 'c' ? side : 0;\n\n        if (horizontal === 'l' && x - diff - tagWidth < 0) {\n          horizontal = 'r';\n        } else if (horizontal === 'r' && x + diff + tagWidth > clientWidth) {\n          horizontal = 'l';\n        } else if (horizontal === 'c') {\n          if (tagWidth / 2 + x + diff > clientWidth) {\n            horizontal = 'l';\n          } else if (x - tagWidth / 2 - diff < 0) {\n            horizontal = 'r';\n          }\n        }\n\n        direct = vertical + horizontal;\n        return direct;\n      };\n\n      _proto.render = function render(coord, container) {\n        var position = this.parsePoint(coord, this.position);\n\n        if (!position) {\n          return;\n        } // 数据不在显示范围内时，x/y 会为NaN\n\n\n        if (isNaN(position.x) || isNaN(position.y)) {\n          return;\n        }\n\n        var content = this.content,\n            background = this.background,\n            textStyle = this.textStyle;\n        var shapes = [];\n        var wrapperContainer = container.addGroup({\n          className: 'guide-tag'\n        });\n\n        if (this.withPoint) {\n          var pointShape = wrapperContainer.addShape('Circle', {\n            className: 'guide-tag-point',\n            attrs: mix({\n              x: position.x,\n              y: position.y\n            }, this.pointStyle)\n          });\n          shapes.push(pointShape);\n        }\n\n        var tagContainer = wrapperContainer.addGroup(); // create a text shape\n\n        var tagText = tagContainer.addShape('text', {\n          className: 'guide-tag-text',\n          zIndex: 1,\n          attrs: mix({\n            x: 0,\n            y: 0,\n            text: content\n          }, textStyle)\n        });\n        shapes.push(tagText); // create background box\n\n        var textBBox = tagText.getBBox();\n        var padding = parsePadding(background.padding);\n        var tagWidth = textBBox.width + padding[1] + padding[3];\n        var tagHeight = textBBox.height + padding[0] + padding[2];\n        var yMin = textBBox.minY - padding[0];\n        var xMin = textBBox.minX - padding[3];\n        var tagBg = tagContainer.addShape('rect', {\n          className: 'guide-tag-bg',\n          zIndex: -1,\n          attrs: mix({\n            x: xMin,\n            y: yMin,\n            width: tagWidth,\n            height: tagHeight\n          }, background)\n        });\n        shapes.push(tagBg);\n        var direct = this.autoAdjust ? this._getDirect(container, position, tagWidth, tagHeight) : this.direct;\n        var side = this.side;\n        var x = position.x + this.offsetX;\n        var y = position.y + this.offsetY;\n        var arrowPoints;\n        var radius = parsePadding(background.radius);\n\n        if (direct === 'tl') {\n          arrowPoints = [{\n            x: tagWidth + xMin - side - 1,\n            y: tagHeight + yMin - 1\n          }, // 这个 1 是为了防止出现白边\n          {\n            x: tagWidth + xMin,\n            y: tagHeight + yMin - 1\n          }, {\n            x: tagWidth + xMin,\n            y: tagHeight + side + yMin\n          }];\n          radius[2] = 0;\n          x = x - tagWidth;\n          y = y - side - tagHeight;\n        } else if (direct === 'cl') {\n          arrowPoints = [{\n            x: tagWidth + xMin - 1,\n            y: (tagHeight - side) / 2 + yMin - 1\n          }, {\n            x: tagWidth + xMin - 1,\n            y: (tagHeight + side) / 2 + yMin + 1\n          }, {\n            x: tagWidth + side + xMin,\n            y: tagHeight / 2 + yMin\n          }];\n          x = x - tagWidth - side;\n          y = y - tagHeight / 2;\n        } else if (direct === 'bl') {\n          arrowPoints = [{\n            x: tagWidth + xMin,\n            y: -side + yMin\n          }, {\n            x: tagWidth + xMin - side - 1,\n            y: yMin + 1\n          }, {\n            x: tagWidth + xMin,\n            y: yMin + 1\n          }];\n          radius[1] = 0;\n          x = x - tagWidth;\n          y = y + side;\n        } else if (direct === 'bc') {\n          arrowPoints = [{\n            x: tagWidth / 2 + xMin,\n            y: -side + yMin\n          }, {\n            x: (tagWidth - side) / 2 + xMin - 1,\n            y: yMin + 1\n          }, {\n            x: (tagWidth + side) / 2 + xMin + 1,\n            y: yMin + 1\n          }];\n          x = x - tagWidth / 2;\n          y = y + side;\n        } else if (direct === 'br') {\n          arrowPoints = [{\n            x: xMin,\n            y: yMin - side\n          }, {\n            x: xMin,\n            y: yMin + 1\n          }, {\n            x: xMin + side + 1,\n            y: yMin + 1\n          }];\n          radius[0] = 0;\n          y = y + side;\n        } else if (direct === 'cr') {\n          arrowPoints = [{\n            x: xMin - side,\n            y: tagHeight / 2 + yMin\n          }, {\n            x: xMin + 1,\n            y: (tagHeight - side) / 2 + yMin - 1\n          }, {\n            x: xMin + 1,\n            y: (tagHeight + side) / 2 + yMin + 1\n          }];\n          x = x + side;\n          y = y - tagHeight / 2;\n        } else if (direct === 'tr') {\n          arrowPoints = [{\n            x: xMin,\n            y: tagHeight + side + yMin\n          }, {\n            x: xMin,\n            y: tagHeight + yMin - 1\n          }, {\n            x: side + xMin + 1,\n            y: tagHeight + yMin - 1\n          }];\n          radius[3] = 0;\n          y = y - tagHeight - side;\n        } else if (direct === 'tc') {\n          arrowPoints = [{\n            x: (tagWidth - side) / 2 + xMin - 1,\n            y: tagHeight + yMin - 1\n          }, {\n            x: (tagWidth + side) / 2 + xMin + 1,\n            y: tagHeight + yMin - 1\n          }, {\n            x: tagWidth / 2 + xMin,\n            y: tagHeight + side + yMin\n          }];\n          x = x - tagWidth / 2;\n          y = y - tagHeight - side;\n        }\n\n        var sideShape = tagContainer.addShape('Polygon', {\n          className: 'guide-tag-side',\n          zIndex: 0,\n          attrs: {\n            points: arrowPoints,\n            fill: background.fill\n          }\n        });\n        shapes.push(sideShape);\n        tagBg.attr('radius', radius);\n        tagContainer.moveTo(x - xMin, y - yMin);\n        tagContainer.sort();\n        this.element = wrapperContainer;\n        return shapes;\n      };\n\n      return Tag;\n    }(GuideBase);\n\n    GuideBase.Tag = Tag;\n\n    var Point$2 = /*#__PURE__*/function (_GuideBase) {\n      _inheritsLoose(Point, _GuideBase);\n\n      function Point() {\n        return _GuideBase.apply(this, arguments) || this;\n      }\n\n      var _proto = Point.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.type = 'point';\n        this.position = null;\n        this.offsetX = 0;\n        this.offsetY = 0;\n        this.style = {\n          fill: '#1890FF',\n          r: 3,\n          lineWidth: 1,\n          stroke: '#fff'\n        };\n      };\n\n      _proto.render = function render(coord, container) {\n        var position = this.parsePoint(coord, this.position);\n        if (!position) return null;\n        var shape = container.addShape('Circle', {\n          className: 'guide-point',\n          attrs: mix({\n            x: position.x + this.offsetX,\n            y: position.y + this.offsetY\n          }, this.style)\n        });\n        this.element = shape;\n        return shape;\n      };\n\n      return Point;\n    }(GuideBase);\n\n    GuideBase.Point = Point$2;\n\n    var SYMBOLS = {\n      circle: function circle(x, y, r, ctx) {\n        ctx.arc(x, y, r, 0, Math.PI * 2, false);\n      },\n      square: function square(x, y, r, ctx) {\n        ctx.moveTo(x - r, y - r);\n        ctx.lineTo(x + r, y - r);\n        ctx.lineTo(x + r, y + r);\n        ctx.lineTo(x - r, y + r);\n        ctx.closePath();\n      }\n    };\n\n    var Marker = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Marker, _Shape);\n\n      function Marker() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Marker.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canFill = true;\n        this._attrs.canStroke = true;\n        this._attrs.type = 'marker';\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {\n          x: 0,\n          y: 0,\n          lineWidth: 0\n        };\n      };\n\n      _proto.createPath = function createPath(context) {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            radius = attrs.radius;\n        var symbol = attrs.symbol || 'circle';\n        var method;\n\n        if (isFunction(symbol)) {\n          method = symbol;\n        } else {\n          method = SYMBOLS[symbol];\n        }\n\n        context.beginPath();\n        method(x, y, radius, context, this);\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            radius = attrs.radius;\n        return {\n          minX: x - radius,\n          minY: y - radius,\n          maxX: x + radius,\n          maxY: y + radius\n        };\n      };\n\n      return Marker;\n    }(Shape$2);\n\n    var MARKER_RADIUS = 3;\n\n    var List = /*#__PURE__*/function () {\n      var _proto = List.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        return {\n          showTitle: false,\n\n          /**\n           * title string\n           * @type {?String}\n           */\n          title: null,\n\n          /**\n           * items array\n           * @type {?Array}\n           */\n          items: null,\n\n          /**\n           * offset between title and items\n           * @type {Number}\n           */\n          titleGap: 12,\n\n          /**\n           * offset between each item\n           * @type {Number}\n           */\n          itemGap: 10,\n\n          /**\n           * the offset between each item in vertical direaction\n           * @type {Number}\n           */\n          itemMarginBottom: 12,\n\n          /**\n           * the formatter for item text\n           * @type {[type]}\n           */\n          itemFormatter: null,\n          itemWidth: null,\n\n          /**\n           * offset between marker and text\n           * @type {Number}\n           */\n          wordSpace: 6,\n          x: 0,\n          y: 0,\n          layout: 'horizontal',\n\n          /**\n           * the join string of `name` and `value`\n           * @type {String}\n           */\n          joinString: ': '\n        };\n      };\n\n      function List(cfg) {\n        deepMix(this, this.getDefaultCfg(), cfg);\n\n        this._init();\n\n        this._renderTitle();\n\n        this._renderItems();\n      }\n\n      _proto._init = function _init() {\n        var container = new Group({\n          zIndex: this.zIndex || 0\n        });\n        this.container = container;\n        var wrapper = container.addGroup();\n        this.wrapper = wrapper;\n        var itemsGroup = wrapper.addGroup({\n          className: 'itemsGroup'\n        });\n        this.itemsGroup = itemsGroup;\n\n        if (this.parent) {\n          this.parent.add(container);\n        }\n      };\n\n      _proto._renderTitle = function _renderTitle(title) {\n        title = title || this.title;\n        var titleShape = this.titleShape;\n        var titleHeight = 0;\n\n        if (this.showTitle && title) {\n          if (titleShape && !titleShape.get('destroyed')) {\n            titleShape.attr('text', title);\n          } else {\n            var wrapper = this.wrapper,\n                titleStyle = this.titleStyle;\n            titleShape = wrapper.addShape('text', {\n              className: 'title',\n              attrs: mix({\n                x: 0,\n                y: 0,\n                text: title\n              }, titleStyle)\n            });\n            this.titleShape = titleShape;\n          }\n\n          titleHeight = titleShape.getBBox().height + this.titleGap;\n        }\n\n        this._titleHeight = titleHeight;\n      };\n\n      _proto._renderItems = function _renderItems(items) {\n        var self = this;\n        items = items || self.items;\n\n        if (!items) {\n          return;\n        }\n\n        if (self.reversed) {\n          items.reverse();\n        }\n\n        each(items, function (item, index) {\n          self._addItem(item, index);\n        });\n\n        if (items.length > 1) {\n          this._adjustItems();\n        }\n\n        this._renderBackground();\n      };\n\n      _proto._renderBackground = function _renderBackground() {\n        var background = this.background;\n\n        if (background) {\n          var container = this.container;\n          var wrapper = this.wrapper;\n\n          var _wrapper$getBBox = wrapper.getBBox(),\n              minX = _wrapper$getBBox.minX,\n              minY = _wrapper$getBBox.minY,\n              width = _wrapper$getBBox.width,\n              height = _wrapper$getBBox.height;\n\n          var padding = background.padding || [0, 0, 0, 0];\n          padding = parsePadding(padding);\n          var attrs = mix({\n            x: minX - padding[3],\n            y: minY - padding[0],\n            width: width + padding[1] + padding[3],\n            height: height + padding[0] + padding[2]\n          }, background);\n          var backShape = this.backShape;\n\n          if (backShape) {\n            backShape.attr(attrs);\n          } else {\n            backShape = container.addShape('Rect', {\n              zIndex: -1,\n              attrs: attrs\n            });\n          }\n\n          this.backShape = backShape;\n          container.sort();\n        }\n      };\n\n      _proto._addItem = function _addItem(item) {\n        var itemsGroup = this.itemsGroup;\n        var itemGroup = itemsGroup.addGroup({\n          name: item.name,\n          value: item.value,\n          dataValue: item.dataValue,\n          checked: item.checked\n        });\n        var unCheckStyle = this.unCheckStyle,\n            unCheckColor = this.unCheckColor,\n            nameStyle = this.nameStyle,\n            valueStyle = this.valueStyle,\n            wordSpace = this.wordSpace;\n        var marker = item.marker,\n            value = item.value;\n        var startX = 0;\n\n        if (unCheckColor) {\n          unCheckStyle.fill = unCheckColor;\n        }\n\n        if (marker) {\n          var radius = marker.radius || MARKER_RADIUS;\n          var markerAttrs = mix({\n            x: radius,\n            y: this._titleHeight\n          }, marker);\n\n          if (item.checked === false) {\n            mix(markerAttrs, unCheckStyle);\n          }\n\n          var markerShape = new Marker({\n            className: 'item-marker',\n            attrs: markerAttrs\n          });\n          itemGroup.add(markerShape);\n          startX += markerShape.getBBox().width + wordSpace;\n        }\n\n        var nameText;\n        var name = item.name;\n\n        if (name) {\n          var joinString = this.joinString || '';\n          name = value ? name + joinString : name;\n          nameText = itemGroup.addShape('text', {\n            className: 'name',\n            attrs: mix({\n              x: startX,\n              y: this._titleHeight,\n              text: this._formatItemValue(name)\n            }, nameStyle, item.checked === false ? unCheckStyle : null)\n          });\n        }\n\n        if (value) {\n          var valueX = startX;\n\n          if (nameText) {\n            valueX += nameText.getBBox().width;\n          }\n\n          itemGroup.addShape('text', {\n            className: 'value',\n            attrs: mix({\n              x: valueX,\n              y: this._titleHeight,\n              text: value\n            }, valueStyle, item.checked === false ? unCheckStyle : null)\n          });\n        }\n\n        return itemGroup;\n      };\n\n      _proto._formatItemValue = function _formatItemValue(value) {\n        var formatter = this.itemFormatter;\n\n        if (formatter) {\n          value = formatter.call(this, value);\n        }\n\n        return value;\n      };\n\n      _proto._getMaxItemWidth = function _getMaxItemWidth() {\n        var width;\n        var itemWidth = this.itemWidth;\n\n        if (isNumber(itemWidth) || isNil(itemWidth)) {\n          return itemWidth;\n        }\n\n        if (itemWidth === 'auto') {\n          var itemsGroup = this.itemsGroup;\n          var children = itemsGroup.get('children');\n          var count = children.length;\n          var maxItemWidth = 0;\n\n          for (var i = 0; i < count; i++) {\n            var _children$i$getBBox = children[i].getBBox(),\n                _width = _children$i$getBBox.width;\n\n            maxItemWidth = Math.max(maxItemWidth, _width);\n          }\n\n          var maxLength = this.maxLength;\n          var itemGap = this.itemGap;\n          var twoAvgWidth = (maxLength - itemGap) / 2;\n          var threeAvgWidth = (maxLength - itemGap * 2) / 3;\n\n          if (count === 2) {\n            width = Math.max(maxItemWidth, twoAvgWidth);\n          } else {\n            // 1. max <= 3Avg, 3Avg\n            // 2. 3Avg < max && max < 2avg, 2avg\n            // 3. max > 2avg, max, one column\n            if (maxItemWidth <= threeAvgWidth) {\n              width = threeAvgWidth;\n            } else if (maxItemWidth <= twoAvgWidth) {\n              width = twoAvgWidth;\n            } else {\n              width = maxItemWidth;\n            }\n          }\n\n          return width;\n        }\n      };\n\n      _proto._adjustHorizontal = function _adjustHorizontal() {\n        var maxLength = this.maxLength,\n            itemsGroup = this.itemsGroup;\n        var children = itemsGroup.get('children');\n        var itemGap = this.itemGap,\n            itemMarginBottom = this.itemMarginBottom;\n        var titleHeight = this._titleHeight;\n        var row = 0;\n        var rowWidth = 0;\n        var width;\n        var height;\n\n        var itemWidth = this._getMaxItemWidth();\n\n        var legendHitBoxes = [];\n\n        for (var i = 0, len = children.length; i < len; i++) {\n          var child = children[i];\n          var box = child.getBBox();\n          var childHeight = box.height;\n          var childWidth = box.width;\n          width = itemWidth || childWidth;\n          height = childHeight + itemMarginBottom;\n\n          if (width - (maxLength - rowWidth) > 0.0001) {\n            row++;\n            rowWidth = 0;\n          }\n\n          child.moveTo(rowWidth, row * height);\n          legendHitBoxes.push({\n            x: rowWidth,\n            y: row * height + titleHeight - childHeight / 2,\n            width: childWidth * 1.375,\n            height: childHeight * 1.375\n          });\n          rowWidth += width + itemGap;\n        }\n\n        this.legendHitBoxes = legendHitBoxes;\n        return;\n      };\n\n      _proto._adjustVertical = function _adjustVertical() {\n        var maxLength = this.maxLength,\n            itemsGroup = this.itemsGroup;\n        var itemGap = this.itemGap,\n            itemMarginBottom = this.itemMarginBottom,\n            itemWidth = this.itemWidth;\n        var titleHeight = this._titleHeight;\n        var children = itemsGroup.get('children');\n        var colHeight = 0;\n        var width;\n        var height;\n        var maxItemWidth = 0;\n        var totalWidth = 0;\n        var legendHitBoxes = [];\n\n        for (var i = 0, length = children.length; i < length; i++) {\n          var child = children[i];\n          var bbox = child.getBBox();\n          width = bbox.width;\n          height = bbox.height;\n\n          if (isNumber(itemWidth)) {\n            maxItemWidth = itemWidth + itemGap;\n          } else if (width > maxItemWidth) {\n            maxItemWidth = width + itemGap;\n          }\n\n          if (maxLength - colHeight < height) {\n            colHeight = 0;\n            totalWidth += maxItemWidth;\n            child.moveTo(totalWidth, 0);\n            legendHitBoxes.push({\n              x: totalWidth,\n              y: titleHeight - height / 2,\n              width: width * 1.375,\n              height: height * 1.375\n            });\n          } else {\n            child.moveTo(totalWidth, colHeight);\n            legendHitBoxes.push({\n              x: totalWidth,\n              y: colHeight - height / 2 + titleHeight,\n              width: width * 1.375,\n              height: height * 1.375\n            });\n          }\n\n          colHeight += height + itemMarginBottom;\n        }\n\n        this.legendHitBoxes = legendHitBoxes;\n        return;\n      };\n\n      _proto._adjustItems = function _adjustItems() {\n        var layout = this.layout;\n\n        if (layout === 'horizontal') {\n          this._adjustHorizontal();\n        } else {\n          this._adjustVertical();\n        }\n      };\n\n      _proto.moveTo = function moveTo(x, y) {\n        this.x = x;\n        this.y = y;\n        var container = this.container;\n        container && container.moveTo(x, y);\n        return this;\n      };\n\n      _proto.setItems = function setItems(items) {\n        this.clearItems();\n\n        this._renderItems(items);\n      };\n\n      _proto.setTitle = function setTitle(title) {\n        this._renderTitle(title);\n      };\n\n      _proto.clearItems = function clearItems() {\n        var itemsGroup = this.itemsGroup;\n        itemsGroup.clear();\n      };\n\n      _proto.getWidth = function getWidth() {\n        var container = this.container;\n        var bbox = container.getBBox();\n        return bbox.width;\n      };\n\n      _proto.getHeight = function getHeight() {\n        var container = this.container;\n        var bbox = container.getBBox();\n        return bbox.height;\n      };\n\n      _proto.show = function show() {\n        var container = this.container;\n        container.show();\n      };\n\n      _proto.hide = function hide() {\n        var container = this.container;\n        container.hide();\n      };\n\n      _proto.clear = function clear() {\n        var container = this.container;\n        container.clear();\n        container.remove(true);\n      };\n\n      return List;\n    }();\n\n    var TextBox = /*#__PURE__*/function () {\n      var _proto = TextBox.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        return {\n          x: 0,\n          y: 0,\n          content: '',\n          textStyle: {\n            fontSize: 12,\n            fill: '#fff',\n            textAlign: 'center',\n            textBaseline: 'middle',\n            fontFamily: 'Arial'\n          },\n          background: {\n            radius: 1,\n            fill: 'rgba(0, 0, 0, 0.65)',\n            padding: [3, 5]\n          },\n          width: 0,\n          height: 0,\n          className: ''\n        };\n      };\n\n      function TextBox(cfg) {\n        deepMix(this, this.getDefaultCfg(), cfg);\n\n        this._init();\n\n        var content = this.content,\n            x = this.x,\n            y = this.y;\n\n        if (!isNil(content)) {\n          this.updateContent(content);\n        }\n\n        this.updatePosition(x, y);\n      }\n\n      _proto._init = function _init() {\n        var content = this.content,\n            textStyle = this.textStyle,\n            background = this.background,\n            className = this.className,\n            visible = this.visible,\n            context = this.context;\n        var container = new Group({\n          context: context,\n          className: className,\n          zIndex: 0,\n          visible: visible\n        });\n        var text = container.addShape('Text', {\n          className: className + '-text',\n          zIndex: 1,\n          attrs: mix({\n            text: content,\n            x: 0,\n            y: 0\n          }, textStyle)\n        });\n        var backgroundShape = container.addShape('Rect', {\n          className: className + '-bg',\n          zIndex: -1,\n          attrs: mix({\n            x: 0,\n            y: 0,\n            width: 0,\n            height: 0\n          }, background)\n        });\n        container.sort();\n        this.container = container;\n        this.textShape = text;\n        this.backgroundShape = backgroundShape;\n      };\n\n      _proto._getBBox = function _getBBox() {\n        var textShape = this.textShape;\n        var background = this.background;\n        var textBBox = textShape.getBBox();\n        var padding = parsePadding(background.padding);\n        var width = textBBox.width + padding[1] + padding[3];\n        var height = textBBox.height + padding[0] + padding[2];\n        var x = textBBox.minX - padding[3];\n        var y = textBBox.minY - padding[0];\n        return {\n          x: x,\n          y: y,\n          width: width,\n          height: height\n        };\n      };\n\n      _proto.updateContent = function updateContent(text) {\n        var textShape = this.textShape,\n            backgroundShape = this.backgroundShape;\n\n        if (!isNil(text)) {\n          if (!isObject(text)) {\n            text = {\n              text: text\n            };\n          }\n\n          textShape.attr(text); // update box shape\n\n          var _this$_getBBox = this._getBBox(),\n              x = _this$_getBBox.x,\n              y = _this$_getBBox.y,\n              tipWidth = _this$_getBBox.width,\n              tipHeight = _this$_getBBox.height;\n\n          var width = this.width || tipWidth;\n          var height = this.height || tipHeight;\n          backgroundShape.attr({\n            x: x,\n            y: y,\n            width: width,\n            height: height\n          });\n          this._width = width;\n          this._height = height;\n          this.content = text.text;\n        }\n      };\n\n      _proto.updatePosition = function updatePosition(x, y) {\n        var container = this.container;\n\n        var _this$_getBBox2 = this._getBBox(),\n            xMin = _this$_getBBox2.x,\n            yMin = _this$_getBBox2.y;\n\n        container.moveTo(x - xMin, y - yMin);\n        this.x = x - xMin;\n        this.y = y - yMin;\n      };\n\n      _proto.getWidth = function getWidth() {\n        return this._width;\n      };\n\n      _proto.getHeight = function getHeight() {\n        return this._height;\n      };\n\n      _proto.show = function show() {\n        this.container.show();\n      };\n\n      _proto.hide = function hide() {\n        this.container.hide();\n      };\n\n      _proto.clear = function clear() {\n        var container = this.container;\n        container.clear();\n        container.remove(true);\n        this.container = null;\n        this.textShape = null;\n        this.backgroundShape = null;\n      };\n\n      return TextBox;\n    }();\n\n    var GAP = 4;\n    /**\n     * TODOList：\n     * 1. 移除 fixed 参数\n     */\n\n    var Tooltip = /*#__PURE__*/function () {\n      var _proto = Tooltip.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        return {\n          /**\n           * wether show the crosshairs\n           * @type {Object}\n           */\n          showCrosshairs: false,\n\n          /**\n           * the style for crosshairs\n           * @type {Object}\n           */\n          crosshairsStyle: {\n            stroke: 'rgba(0, 0, 0, 0.25)',\n            lineWidth: 1\n          },\n\n          /**\n           * the type of crosshairs, optional value is 'x', 'y' or 'xy', default is 'y'\n           */\n          crosshairsType: 'y',\n\n          /**\n           * show or hide the x axis tip\n           */\n          showXTip: false,\n\n          /**\n           * show or hide the y axis tip\n           */\n          showYTip: false,\n          xTip: null,\n          xTipBackground: {\n            radius: 1,\n            fill: 'rgba(0, 0, 0, 0.65)',\n            padding: [3, 5]\n          },\n          xTipTextStyle: {\n            fontSize: 12,\n            fill: '#fff',\n            textAlign: 'center',\n            textBaseline: 'middle'\n          },\n          yTip: null,\n          yTipBackground: {\n            radius: 1,\n            fill: 'rgba(0, 0, 0, 0.65)',\n            padding: [3, 5]\n          },\n          yTipTextStyle: {\n            fontSize: 12,\n            fill: '#fff',\n            textAlign: 'center',\n            textBaseline: 'middle'\n          },\n\n          /**\n           * the style for tooltip container's background\n           * @type {Object}\n           */\n          background: null,\n\n          /**\n           * layout, can be horizontal or vertical\n           * @type {String}\n           */\n          layout: 'horizontal',\n          offsetX: 0,\n          offsetY: 0\n        };\n      };\n\n      function Tooltip(cfg) {\n        deepMix(this, this.getDefaultCfg(), cfg);\n        var frontPlot = this.frontPlot,\n            custom = this.custom;\n\n        if (!custom) {\n          // custom means user do customize\n          var container = new List(mix({\n            parent: frontPlot,\n            zIndex: 3\n          }, cfg));\n          this.container = container;\n          var fixed = this.fixed,\n              background = this.background;\n\n          if (!fixed) {\n            this.tooltipArrow = frontPlot.addShape('Polygon', {\n              className: 'tooltip-arrow',\n              visible: false,\n              zIndex: 2,\n              attrs: mix({\n                points: []\n              }, background)\n            });\n          }\n        }\n\n        if (this.showXTip) {\n          var xTipBackground = this.xTipBackground,\n              xTipTextStyle = this.xTipTextStyle;\n          var xTipBox = new TextBox({\n            context: frontPlot.get('context'),\n            className: 'xTip',\n            background: xTipBackground,\n            textStyle: xTipTextStyle,\n            visible: false\n          });\n          frontPlot.add(xTipBox.container);\n          this.xTipBox = xTipBox;\n        }\n\n        if (this.showYTip) {\n          var yTipBackground = this.yTipBackground,\n              yTipTextStyle = this.yTipTextStyle;\n          var yTipBox = new TextBox({\n            context: frontPlot.get('context'),\n            className: 'yTip',\n            background: yTipBackground,\n            textStyle: yTipTextStyle,\n            visible: false\n          });\n          frontPlot.add(yTipBox.container);\n          this.yTipBox = yTipBox;\n        }\n\n        if (this.showCrosshairs) {\n          this._renderCrosshairs();\n        }\n\n        frontPlot.sort();\n      }\n\n      _proto.setContent = function setContent(title, items) {\n        this.title = title;\n        this.items = items;\n\n        if (!this.custom) {\n          var container = this.container;\n          container.setTitle(title);\n          container.setItems(items);\n        }\n      };\n\n      _proto.setYTipContent = function setYTipContent(val) {\n        var yTip = this.yTip;\n\n        if (isFunction(yTip)) {\n          val = yTip(val);\n        } else {\n          val = mix({\n            text: val\n          }, yTip);\n        }\n\n        this.yTipBox && this.yTipBox.updateContent(val);\n      };\n\n      _proto.setYTipPosition = function setYTipPosition(pos) {\n        var plotRange = this.plotRange;\n        var crosshairsShapeX = this.crosshairsShapeX;\n\n        if (this.showYTip) {\n          var yTipBox = this.yTipBox;\n          var yTipHeight = yTipBox.getHeight();\n          var yTipWidth = yTipBox.getWidth();\n          var posX = plotRange.tl.x - yTipWidth;\n          var posY = pos - yTipHeight / 2;\n\n          if (posY <= plotRange.tl.y) {\n            posY = plotRange.tl.y;\n          }\n\n          if (posY + yTipHeight >= plotRange.br.y) {\n            posY = plotRange.br.y - yTipHeight;\n          }\n\n          if (posX < 0) {\n            posX = plotRange.tl.x;\n            crosshairsShapeX && crosshairsShapeX.attr('x1', plotRange.tl.x + yTipWidth);\n          }\n\n          yTipBox.updatePosition(posX, posY);\n        }\n      };\n\n      _proto.setXTipContent = function setXTipContent(val) {\n        var xTip = this.xTip;\n\n        if (isFunction(xTip)) {\n          val = xTip(val);\n        } else {\n          val = mix({\n            text: val\n          }, xTip);\n        }\n\n        this.xTipBox && this.xTipBox.updateContent(val);\n      };\n\n      _proto.setXTipPosition = function setXTipPosition(pos) {\n        var showXTip = this.showXTip,\n            canvas = this.canvas,\n            plotRange = this.plotRange,\n            xTipBox = this.xTipBox,\n            crosshairsShapeY = this.crosshairsShapeY;\n\n        if (showXTip) {\n          // const el = canvas.get('el');\n          // const canvasHeight = Util.getHeight(el);\n          var canvasHeight = canvas.get('height');\n          var xTipWidth = xTipBox.getWidth();\n          var xTipHeight = xTipBox.getHeight();\n          var posX = pos - xTipWidth / 2;\n          var posY = plotRange.br.y;\n\n          if (posX <= plotRange.tl.x) {\n            posX = plotRange.tl.x;\n          }\n\n          if (posX + xTipWidth >= plotRange.tr.x) {\n            posX = plotRange.tr.x - xTipWidth;\n          }\n\n          if (canvasHeight - posY < xTipHeight) {\n            posY -= xTipHeight;\n          }\n\n          xTipBox.updatePosition(posX, posY);\n          crosshairsShapeY && crosshairsShapeY.attr('y1', posY);\n        }\n      };\n\n      _proto.setXCrosshairPosition = function setXCrosshairPosition(pos) {\n        this.crosshairsShapeX && this.crosshairsShapeX.moveTo(0, pos);\n      };\n\n      _proto.setYCrosshairPosition = function setYCrosshairPosition(pos) {\n        this.crosshairsShapeY && this.crosshairsShapeY.moveTo(pos, 0);\n      };\n\n      _proto.setPosition = function setPosition(items) {\n        var container = this.container,\n            plotRange = this.plotRange,\n            offsetX = this.offsetX,\n            offsetY = this.offsetY,\n            fixed = this.fixed,\n            tooltipArrow = this.tooltipArrow;\n\n        if (!container) {\n          return;\n        }\n\n        var containerBBox = container.container.getBBox();\n        var minX = containerBBox.minX,\n            minY = containerBBox.minY,\n            width = containerBBox.width,\n            height = containerBBox.height;\n        var tl = plotRange.tl,\n            tr = plotRange.tr;\n        var posX = 0;\n        var posY = tl.y - height - GAP + offsetY;\n\n        if (fixed) {\n          var x = (tl.x + tr.x) / 2;\n          posX = x - width / 2 + offsetX;\n        } else {\n          var _x;\n\n          if (items.length > 1) {\n            _x = (items[0].x + items[items.length - 1].x) / 2;\n          } else {\n            _x = items[0].x;\n          }\n\n          posX = _x - width / 2 + offsetX;\n\n          if (posX < tl.x) {\n            posX = tl.x;\n          }\n\n          if (posX + width > tr.x) {\n            posX = tr.x - width;\n          }\n\n          if (tooltipArrow) {\n            tooltipArrow.attr('points', [{\n              x: _x - 3,\n              y: tl.y - GAP + offsetY\n            }, {\n              x: _x + 3,\n              y: tl.y - GAP + offsetY\n            }, {\n              x: _x,\n              y: tl.y + offsetY\n            }]);\n            var backShape = container.backShape;\n            var radius = parsePadding(backShape.attr('radius'));\n\n            if (_x === tl.x) {\n              radius[3] = 0;\n              tooltipArrow.attr('points', [{\n                x: tl.x,\n                y: tl.y + offsetY\n              }, {\n                x: tl.x,\n                y: tl.y - GAP + offsetY\n              }, {\n                x: tl.x + GAP,\n                y: tl.y - GAP + offsetY\n              }]);\n            } else if (_x === tr.x) {\n              radius[2] = 0;\n              tooltipArrow.attr('points', [{\n                x: tr.x,\n                y: tl.y + offsetY\n              }, {\n                x: tr.x - GAP,\n                y: tl.y - GAP + offsetY\n              }, {\n                x: tr.x,\n                y: tl.y - GAP + offsetY\n              }]);\n            }\n\n            backShape.attr('radius', radius);\n          }\n        }\n\n        container.moveTo(posX - minX, posY - minY);\n      };\n\n      _proto.setMarkers = function setMarkers(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        var self = this;\n        var _cfg = cfg,\n            items = _cfg.items,\n            style = _cfg.style,\n            type = _cfg.type;\n\n        var markerGroup = self._getMarkerGroup(type);\n\n        if (type === 'circle') {\n          for (var i = 0, length = items.length; i < length; i++) {\n            var item = items[i];\n            var marker = new Marker({\n              className: 'tooltip-circle-marker',\n              attrs: mix({\n                x: item.x,\n                y: item.y,\n                stroke: item.color\n              }, style)\n            });\n            markerGroup.add(marker);\n          }\n        } else {\n          markerGroup.addShape('rect', {\n            className: 'tooltip-rect-marker',\n            attrs: style\n          });\n        }\n      };\n\n      _proto.clearMarkers = function clearMarkers() {\n        var markerGroup = this.markerGroup;\n        markerGroup && markerGroup.clear();\n      };\n\n      _proto.show = function show() {\n        var crosshairsShapeX = this.crosshairsShapeX;\n        var crosshairsShapeY = this.crosshairsShapeY;\n        var markerGroup = this.markerGroup;\n        var container = this.container;\n        var tooltipArrow = this.tooltipArrow;\n        var xTipBox = this.xTipBox;\n        var yTipBox = this.yTipBox;\n        var canvas = this.canvas;\n        crosshairsShapeX && crosshairsShapeX.show();\n        crosshairsShapeY && crosshairsShapeY.show();\n        markerGroup && markerGroup.show();\n        container && container.show();\n        tooltipArrow && tooltipArrow.show();\n        xTipBox && xTipBox.show();\n        yTipBox && yTipBox.show();\n        canvas.draw();\n      };\n\n      _proto.hide = function hide() {\n        var crosshairsShapeX = this.crosshairsShapeX;\n        var crosshairsShapeY = this.crosshairsShapeY;\n        var markerGroup = this.markerGroup;\n        var container = this.container;\n        var tooltipArrow = this.tooltipArrow;\n        var xTipBox = this.xTipBox;\n        var yTipBox = this.yTipBox;\n        crosshairsShapeX && crosshairsShapeX.hide();\n        crosshairsShapeY && crosshairsShapeY.hide();\n        markerGroup && markerGroup.hide();\n        container && container.hide();\n        tooltipArrow && tooltipArrow.hide();\n        xTipBox && xTipBox.hide();\n        yTipBox && yTipBox.hide();\n      };\n\n      _proto.destroy = function destroy() {\n        var crosshairsShapeX = this.crosshairsShapeX;\n        var crosshairsShapeY = this.crosshairsShapeY;\n        var markerGroup = this.markerGroup;\n        var container = this.container;\n        var tooltipArrow = this.tooltipArrow;\n        var xTipBox = this.xTipBox;\n        var yTipBox = this.yTipBox;\n        crosshairsShapeX && crosshairsShapeX.remove(true);\n        crosshairsShapeY && crosshairsShapeY.remove(true);\n        markerGroup && markerGroup.remove(true);\n        tooltipArrow && tooltipArrow.remove(true);\n        container && container.clear();\n        xTipBox && xTipBox.clear();\n        yTipBox && yTipBox.clear();\n        this.destroyed = true;\n      };\n\n      _proto._getMarkerGroup = function _getMarkerGroup(type) {\n        var markerGroup = this.markerGroup;\n\n        if (!markerGroup) {\n          if (type === 'circle') {\n            markerGroup = this.frontPlot.addGroup({\n              zIndex: 1\n            });\n            this.frontPlot.sort();\n          } else {\n            markerGroup = this.backPlot.addGroup();\n          }\n\n          this.markerGroup = markerGroup;\n        } else {\n          markerGroup.clear();\n        }\n\n        return markerGroup;\n      };\n\n      _proto._renderCrosshairs = function _renderCrosshairs() {\n        var crosshairsType = this.crosshairsType,\n            crosshairsStyle = this.crosshairsStyle,\n            frontPlot = this.frontPlot,\n            plotRange = this.plotRange;\n        var tl = plotRange.tl,\n            br = plotRange.br;\n\n        if (directionEnabled(crosshairsType, 'x')) {\n          this.crosshairsShapeX = frontPlot.addShape('Line', {\n            className: 'tooltip-crosshairs-x',\n            zIndex: 0,\n            visible: false,\n            attrs: mix({\n              x1: tl.x,\n              y1: 0,\n              x2: br.x,\n              y2: 0\n            }, crosshairsStyle)\n          });\n        }\n\n        if (directionEnabled(crosshairsType, 'y')) {\n          this.crosshairsShapeY = frontPlot.addShape('Line', {\n            className: 'tooltip-crosshairs-y',\n            zIndex: 0,\n            visible: false,\n            attrs: mix({\n              x1: 0,\n              y1: br.y,\n              x2: 0,\n              y2: tl.y\n            }, crosshairsStyle)\n          });\n        }\n      };\n\n      return Tooltip;\n    }();\n\n    Global.tooltip = deepMix({\n      triggerOn: 'press',\n      triggerOff: 'pressend',\n      alwaysShow: false,\n      showTitle: false,\n      showCrosshairs: false,\n      crosshairsStyle: {\n        stroke: 'rgba(0, 0, 0, 0.25)',\n        lineWidth: 1\n      },\n      showTooltipMarker: true,\n      background: {\n        radius: 1,\n        fill: 'rgba(0, 0, 0, 0.65)',\n        padding: [3, 5]\n      },\n      titleStyle: {\n        fontSize: 12,\n        fill: '#fff',\n        textAlign: 'start',\n        textBaseline: 'top'\n      },\n      nameStyle: {\n        fontSize: 12,\n        fill: 'rgba(255, 255, 255, 0.65)',\n        textAlign: 'start',\n        textBaseline: 'middle'\n      },\n      valueStyle: {\n        fontSize: 12,\n        fill: '#fff',\n        textAlign: 'start',\n        textBaseline: 'middle'\n      },\n      showItemMarker: true,\n      itemMarkerStyle: {\n        radius: 3,\n        symbol: 'circle',\n        lineWidth: 1,\n        stroke: '#fff'\n      },\n      layout: 'horizontal',\n      snap: false\n    }, Global.tooltip || {});\n\n    function _getTooltipValueScale(geom) {\n      var colorAttr = geom.getAttr('color');\n\n      if (colorAttr) {\n        var colorScale = colorAttr.getScale(colorAttr.type);\n\n        if (colorScale.isLinear) {\n          return colorScale;\n        }\n      }\n\n      var xScale = geom.getXScale();\n      var yScale = geom.getYScale();\n\n      if (yScale) {\n        return yScale;\n      }\n\n      return xScale;\n    }\n\n    function getTooltipName(geom, origin) {\n      var name;\n      var nameScale;\n\n      var groupScales = geom._getGroupScales();\n\n      if (groupScales.length) {\n        each(groupScales, function (scale) {\n          nameScale = scale;\n          return false;\n        });\n      }\n\n      if (nameScale) {\n        var field = nameScale.field;\n        name = nameScale.getText(origin[field]);\n      } else {\n        var valueScale = _getTooltipValueScale(geom);\n\n        name = valueScale.alias || valueScale.field;\n      }\n\n      return name;\n    }\n\n    function getTooltipValue(geom, origin) {\n      var scale = _getTooltipValueScale(geom);\n\n      return scale.getText(origin[scale.field]);\n    }\n\n    function getTooltipTitle(geom, origin) {\n      var position = geom.getAttr('position');\n      var field = position.getFields()[0];\n      var scale = geom.get('scales')[field];\n      return scale.getText(origin[scale.field]);\n    }\n\n    function _indexOfArray(items, item) {\n      var rst = -1;\n      each(items, function (sub, index) {\n        if (sub.title === item.title && sub.name === item.name && sub.value === item.value && sub.color === item.color) {\n          rst = index;\n          return false;\n        }\n      });\n      return rst;\n    }\n\n    function _uniqItems(items) {\n      var tmp = [];\n      each(items, function (item) {\n        var index = _indexOfArray(tmp, item);\n\n        if (index === -1) {\n          tmp.push(item);\n        } else {\n          tmp[index] = item;\n        }\n      });\n      return tmp;\n    }\n\n    function isEqual$1(arr1, arr2) {\n      return JSON.stringify(arr1) === JSON.stringify(arr2);\n    }\n\n    var TooltipController = /*#__PURE__*/function () {\n      function TooltipController(cfg) {\n        var _this = this;\n\n        _defineProperty(this, \"handleShowEvent\", function (ev) {\n          var chart = _this.chart;\n          if (!_this.enable) return;\n          var plot = chart.get('plotRange');\n          var point = createEvent(ev, chart);\n\n          if (!isPointInPlot(point, plot) && !_this._tooltipCfg.alwaysShow) {\n            // not in chart plot\n            _this.hideTooltip();\n\n            return;\n          }\n\n          var lastTimeStamp = _this.timeStamp;\n          var timeStamp = +new Date();\n\n          if (timeStamp - lastTimeStamp > 16) {\n            _this.showTooltip(point);\n\n            _this.timeStamp = timeStamp;\n          }\n        });\n\n        _defineProperty(this, \"handleHideEvent\", function () {\n          if (!_this.enable) return;\n\n          _this.hideTooltip();\n        });\n\n        this.enable = true;\n        this.cfg = {};\n        this.tooltip = null;\n        this.chart = null;\n        this.timeStamp = 0;\n        mix(this, cfg);\n        var _chart = this.chart;\n\n        var canvas = _chart.get('canvas');\n\n        this.canvas = canvas;\n        this.canvasDom = canvas.get('el');\n      }\n\n      var _proto = TooltipController.prototype;\n\n      _proto._setCrosshairsCfg = function _setCrosshairsCfg() {\n        var self = this;\n        var chart = self.chart;\n        var defaultCfg = mix({}, Global.tooltip);\n        var geoms = chart.get('geoms');\n        var shapes = [];\n        each(geoms, function (geom) {\n          var type = geom.get('type');\n\n          if (shapes.indexOf(type) === -1) {\n            shapes.push(type);\n          }\n        });\n        var coordType = chart.get('coord').type;\n\n        if (geoms.length && (coordType === 'cartesian' || coordType === 'rect')) {\n          if (shapes.length === 1 && ['line', 'area', 'path', 'point'].indexOf(shapes[0]) !== -1) {\n            mix(defaultCfg, {\n              showCrosshairs: true\n            });\n          }\n        }\n\n        return defaultCfg;\n      };\n\n      _proto._getMaxLength = function _getMaxLength(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        var _cfg = cfg,\n            layout = _cfg.layout,\n            plotRange = _cfg.plotRange;\n        return layout === 'horizontal' ? plotRange.br.x - plotRange.bl.x : plotRange.bl.y - plotRange.tr.y;\n      };\n\n      _proto.render = function render() {\n        var self = this;\n\n        if (self.tooltip) {\n          return;\n        }\n\n        var chart = self.chart;\n        var canvas = chart.get('canvas');\n        var frontPlot = chart.get('frontPlot').addGroup({\n          className: 'tooltipContainer',\n          zIndex: 10\n        });\n        var backPlot = chart.get('backPlot').addGroup({\n          className: 'tooltipContainer'\n        });\n        var plotRange = chart.get('plotRange');\n        var coord = chart.get('coord');\n\n        var defaultCfg = self._setCrosshairsCfg();\n\n        var cfg = self.cfg; // 通过 chart.tooltip() 接口传入的 tooltip 配置项\n\n        var tooltipCfg = deepMix({\n          plotRange: plotRange,\n          frontPlot: frontPlot,\n          backPlot: backPlot,\n          canvas: canvas,\n          fixed: coord.transposed || coord.isPolar\n        }, defaultCfg, cfg); // 创建 tooltip 实例需要的配置，不应该修改 this.cfg，即用户传入的配置\n\n        tooltipCfg.maxLength = self._getMaxLength(tooltipCfg);\n        this._tooltipCfg = tooltipCfg;\n        var tooltip = new Tooltip(tooltipCfg);\n        self.tooltip = tooltip; // 需要保持tooltip一直显示\n\n        if (tooltipCfg.alwaysShow && self.prePoint) {\n          this.showTooltip(self.prePoint);\n        }\n\n        self.bindEvents();\n      };\n\n      _proto.clear = function clear() {\n        var tooltip = this.tooltip;\n\n        if (tooltip) {\n          tooltip.destroy();\n          this.unBindEvents();\n        }\n\n        this.tooltip = null;\n        this._lastActive = null;\n      };\n\n      _proto._getTooltipMarkerStyle = function _getTooltipMarkerStyle(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        var _cfg2 = cfg,\n            type = _cfg2.type,\n            items = _cfg2.items;\n        var tooltipCfg = this._tooltipCfg;\n\n        if (type === 'rect') {\n          var x;\n          var y;\n          var width;\n          var height;\n          var chart = this.chart;\n\n          var _chart$get = chart.get('plotRange'),\n              tl = _chart$get.tl,\n              br = _chart$get.br;\n\n          var coord = chart.get('coord');\n          var firstItem = items[0];\n          var lastItem = items[items.length - 1];\n          var intervalWidth = firstItem.width;\n\n          if (coord.transposed) {\n            x = tl.x;\n            y = lastItem.y - intervalWidth * 0.75;\n            width = br.x - tl.x;\n            height = firstItem.y - lastItem.y + 1.5 * intervalWidth;\n          } else {\n            x = firstItem.x - intervalWidth * 0.75;\n            y = tl.y;\n            width = lastItem.x - firstItem.x + 1.5 * intervalWidth;\n            height = br.y - tl.y;\n          }\n\n          cfg.style = mix({\n            x: x,\n            y: y,\n            width: width,\n            height: height,\n            fill: '#CCD6EC',\n            opacity: 0.3\n          }, tooltipCfg.tooltipMarkerStyle);\n        } else {\n          cfg.style = mix({\n            radius: 4,\n            fill: '#fff',\n            lineWidth: 2\n          }, tooltipCfg.tooltipMarkerStyle);\n        }\n\n        return cfg;\n      };\n\n      _proto._setTooltip = function _setTooltip(point, items, tooltipMarkerCfg) {\n        if (tooltipMarkerCfg === void 0) {\n          tooltipMarkerCfg = {};\n        }\n\n        this.prePoint = point;\n        var lastActive = this._lastActive;\n        var tooltip = this.tooltip;\n        var cfg = this._tooltipCfg;\n        items = _uniqItems(items);\n        var chart = this.chart;\n        var coord = chart.get('coord');\n        var yScale = chart.getYScales()[0];\n        var snap = cfg.snap;\n\n        if (snap === false && yScale.isLinear) {\n          var invertPoint = coord.invertPoint(point);\n          var plot = chart.get('plotRange');\n          var tip;\n          var pos;\n\n          if (isPointInPlot(point, plot)) {\n            if (coord.transposed) {\n              tip = yScale.invert(invertPoint.x);\n              pos = point.x;\n              tooltip.setXTipContent(tip);\n              tooltip.setXTipPosition(pos);\n              tooltip.setYCrosshairPosition(pos);\n            } else {\n              tip = yScale.invert(invertPoint.y);\n              pos = point.y;\n              tooltip.setYTipContent(tip);\n              tooltip.setYTipPosition(pos);\n              tooltip.setXCrosshairPosition(pos);\n            }\n          }\n        }\n\n        if (cfg.onShow) {\n          cfg.onShow({\n            x: point.x,\n            y: point.y,\n            tooltip: tooltip,\n            items: items,\n            tooltipMarkerCfg: tooltipMarkerCfg\n          });\n        }\n\n        if (isEqual$1(lastActive, items)) {\n          if (snap === false && (directionEnabled(cfg.crosshairsType, 'y') || cfg.showYTip)) {\n            var canvas = this.chart.get('canvas');\n            canvas.draw();\n          }\n\n          return;\n        }\n\n        this._lastActive = items;\n        var onChange = cfg.onChange;\n\n        if (onChange) {\n          onChange({\n            x: point.x,\n            y: point.y,\n            tooltip: tooltip,\n            items: items,\n            tooltipMarkerCfg: tooltipMarkerCfg\n          });\n        }\n\n        var first = items[0];\n        var title = first.title || first.name;\n        var xTipPosX = first.x;\n\n        if (items.length > 1) {\n          xTipPosX = (items[0].x + items[items.length - 1].x) / 2;\n        }\n\n        tooltip.setContent(title, items, coord.transposed);\n        tooltip.setPosition(items, point);\n\n        if (coord.transposed) {\n          var yTipPosY = first.y;\n\n          if (items.length > 1) {\n            yTipPosY = (items[0].y + items[items.length - 1].y) / 2;\n          }\n\n          tooltip.setYTipContent(title);\n          tooltip.setYTipPosition(yTipPosY);\n          tooltip.setXCrosshairPosition(yTipPosY);\n\n          if (snap) {\n            tooltip.setXTipContent(first.value);\n            tooltip.setXTipPosition(xTipPosX);\n            tooltip.setYCrosshairPosition(xTipPosX);\n          }\n        } else {\n          tooltip.setXTipContent(title);\n          tooltip.setXTipPosition(xTipPosX);\n          tooltip.setYCrosshairPosition(xTipPosX);\n\n          if (snap) {\n            tooltip.setYTipContent(first.value);\n            tooltip.setYTipPosition(first.y);\n            tooltip.setXCrosshairPosition(first.y);\n          }\n        }\n\n        var markerItems = tooltipMarkerCfg.items;\n\n        if (cfg.showTooltipMarker && markerItems.length) {\n          tooltipMarkerCfg = this._getTooltipMarkerStyle(tooltipMarkerCfg);\n          tooltip.setMarkers(tooltipMarkerCfg);\n        } else {\n          tooltip.clearMarkers();\n        }\n\n        tooltip.show();\n      };\n\n      _proto.showTooltip = function showTooltip(point) {\n        var self = this;\n        var chart = self.chart;\n        var tooltipMarkerType;\n        var tooltipMarkerItems = [];\n        var items = [];\n        var cfg = self._tooltipCfg;\n        var showItemMarker = cfg.showItemMarker,\n            itemMarkerStyle = cfg.itemMarkerStyle,\n            alwaysShow = cfg.alwaysShow;\n        var marker;\n\n        if (showItemMarker) {\n          marker = itemMarkerStyle;\n        }\n\n        var geoms = chart.get('geoms');\n        var coord = chart.get('coord');\n        each(geoms, function (geom) {\n          if (geom.get('visible')) {\n            var type = geom.get('type');\n            var records = geom.getSnapRecords(point);\n            var adjust = geom.get('adjust'); // 漏斗图和金子塔图tooltip位置有问题，暂时不开放显示\n\n            if (type === 'interval' && adjust && adjust.type === 'symmetric') {\n              return;\n            }\n\n            each(records, function (record) {\n              if (record.x && record.y) {\n                var x = record.x,\n                    y = record.y,\n                    _origin = record._origin,\n                    color = record.color;\n                var tooltipItem = {\n                  x: x,\n                  y: isArray(y) ? y[1] : y,\n                  color: color || Global.defaultColor,\n                  origin: _origin,\n                  name: getTooltipName(geom, _origin),\n                  value: getTooltipValue(geom, _origin),\n                  title: getTooltipTitle(geom, _origin)\n                };\n\n                if (marker) {\n                  tooltipItem.marker = mix({\n                    fill: color || Global.defaultColor\n                  }, marker);\n                }\n\n                items.push(tooltipItem);\n\n                if (['line', 'area', 'path'].indexOf(type) !== -1) {\n                  tooltipMarkerType = 'circle';\n                  tooltipMarkerItems.push(tooltipItem);\n                } else if (type === 'interval' && (coord.type === 'cartesian' || coord.type === 'rect')) {\n                  tooltipMarkerType = 'rect';\n                  tooltipItem.width = geom.getSize(record._origin);\n                  tooltipMarkerItems.push(tooltipItem);\n                }\n              }\n            });\n          }\n        });\n\n        if (items.length) {\n          var tooltipMarkerCfg = {\n            items: tooltipMarkerItems,\n            type: tooltipMarkerType\n          };\n\n          self._setTooltip(point, items, tooltipMarkerCfg);\n\n          return;\n        }\n\n        if (!alwaysShow) {\n          self.hideTooltip();\n        }\n      };\n\n      _proto.hideTooltip = function hideTooltip() {\n        var cfg = this._tooltipCfg;\n        this._lastActive = null;\n        var tooltip = this.tooltip;\n\n        if (tooltip) {\n          tooltip.hide();\n\n          if (cfg.onHide) {\n            cfg.onHide({\n              tooltip: tooltip\n            });\n          }\n\n          var canvas = this.chart.get('canvas');\n          canvas.draw();\n        }\n      };\n\n      _proto._handleEvent = function _handleEvent(methodName, method, action) {\n        var canvas = this.canvas;\n        each([].concat(methodName), function (aMethod) {\n          if (action === 'bind') {\n            canvas.on(aMethod, method);\n          } else {\n            canvas.off(aMethod, method);\n          }\n        });\n      };\n\n      _proto.bindEvents = function bindEvents() {\n        var cfg = this._tooltipCfg;\n        var triggerOn = cfg.triggerOn,\n            triggerOff = cfg.triggerOff,\n            alwaysShow = cfg.alwaysShow;\n        triggerOn && this._handleEvent(triggerOn, this.handleShowEvent, 'bind'); // 如果 !alwaysShow, 则在手势离开后就隐藏\n\n        if (!alwaysShow) {\n          this._handleEvent(triggerOff, this.handleHideEvent, 'bind');\n        }\n      };\n\n      _proto.unBindEvents = function unBindEvents() {\n        var cfg = this._tooltipCfg;\n        var triggerOn = cfg.triggerOn,\n            triggerOff = cfg.triggerOff,\n            alwaysShow = cfg.alwaysShow;\n        triggerOn && this._handleEvent(triggerOn, this.handleShowEvent, 'unBind');\n\n        if (!alwaysShow) {\n          this._handleEvent(triggerOff, this.handleHideEvent, 'unBind');\n        }\n      };\n\n      return TooltipController;\n    }();\n\n    function init(chart) {\n      var tooltipController = new TooltipController({\n        chart: chart\n      });\n      chart.set('tooltipController', tooltipController);\n\n      chart.tooltip = function (enable, cfg) {\n        if (isObject(enable)) {\n          cfg = enable;\n          enable = true;\n        }\n\n        tooltipController.enable = enable;\n\n        if (cfg) {\n          tooltipController.cfg = cfg;\n        }\n\n        return this;\n      };\n    }\n\n    function afterGeomDraw(chart) {\n      var tooltipController = chart.get('tooltipController');\n      tooltipController.render();\n\n      chart.showTooltip = function (point) {\n        tooltipController.showTooltip(point);\n        return this;\n      };\n\n      chart.hideTooltip = function () {\n        tooltipController.hideTooltip();\n        return this;\n      };\n    }\n\n    function clearInner(chart) {\n      var tooltipController = chart.get('tooltipController');\n      tooltipController.clear();\n    }\n    var tooltip = {\n      init: init,\n      afterGeomDraw: afterGeomDraw,\n      clearInner: clearInner\n    };\n\n    var Tooltip$1 = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init,\n        afterGeomDraw: afterGeomDraw,\n        clearInner: clearInner,\n        'default': tooltip\n    });\n\n    Global.guide = deepMix({\n      line: {\n        style: {\n          stroke: '#a3a3a3',\n          lineWidth: 1\n        },\n        top: true\n      },\n      text: {\n        style: {\n          fill: '#787878',\n          textAlign: 'center',\n          textBaseline: 'middle'\n        },\n        offsetX: 0,\n        offsetY: 0,\n        top: true\n      },\n      rect: {\n        style: {\n          fill: '#fafafa'\n        },\n        top: false\n      },\n      arc: {\n        style: {\n          stroke: '#a3a3a3'\n        },\n        top: true\n      },\n      html: {\n        offsetX: 0,\n        offsetY: 0,\n        alignX: 'center',\n        alignY: 'middle'\n      },\n      tag: {\n        top: true,\n        offsetX: 0,\n        offsetY: 0,\n        side: 4,\n        background: {\n          padding: 5,\n          radius: 2,\n          fill: '#1890FF'\n        },\n        textStyle: {\n          fontSize: 12,\n          fill: '#fff',\n          textAlign: 'center',\n          textBaseline: 'middle'\n        }\n      },\n      point: {\n        top: true,\n        offsetX: 0,\n        offsetY: 0,\n        style: {\n          fill: '#fff',\n          r: 3,\n          lineWidth: 2,\n          stroke: '#1890ff'\n        }\n      }\n    }, Global.guide || {});\n\n    var GuideController = /*#__PURE__*/function () {\n      function GuideController(cfg) {\n        this.guides = [];\n        this.xScale = null;\n        this.yScales = null;\n        this.guideShapes = [];\n        mix(this, cfg);\n      }\n\n      var _proto = GuideController.prototype;\n\n      _proto._toString = function _toString(position) {\n        if (isFunction(position)) {\n          position = position(this.xScale, this.yScales);\n        }\n\n        position = position.toString();\n        return position;\n      };\n\n      _proto._getId = function _getId(shape, guide) {\n        var id = guide.id;\n\n        if (!id) {\n          var type = guide.type;\n\n          if (type === 'arc' || type === 'line' || type === 'rect') {\n            id = this._toString(guide.start) + '-' + this._toString(guide.end);\n          } else {\n            id = this._toString(guide.position);\n          }\n        }\n\n        return id;\n      };\n\n      _proto.paint = function paint(coord) {\n        var self = this;\n        var chart = self.chart,\n            guides = self.guides,\n            xScale = self.xScale,\n            yScales = self.yScales;\n        var guideShapes = [];\n        each(guides, function (guide, idx) {\n          guide.xScale = xScale;\n          guide.yScales = yScales;\n          var container;\n\n          if (guide.type === 'regionFilter') {\n            // TODO: RegionFilter support animation\n            guide.chart = chart;\n          } else {\n            container = guide.top ? self.frontPlot : self.backPlot;\n          }\n\n          guide.coord = coord;\n          guide.container = container;\n          guide.canvas = chart.get('canvas');\n          var shape = guide.render(coord, container);\n\n          if (shape) {\n            var id = self._getId(shape, guide);\n\n            [].concat(shape).forEach(function (s) {\n              s._id = s.get('className') + '-' + id;\n              s.set('index', idx);\n              guideShapes.push(s);\n            });\n          }\n        });\n        self.guideShapes = guideShapes;\n      };\n\n      _proto.clear = function clear() {\n        this.reset();\n        this.guides = [];\n        return this;\n      };\n\n      _proto.reset = function reset() {\n        var guides = this.guides;\n        each(guides, function (guide) {\n          guide.remove();\n        });\n      };\n\n      _proto._createGuide = function _createGuide(type, cfg) {\n        var ClassName = upperFirst(type);\n        var guide = new GuideBase[ClassName](deepMix({}, Global.guide[type], cfg));\n        this.guides.push(guide);\n        return guide;\n      };\n\n      _proto.line = function line(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        return this._createGuide('line', cfg);\n      };\n\n      _proto.text = function text(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        return this._createGuide('text', cfg);\n      };\n\n      _proto.arc = function arc(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        return this._createGuide('arc', cfg);\n      };\n\n      _proto.html = function html(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        return this._createGuide('html', cfg);\n      };\n\n      _proto.rect = function rect(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        return this._createGuide('rect', cfg);\n      };\n\n      _proto.tag = function tag(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        return this._createGuide('tag', cfg);\n      };\n\n      _proto.point = function point(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        return this._createGuide('point', cfg);\n      };\n\n      _proto.regionFilter = function regionFilter(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        return this._createGuide('regionFilter', cfg);\n      };\n\n      return GuideController;\n    }();\n\n    function init$1(chart) {\n      var guideController = new GuideController({\n        frontPlot: chart.get('frontPlot').addGroup({\n          zIndex: 20,\n          className: 'guideContainer'\n        }),\n        backPlot: chart.get('backPlot').addGroup({\n          className: 'guideContainer'\n        })\n      });\n      chart.set('guideController', guideController);\n      /**\n       * 为图表添加 guide\n       * @return {GuideController} 返回 guide 控制器\n       */\n\n      chart.guide = function () {\n        return guideController;\n      };\n    }\n\n    function afterGeomDraw$1(chart) {\n      var guideController = chart.get('guideController');\n\n      if (!guideController.guides.length) {\n        return;\n      }\n\n      var xScale = chart.getXScale();\n      var yScales = chart.getYScales();\n      var coord = chart.get('coord');\n      guideController.xScale = xScale;\n      guideController.yScales = yScales;\n      guideController.chart = chart; // for regionFilter\n\n      guideController.paint(coord);\n    }\n\n    function clear(chart) {\n      chart.get('guideController').clear();\n    }\n\n    function repaint(chart) {\n      chart.get('guideController').reset();\n    }\n    var guide = {\n      init: init$1,\n      afterGeomDraw: afterGeomDraw$1,\n      clear: clear,\n      repaint: repaint\n    };\n\n    var Guide = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$1,\n        afterGeomDraw: afterGeomDraw$1,\n        clear: clear,\n        repaint: repaint,\n        'default': guide\n    });\n\n    var LEGEND_GAP = 12;\n    var MARKER_SIZE = 3;\n    var DEFAULT_CFG = {\n      itemMarginBottom: 12,\n      itemGap: 10,\n      showTitle: false,\n      titleStyle: {\n        fontSize: 12,\n        fill: '#808080',\n        textAlign: 'start',\n        textBaseline: 'top'\n      },\n      nameStyle: {\n        fill: '#808080',\n        fontSize: 12,\n        textAlign: 'start',\n        textBaseline: 'middle'\n      },\n      valueStyle: {\n        fill: '#000000',\n        fontSize: 12,\n        textAlign: 'start',\n        textBaseline: 'middle'\n      },\n      unCheckStyle: {\n        fill: '#bfbfbf'\n      },\n      itemWidth: 'auto',\n      wordSpace: 6,\n      selectedMode: 'multiple' // 'multiple' or 'single'\n\n    }; // Register the default configuration for Legend\n\n    Global.legend = deepMix({\n      common: DEFAULT_CFG,\n      // common legend configuration\n      right: mix({\n        position: 'right',\n        layout: 'vertical'\n      }, DEFAULT_CFG),\n      left: mix({\n        position: 'left',\n        layout: 'vertical'\n      }, DEFAULT_CFG),\n      top: mix({\n        position: 'top',\n        layout: 'horizontal'\n      }, DEFAULT_CFG),\n      bottom: mix({\n        position: 'bottom',\n        layout: 'horizontal'\n      }, DEFAULT_CFG)\n    }, Global.legend || {});\n\n    function getPaddingByPos(pos, appendPadding) {\n      var padding = 0;\n      appendPadding = parsePadding(appendPadding);\n\n      switch (pos) {\n        case 'top':\n          padding = appendPadding[0];\n          break;\n\n        case 'right':\n          padding = appendPadding[1];\n          break;\n\n        case 'bottom':\n          padding = appendPadding[2];\n          break;\n\n        case 'left':\n          padding = appendPadding[3];\n          break;\n      }\n\n      return padding;\n    }\n\n    var LegendController = /*#__PURE__*/function () {\n      function LegendController(cfg) {\n        var _this = this;\n\n        _defineProperty(this, \"handleEvent\", function (ev) {\n          var self = _this;\n\n          function findItem(x, y) {\n            var result = null;\n            var legends = self.legends;\n            each(legends, function (legendItems) {\n              each(legendItems, function (legend) {\n                var itemsGroup = legend.itemsGroup,\n                    legendHitBoxes = legend.legendHitBoxes;\n                var children = itemsGroup.get('children');\n\n                if (children.length) {\n                  var legendPosX = legend.x;\n                  var legendPosY = legend.y;\n                  each(legendHitBoxes, function (box, index) {\n                    if (x >= box.x + legendPosX && x <= box.x + box.width + legendPosX && y >= box.y + legendPosY && y <= box.height + box.y + legendPosY) {\n                      // inbox\n                      result = {\n                        clickedItem: children[index],\n                        clickedLegend: legend\n                      };\n                      return false;\n                    }\n                  });\n                }\n              });\n            });\n            return result;\n          }\n\n          var chart = self.chart;\n\n          var _createEvent = createEvent(ev, chart),\n              x = _createEvent.x,\n              y = _createEvent.y;\n\n          var clicked = findItem(x, y);\n\n          if (clicked && clicked.clickedLegend.clickable !== false) {\n            var clickedItem = clicked.clickedItem,\n                clickedLegend = clicked.clickedLegend;\n\n            if (clickedLegend.onClick) {\n              ev.clickedItem = clickedItem;\n              clickedLegend.onClick(ev);\n            } else if (!clickedLegend.custom) {\n              var checked = clickedItem.get('checked');\n              var value = clickedItem.get('dataValue');\n              var filteredVals = clickedLegend.filteredVals,\n                  field = clickedLegend.field,\n                  selectedMode = clickedLegend.selectedMode;\n              var isSingeSelected = selectedMode === 'single';\n\n              if (isSingeSelected) {\n                chart.filter(field, function (val) {\n                  return val === value;\n                });\n              } else {\n                if (checked) {\n                  filteredVals.push(value);\n                } else {\n                  remove(filteredVals, value);\n                }\n\n                chart.filter(field, function (val) {\n                  return filteredVals.indexOf(val) === -1;\n                });\n              }\n\n              chart.repaint();\n            }\n          }\n        });\n\n        this.legendCfg = {};\n        this.enable = true;\n        this.position = 'top';\n        mix(this, cfg);\n        var _chart = this.chart;\n        this.canvasDom = _chart.get('canvas').get('el');\n        this.clear();\n      }\n\n      var _proto = LegendController.prototype;\n\n      _proto.addLegend = function addLegend(scale, items, filteredVals) {\n        var self = this;\n        var legendCfg = self.legendCfg;\n        var field = scale.field;\n        var fieldCfg = legendCfg[field];\n\n        if (fieldCfg === false) {\n          return null;\n        }\n\n        if (fieldCfg && fieldCfg.custom) {\n          self.addCustomLegend(field);\n        } else {\n          var position = legendCfg.position || self.position;\n\n          if (fieldCfg && fieldCfg.position) {\n            position = fieldCfg.position;\n          }\n\n          if (scale.isCategory) {\n            self._addCategoryLegend(scale, items, position, filteredVals);\n          }\n        }\n      };\n\n      _proto.addCustomLegend = function addCustomLegend(field) {\n        var self = this;\n        var legendCfg = self.legendCfg;\n\n        if (field && legendCfg[field]) {\n          legendCfg = legendCfg[field];\n        }\n\n        var position = legendCfg.position || self.position;\n        var legends = self.legends;\n        legends[position] = legends[position] || [];\n        var items = legendCfg.items;\n\n        if (!items) {\n          return null;\n        }\n\n        var container = self.container;\n        each(items, function (item) {\n          if (!isPlainObject(item.marker)) {\n            item.marker = {\n              symbol: item.marker || 'circle',\n              fill: item.fill,\n              radius: MARKER_SIZE\n            };\n          } else {\n            item.marker.radius = item.marker.radius || MARKER_SIZE;\n          }\n\n          item.checked = isNil(item.checked) ? true : item.checked;\n          item.name = item.name || item.value;\n        });\n        var legend = new List(deepMix({}, Global.legend[position], legendCfg, {\n          maxLength: self._getMaxLength(position),\n          items: items,\n          parent: container\n        }));\n        legends[position].push(legend);\n      };\n\n      _proto.clear = function clear() {\n        var legends = this.legends;\n        each(legends, function (legendItems) {\n          each(legendItems, function (legend) {\n            legend.clear();\n          });\n        });\n        this.legends = {};\n        this.unBindEvents();\n      };\n\n      _proto._isFiltered = function _isFiltered(scale, values, value) {\n        var rst = false;\n        each(values, function (val) {\n          rst = rst || scale.getText(val) === scale.getText(value);\n\n          if (rst) {\n            return false;\n          }\n        });\n        return rst;\n      };\n\n      _proto._getMaxLength = function _getMaxLength(position) {\n        var chart = this.chart;\n        var appendPadding = parsePadding(chart.get('appendPadding'));\n        return position === 'right' || position === 'left' ? chart.get('height') - (appendPadding[0] + appendPadding[2]) : chart.get('width') - (appendPadding[1] + appendPadding[3]);\n      };\n\n      _proto._addCategoryLegend = function _addCategoryLegend(scale, items, position, filteredVals) {\n        var self = this;\n        var legendCfg = self.legendCfg,\n            legends = self.legends,\n            container = self.container,\n            chart = self.chart;\n        var field = scale.field;\n        legends[position] = legends[position] || [];\n        var symbol = 'circle';\n\n        if (legendCfg[field] && legendCfg[field].marker) {\n          symbol = legendCfg[field].marker;\n        } else if (legendCfg.marker) {\n          symbol = legendCfg.marker;\n        }\n\n        each(items, function (item) {\n          if (isPlainObject(symbol)) {\n            mix(item.marker, symbol);\n          } else {\n            item.marker.symbol = symbol;\n          }\n\n          if (filteredVals) {\n            item.checked = !self._isFiltered(scale, filteredVals, item.dataValue);\n          }\n        });\n        var legendItems = chart.get('legendItems');\n        legendItems[field] = items;\n        var lastCfg = deepMix({}, Global.legend[position], legendCfg[field] || legendCfg, {\n          maxLength: self._getMaxLength(position),\n          items: items,\n          field: field,\n          filteredVals: filteredVals,\n          parent: container\n        });\n\n        if (lastCfg.showTitle) {\n          deepMix(lastCfg, {\n            title: scale.alias || scale.field\n          });\n        }\n\n        var legend = new List(lastCfg);\n        legends[position].push(legend);\n        return legend;\n      };\n\n      _proto._alignLegend = function _alignLegend(legend, pre, position) {\n        var self = this;\n        var _self$plotRange = self.plotRange,\n            tl = _self$plotRange.tl,\n            bl = _self$plotRange.bl;\n        var chart = self.chart;\n        var offsetX = legend.offsetX || 0;\n        var offsetY = legend.offsetY || 0;\n        var chartWidth = chart.get('width');\n        var chartHeight = chart.get('height');\n        var appendPadding = parsePadding(chart.get('appendPadding'));\n        var legendHeight = legend.getHeight();\n        var legendWidth = legend.getWidth();\n        var x = 0;\n        var y = 0;\n\n        if (position === 'left' || position === 'right') {\n          var verticalAlign = legend.verticalAlign || 'middle';\n          var height = Math.abs(tl.y - bl.y);\n          x = position === 'left' ? appendPadding[3] : chartWidth - legendWidth - appendPadding[1];\n          y = (height - legendHeight) / 2 + tl.y;\n\n          if (verticalAlign === 'top') {\n            y = tl.y;\n          } else if (verticalAlign === 'bottom') {\n            y = bl.y - legendHeight;\n          }\n\n          if (pre) {\n            y = pre.get('y') - legendHeight - LEGEND_GAP;\n          }\n        } else {\n          var align = legend.align || 'left';\n          x = appendPadding[3];\n\n          if (align === 'center') {\n            x = chartWidth / 2 - legendWidth / 2;\n          } else if (align === 'right') {\n            x = chartWidth - (legendWidth + appendPadding[1]);\n          }\n\n          y = position === 'top' ? appendPadding[0] + Math.abs(legend.container.getBBox().minY) : chartHeight - legendHeight;\n\n          if (pre) {\n            var preWidth = pre.getWidth();\n            x = pre.x + preWidth + LEGEND_GAP;\n          }\n        }\n\n        if (position === 'bottom' && offsetY > 0) {\n          offsetY = 0;\n        }\n\n        if (position === 'right' && offsetX > 0) {\n          offsetX = 0;\n        }\n\n        legend.moveTo(x + offsetX, y + offsetY);\n      };\n\n      _proto.alignLegends = function alignLegends() {\n        var self = this;\n        var legends = self.legends;\n        each(legends, function (legendItems, position) {\n          each(legendItems, function (legend, index) {\n            var pre = legendItems[index - 1];\n\n            self._alignLegend(legend, pre, position);\n          });\n        });\n        return self;\n      };\n\n      _proto.bindEvents = function bindEvents() {\n        var legendCfg = this.legendCfg;\n        var triggerOn = legendCfg.triggerOn || 'touchstart';\n        addEventListener(this.canvasDom, triggerOn, this.handleEvent);\n      };\n\n      _proto.unBindEvents = function unBindEvents() {\n        var legendCfg = this.legendCfg;\n        var triggerOn = legendCfg.triggerOn || 'touchstart';\n        removeEventListener(this.canvasDom, triggerOn, this.handleEvent);\n      };\n\n      return LegendController;\n    }();\n\n    function init$2(chart) {\n      var legendController = new LegendController({\n        container: chart.get('backPlot'),\n        plotRange: chart.get('plotRange'),\n        chart: chart\n      });\n      chart.set('legendController', legendController);\n\n      chart.legend = function (field, cfg) {\n        var legendCfg = legendController.legendCfg;\n        legendController.enable = true;\n\n        if (isBoolean(field)) {\n          legendController.enable = field;\n          legendCfg = cfg || {};\n        } else if (isObject(field)) {\n          legendCfg = field;\n        } else {\n          legendCfg[field] = cfg;\n        }\n\n        legendController.legendCfg = legendCfg;\n        return this;\n      };\n    }\n\n    function beforeGeomDraw(chart) {\n      var legendController = chart.get('legendController');\n      if (!legendController.enable) return null; // legend is not displayed\n\n      var legendCfg = legendController.legendCfg;\n\n      if (legendCfg && legendCfg.custom) {\n        legendController.addCustomLegend();\n      } else {\n        var legendItems = chart.getLegendItems();\n        var scales = chart.get('scales');\n        var filters = chart.get('filters');\n        each(legendItems, function (items, field) {\n          var scale = scales[field];\n          var values = scale.values;\n          var filteredVals;\n\n          if (filters && filters[field]) {\n            filteredVals = values.filter(function (v) {\n              return !filters[field](v);\n            });\n          } else {\n            filteredVals = [];\n          }\n\n          legendController.addLegend(scale, items, filteredVals);\n        });\n      }\n\n      if (legendCfg && legendCfg.clickable !== false) {\n        legendController.bindEvents();\n      }\n\n      var legends = legendController.legends;\n      var legendRange = {\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0\n      };\n      each(legends, function (legendItems, position) {\n        var padding = 0;\n        each(legendItems, function (legend) {\n          var width = legend.getWidth();\n          var height = legend.getHeight();\n\n          if (position === 'top' || position === 'bottom') {\n            padding = Math.max(padding, height);\n\n            if (legend.offsetY > 0) {\n              padding += legend.offsetY;\n            }\n          } else {\n            padding = Math.max(padding, width);\n\n            if (legend.offsetX > 0) {\n              padding += legend.offsetX;\n            }\n          }\n        });\n        legendRange[position] = padding + getPaddingByPos(position, chart.get('appendPadding'));\n      });\n      chart.set('legendRange', legendRange);\n    }\n\n    function afterGeomDraw$2(chart) {\n      var legendController = chart.get('legendController');\n      legendController.alignLegends();\n    }\n\n    function clearInner$1(chart) {\n      var legendController = chart.get('legendController');\n      legendController.clear();\n      chart.set('legendRange', null);\n    }\n    var legend = {\n      init: init$2,\n      beforeGeomDraw: beforeGeomDraw,\n      afterGeomDraw: afterGeomDraw$2,\n      clearInner: clearInner$1\n    };\n\n    var Legend = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$2,\n        beforeGeomDraw: beforeGeomDraw,\n        afterGeomDraw: afterGeomDraw$2,\n        clearInner: clearInner$1,\n        'default': legend\n    });\n\n    var clock = typeof performance === 'object' && performance.now ? performance : Date;\n\n    var Timeline = /*#__PURE__*/function () {\n      function Timeline() {\n        this.anims = [];\n        this.time = null;\n        this.playing = false;\n        this.canvas = [];\n      }\n\n      var _proto = Timeline.prototype;\n\n      _proto.play = function play() {\n        var self = this;\n        self.time = clock.now();\n        self.playing = true;\n\n        function step() {\n          if (self.playing) {\n            requestAnimationFrame(step);\n            self.update();\n          }\n        }\n\n        requestAnimationFrame(step);\n      };\n\n      _proto.stop = function stop() {\n        this.playing = false;\n        this.time = null;\n        this.canvas = [];\n      };\n\n      _proto.pushAnim = function pushAnim(animInfo) {\n        this.anims.push(animInfo);\n\n        if (this.playing) {\n          return;\n        }\n\n        this.play();\n      };\n\n      _proto.update = function update() {\n        var currentTime = clock.now();\n        this.canvas = [];\n\n        if (!this.anims.length) {\n          this.stop();\n          return;\n        }\n\n        for (var i = 0; i < this.anims.length; i++) {\n          var propertyAnim = this.anims[i];\n\n          if (currentTime < propertyAnim.startTime || propertyAnim.hasEnded) {\n            continue;\n          }\n\n          var shape = propertyAnim.shape; // shape\n\n          if (shape.get('destroyed')) {\n            this.anims.splice(i, 1);\n            i--;\n            continue;\n          }\n\n          var startState = propertyAnim.startState,\n              endState = propertyAnim.endState,\n              interpolate = propertyAnim.interpolate,\n              duration = propertyAnim.duration;\n\n          if (currentTime >= propertyAnim.startTime && !propertyAnim.hasStarted) {\n            propertyAnim.hasStarted = true;\n\n            if (propertyAnim.onStart) {\n              propertyAnim.onStart();\n            }\n          }\n\n          var t = (currentTime - propertyAnim.startTime) / duration;\n          t = Math.max(0, Math.min(t, 1));\n          t = propertyAnim.easing(t);\n\n          if (propertyAnim.onFrame) {\n            propertyAnim.onFrame(t);\n          } else {\n            for (var key in interpolate) {\n              var diff = interpolate[key];\n              var value = diff(t);\n              var newValue = void 0;\n\n              if (key === 'points') {\n                newValue = [];\n                var aLen = Math.max(startState.points.length, endState.points.length);\n\n                for (var j = 0; j < aLen; j += 2) {\n                  newValue.push({\n                    x: value[j],\n                    y: value[j + 1]\n                  });\n                }\n              } else {\n                newValue = value;\n              }\n\n              shape._attrs.attrs[key] = newValue;\n              shape._attrs.bbox = null; // should clear calculated bbox\n            }\n          }\n\n          var canvas = shape.get('canvas');\n\n          if (this.canvas.indexOf(canvas) === -1) {\n            this.canvas.push(canvas);\n          }\n\n          if (propertyAnim.onUpdate) {\n            propertyAnim.onUpdate(t);\n          }\n\n          if (currentTime >= propertyAnim.endTime && !propertyAnim.hasEnded) {\n            propertyAnim.hasEnded = true;\n\n            if (propertyAnim.onEnd) {\n              propertyAnim.onEnd();\n            }\n          }\n\n          if (t === 1) {\n            // end\n            this.anims.splice(i, 1);\n            i--;\n          }\n        }\n\n        this.canvas.map(function (c) {\n          c.draw();\n          return c;\n        });\n        this.time = clock.now();\n      };\n\n      return Timeline;\n    }();\n\n    function linear$1(k) {\n      return k;\n    }\n\n    function quadraticIn(k) {\n      return k * k;\n    }\n\n    function quadraticOut(k) {\n      return k * (2 - k);\n    }\n\n    function quadraticInOut(k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k;\n      }\n\n      return -0.5 * (--k * (k - 2) - 1);\n    }\n\n    function cubicIn(k) {\n      return k * k * k;\n    }\n\n    function cubicOut(k) {\n      return --k * k * k + 1;\n    }\n\n    function cubicInOut(k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k;\n      }\n\n      return 0.5 * ((k -= 2) * k * k + 2);\n    }\n\n    function elasticIn(k) {\n      var s;\n      var a = 0.1;\n      var p = 0.4;\n      if (k === 0) return 0;\n      if (k === 1) return 1;\n\n      if (!a || a < 1) {\n        a = 1;\n        s = p / 4;\n      } else {\n        s = p / (2 * Math.PI) * Math.asin(1 / a);\n      }\n\n      return -(a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));\n    }\n\n    function elasticOut(k) {\n      var s;\n      var a = 0.1;\n      var p = 0.4;\n      if (k === 0) return 0;\n      if (k === 1) return 1;\n\n      if (!a || a < 1) {\n        a = 1;\n        s = p / 4;\n      } else {\n        s = p / (2 * Math.PI) * Math.asin(1 / a);\n      }\n\n      return a * Math.pow(2, -10 * k) * Math.sin((k - s) * (2 * Math.PI) / p) + 1;\n    }\n\n    function elasticInOut(k) {\n      var s;\n      var a = 0.1;\n      var p = 0.4;\n      if (k === 0) return 0;\n      if (k === 1) return 1;\n\n      if (!a || a < 1) {\n        a = 1;\n        s = p / 4;\n      } else {\n        s = p / (2 * Math.PI) * Math.asin(1 / a);\n      }\n\n      if ((k *= 2) < 1) {\n        return -0.5 * (a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));\n      }\n\n      return a * Math.pow(2, -10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p) * 0.5 + 1;\n    }\n\n    function backIn(k) {\n      var s = 1.70158;\n      return k * k * ((s + 1) * k - s);\n    }\n\n    function backOut(k) {\n      var s = 1.70158;\n      return (k = k - 1) * k * ((s + 1) * k + s) + 1;\n    }\n\n    function backInOut(k) {\n      var s = 1.70158 * 1.525;\n\n      if ((k *= 2) < 1) {\n        return 0.5 * (k * k * ((s + 1) * k - s));\n      }\n\n      return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n    }\n\n    function bounceIn(k) {\n      return 1 - bounceOut(1 - k);\n    }\n\n    function bounceOut(k) {\n      if ((k /= 1) < 1 / 2.75) {\n        return 7.5625 * k * k;\n      } else if (k < 2 / 2.75) {\n        return 7.5625 * (k -= 1.5 / 2.75) * k + 0.75;\n      } else if (k < 2.5 / 2.75) {\n        return 7.5625 * (k -= 2.25 / 2.75) * k + 0.9375;\n      }\n\n      return 7.5625 * (k -= 2.625 / 2.75) * k + 0.984375;\n    }\n\n    function bounceInOut(k) {\n      if (k < 0.5) {\n        return bounceIn(k * 2) * 0.5;\n      }\n\n      return bounceOut(k * 2 - 1) * 0.5 + 0.5;\n    }\n\n    var Easing = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        linear: linear$1,\n        quadraticIn: quadraticIn,\n        quadraticOut: quadraticOut,\n        quadraticInOut: quadraticInOut,\n        cubicIn: cubicIn,\n        cubicOut: cubicOut,\n        cubicInOut: cubicInOut,\n        elasticIn: elasticIn,\n        elasticOut: elasticOut,\n        elasticInOut: elasticInOut,\n        backIn: backIn,\n        backOut: backOut,\n        backInOut: backInOut,\n        bounceIn: bounceIn,\n        bounceOut: bounceOut,\n        bounceInOut: bounceInOut\n    });\n\n    function plainArray(arr) {\n      var result = [];\n\n      for (var i = 0, len = arr.length; i < len; i++) {\n        if (arr[i]) {\n          result.push(arr[i].x);\n          result.push(arr[i].y);\n        }\n      }\n\n      return result;\n    }\n\n    function interpolateNumber(a, b) {\n      a = +a;\n      b -= a;\n      return function (t) {\n        return a + b * t;\n      };\n    }\n\n    function interpolateArray(a, b) {\n      var nb = b ? b.length : 0;\n      var na = a ? Math.min(nb, a.length) : 0;\n      var x = new Array(na);\n      var c = new Array(nb);\n      var i;\n\n      for (i = 0; i < na; ++i) {\n        x[i] = interpolateNumber(a[i], b[i]);\n      }\n\n      for (; i < nb; ++i) {\n        c[i] = b[i];\n      }\n\n      return function (t) {\n        for (i = 0; i < na; ++i) {\n          c[i] = x[i](t);\n        }\n\n        return c;\n      };\n    }\n\n    var Animator = /*#__PURE__*/function () {\n      function Animator(shape, source, timeline) {\n        this.hasStarted = false;\n        this.hasEnded = false;\n        this.shape = shape;\n        this.source = source;\n        this.timeline = timeline;\n        this.animate = null;\n      } // delay, attrs, duration, easing\n\n\n      var _proto = Animator.prototype;\n\n      _proto.to = function to(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        var delay = cfg.delay || 0;\n        var attrs = cfg.attrs || {};\n        var duration = cfg.duration || 1000;\n        var easing; // 缓动函数\n\n        if (typeof cfg.easing === 'function') {\n          easing = cfg.easing;\n        } else {\n          easing = Easing[cfg.easing] || linear$1;\n        }\n\n        var animInfo = {\n          shape: this.shape,\n          startTime: this.timeline.time + delay,\n          duration: duration,\n          easing: easing\n        };\n        var interpolate = {}; // 差值函数\n\n        for (var attrName in attrs) {\n          var startValue = this.source[attrName];\n          var endValue = attrs[attrName];\n\n          if (attrName === 'points') {\n            startValue = plainArray(startValue);\n            endValue = plainArray(endValue);\n            interpolate.points = interpolateArray(startValue, endValue);\n            this.source.points = startValue;\n            attrs.points = endValue;\n          } else if (attrName === 'matrix') {\n            interpolate.matrix = interpolateArray(startValue, endValue);\n          } else {\n            interpolate[attrName] = interpolateNumber(startValue, endValue);\n          }\n        }\n\n        animInfo.interpolate = interpolate;\n        animInfo.startState = this.source;\n        animInfo.endState = attrs;\n        animInfo.endTime = animInfo.startTime + duration;\n        this.timeline.pushAnim(animInfo);\n        this.animate = animInfo;\n        return this;\n      };\n\n      _proto.onFrame = function onFrame(callback) {\n        // 自定义每一帧动画的动作\n        if (this.animate) {\n          this.animate.onFrame = function (frame) {\n            callback(frame);\n          };\n        }\n\n        return this;\n      };\n\n      _proto.onStart = function onStart(callback) {\n        if (this.animate) {\n          this.animate.onStart = function () {\n            callback();\n          };\n        }\n\n        return this;\n      };\n\n      _proto.onUpdate = function onUpdate(callback) {\n        if (this.animate) {\n          this.animate.onUpdate = function (frame) {\n            callback(frame);\n          };\n        }\n\n        return this;\n      };\n\n      _proto.onEnd = function onEnd(callback) {\n        if (this.animate) {\n          this.animate.onEnd = function () {\n            callback();\n          };\n        }\n\n        return this;\n      };\n\n      return Animator;\n    }();\n\n    var defaultAnimationCfg = {\n      appear: {\n        duration: 450,\n        easing: 'quadraticOut'\n      },\n      // 'appear' animation options\n      update: {\n        duration: 300,\n        easing: 'quadraticOut'\n      },\n      // 'update' animation options\n      enter: {\n        duration: 300,\n        easing: 'quadraticOut'\n      },\n      // 'enter' animation options\n      leave: {\n        duration: 350,\n        easing: 'quadraticIn'\n      } // 'leave' animation options\n\n    };\n    var Animate = {\n      defaultCfg: {},\n      Action: {},\n      getAnimation: function getAnimation(geomType, coord, animationType) {\n        var geomAnimateCfg = this.defaultCfg[geomType];\n\n        if (geomAnimateCfg) {\n          var animation = geomAnimateCfg[animationType];\n\n          if (isFunction(animation)) {\n            return animation(coord);\n          }\n        }\n\n        return false;\n      },\n      getAnimateCfg: function getAnimateCfg(geomType, animationType) {\n        var defaultCfg = defaultAnimationCfg[animationType];\n        var geomConfig = this.defaultCfg[geomType];\n\n        if (geomConfig && geomConfig.cfg && geomConfig.cfg[animationType]) {\n          return deepMix({}, defaultCfg, geomConfig.cfg[animationType]);\n        }\n\n        return defaultCfg;\n      },\n      registerAnimation: function registerAnimation(animationName, animationFun) {\n        var _extends2;\n\n        if (!this.Action) {\n          this.Action = {};\n        }\n\n        this.Action = _extends({}, this.Action, (_extends2 = {}, _extends2[animationName] = animationFun, _extends2));\n      }\n    };\n\n    /**\n     * Utility\n     * @author sima.zhang1990@gmail.com\n     */\n\n    function getCoordInfo(coord) {\n      var start = coord.start;\n      var end = coord.end;\n      return {\n        start: start,\n        end: end,\n        width: end.x - start.x,\n        height: Math.abs(end.y - start.y)\n      };\n    }\n\n    function getScaledMatrix(shape, v, direct) {\n      var scaledMatrix;\n      shape.apply(v);\n      var x = v[0];\n      var y = v[1];\n\n      if (direct === 'x') {\n        shape.transform([['t', x, y], ['s', 0.01, 1], ['t', -x, -y]]);\n        var matrix = shape.getMatrix();\n        scaledMatrix = Matrix.transform(matrix, [['t', x, y], ['s', 100, 1], ['t', -x, -y]]);\n      } else if (direct === 'y') {\n        shape.transform([['t', x, y], ['s', 1, 0.01], ['t', -x, -y]]);\n\n        var _matrix = shape.getMatrix();\n\n        scaledMatrix = Matrix.transform(_matrix, [['t', x, y], ['s', 1, 100], ['t', -x, -y]]);\n      } else if (direct === 'xy') {\n        shape.transform([['t', x, y], ['s', 0.01, 0.01], ['t', -x, -y]]);\n\n        var _matrix2 = shape.getMatrix();\n\n        scaledMatrix = Matrix.transform(_matrix2, [['t', x, y], ['s', 100, 100], ['t', -x, -y]]);\n      }\n\n      return scaledMatrix;\n    }\n\n    function getAnimateParam(animateCfg, index, id) {\n      var result = {};\n\n      if (animateCfg.delay) {\n        result.delay = isFunction(animateCfg.delay) ? animateCfg.delay(index, id) : animateCfg.delay;\n      }\n\n      result.easing = animateCfg.easing;\n      result.duration = animateCfg.duration;\n      result.delay = animateCfg.delay;\n      return result;\n    }\n\n    function doAnimation(shape, endState, animateCfg, callback) {\n      var id = shape._id;\n      var index = shape.get('index');\n\n      var _getAnimateParam = getAnimateParam(animateCfg, index, id),\n          easing = _getAnimateParam.easing,\n          delay = _getAnimateParam.delay,\n          duration = _getAnimateParam.duration;\n\n      var anim = shape.animate().to({\n        attrs: endState,\n        duration: duration,\n        delay: delay,\n        easing: easing\n      });\n\n      if (callback) {\n        anim.onEnd(function () {\n          callback();\n        });\n      }\n    }\n\n    /**\n     * Animation functions for shape\n     * @author sima.zhang1990@gmail.com\n     */\n    /*\n    function waveIn(shape, animateCfg, coord) {\n      const clip = Helpers.getClip(coord);\n      clip.set('canvas', shape.get('canvas'));\n      shape.attr('clip', clip);\n      const onEnd = function() {\n        shape.attr('clip', null);\n        clip.remove(true);\n      };\n      Helpers.doAnimation(clip, clip.endState, animateCfg, onEnd);\n    }\n\n    function scaleInX(shape, animateCfg) {\n      const box = shape.getBBox();\n      const points = shape.get('origin').points;\n      let x;\n      const y = (box.minY + box.maxY) / 2;\n\n      if (points[0].y - points[1].y > 0) { // 当顶点在零点之下\n        x = box.maxX;\n      } else {\n        x = box.minX;\n      }\n      const scaledMatrix = Helpers.getScaledMatrix(shape, [ x, y ], 'x');\n      Helpers.doAnimation(shape, { matrix: scaledMatrix }, animateCfg);\n    }\n\n    function scaleInY(shape, animateCfg) {\n      const box = shape.getBBox();\n      const points = shape.get('origin').points;\n      const x = (box.minX + box.maxX) / 2;\n      let y;\n\n      if (points[0].y - points[1].y <= 0) { // 当顶点在零点之下\n        y = box.maxY;\n      } else {\n        y = box.minY;\n      }\n      const scaledMatrix = Helpers.getScaledMatrix(shape, [ x, y ], 'x');\n      Helpers.doAnimation(shape, { matrix: scaledMatrix }, animateCfg);\n    }\n    */\n\n    function fadeIn(shape, animateCfg) {\n      var fillOpacity = isNil(shape.attr('fillOpacity')) ? 1 : shape.attr('fillOpacity');\n      var strokeOpacity = isNil(shape.attr('strokeOpacity')) ? 1 : shape.attr('strokeOpacity');\n      shape.attr('fillOpacity', 0);\n      shape.attr('strokeOpacity', 0);\n      var endState = {\n        fillOpacity: fillOpacity,\n        strokeOpacity: strokeOpacity\n      };\n      doAnimation(shape, endState, animateCfg);\n    }\n\n    var ShapeAction = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        fadeIn: fadeIn\n    });\n\n    /**\n     * Group animate functions\n     * @author sima.zhang1990@gmail.com\n     */\n\n    function _groupScaleIn(container, animateCfg, coord, zeroY, type) {\n      var _getCoordInfo = getCoordInfo(coord),\n          start = _getCoordInfo.start,\n          end = _getCoordInfo.end,\n          width = _getCoordInfo.width,\n          height = _getCoordInfo.height;\n\n      var x;\n      var y;\n      var clip = new Shape$2.Rect({\n        attrs: {\n          x: start.x,\n          y: end.y,\n          width: width,\n          height: height\n        }\n      });\n\n      if (type === 'y') {\n        x = start.x + width / 2;\n        y = zeroY.y < start.y ? zeroY.y : start.y;\n      } else if (type === 'x') {\n        x = zeroY.x > start.x ? zeroY.x : start.x;\n        y = start.y + height / 2;\n      } else if (type === 'xy') {\n        if (coord.isPolar) {\n          x = coord.center.x;\n          y = coord.center.y;\n        } else {\n          x = (start.x + end.x) / 2;\n          y = (start.y + end.y) / 2;\n        }\n      }\n\n      var endMatrix = getScaledMatrix(clip, [x, y], type);\n      clip.isClip = true;\n      clip.endState = {\n        matrix: endMatrix\n      };\n      clip.set('canvas', container.get('canvas'));\n      container.attr('clip', clip);\n\n      var onEnd = function onEnd() {\n        container.attr('clip', null);\n        clip.remove(true);\n      };\n\n      doAnimation(clip, clip.endState, animateCfg, onEnd);\n    }\n\n    function _shapeScale(container, animateCfg, type) {\n      var shapes = container.get('children');\n      var x;\n      var y;\n      var endMatrix;\n\n      for (var i = 0, len = shapes.length; i < len; i++) {\n        var shape = shapes[i];\n        var box = shape.getBBox();\n        x = (box.minX + box.maxX) / 2;\n        y = (box.minY + box.maxY) / 2;\n        endMatrix = getScaledMatrix(shape, [x, y], type);\n        doAnimation(shape, {\n          matrix: endMatrix\n        }, animateCfg);\n      }\n    }\n\n    function groupScaleInX(container, animateCfg, coord, zeroY) {\n      _groupScaleIn(container, animateCfg, coord, zeroY, 'x');\n    }\n\n    function groupScaleInY(container, animateCfg, coord, zeroY) {\n      _groupScaleIn(container, animateCfg, coord, zeroY, 'y');\n    }\n\n    function groupScaleInXY(container, animateCfg, coord, zeroY) {\n      _groupScaleIn(container, animateCfg, coord, zeroY, 'xy');\n    }\n\n    function shapesScaleInX(container, animateCfg) {\n      _shapeScale(container, animateCfg, 'x');\n    }\n\n    function shapesScaleInY(container, animateCfg) {\n      _shapeScale(container, animateCfg, 'y');\n    }\n\n    function shapesScaleInXY(container, animateCfg) {\n      _shapeScale(container, animateCfg, 'xy');\n    }\n\n    function groupWaveIn(container, animateCfg, coord) {\n      var clip = getClip(coord);\n      clip.set('canvas', container.get('canvas'));\n      container.attr('clip', clip);\n\n      var onEnd = function onEnd() {\n        container.attr('clip', null);\n        clip.remove(true);\n      };\n\n      var endState = {};\n\n      if (coord.isPolar) {\n        var startAngle = coord.startAngle,\n            endAngle = coord.endAngle;\n        endState.endAngle = endAngle;\n        clip.attr('endAngle', startAngle);\n      } else {\n        var start = coord.start,\n            end = coord.end;\n        var width = Math.abs(start.x - end.x);\n        var height = Math.abs(start.y - end.y);\n\n        if (coord.isTransposed) {\n          clip.attr('height', 0);\n          endState.height = height;\n        } else {\n          clip.attr('width', 0);\n          endState.width = width;\n        }\n      }\n\n      doAnimation(clip, endState, animateCfg, onEnd);\n    }\n\n    var GroupAction = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        groupWaveIn: groupWaveIn,\n        groupScaleInX: groupScaleInX,\n        groupScaleInY: groupScaleInY,\n        groupScaleInXY: groupScaleInXY,\n        shapesScaleInX: shapesScaleInX,\n        shapesScaleInY: shapesScaleInY,\n        shapesScaleInXY: shapesScaleInXY\n    });\n\n    /**\n     * Handle the detail animations\n     * @author sima.zhang1990@gmail.com\n     */\n    var timeline;\n\n    Element.prototype.animate = function () {\n      var attrs = mix({}, this.get('attrs'));\n      return new Animator(this, attrs, timeline);\n    };\n\n    Chart.prototype.animate = function (cfg) {\n      this.set('animate', cfg);\n      return this;\n    };\n\n    Animate.Action = ShapeAction;\n    Animate.defaultCfg = {\n      interval: {\n        enter: function enter(coord) {\n          if (coord.isPolar && coord.transposed) {\n            // for pie chart\n            return function (shape) {\n              shape.set('zIndex', -1);\n              var container = shape.get('parent');\n              container.sort();\n            };\n          }\n\n          return fadeIn;\n        }\n      },\n      area: {\n        enter: function enter(coord) {\n          if (coord.isPolar) return null;\n          return fadeIn;\n        }\n      },\n      line: {\n        enter: function enter(coord) {\n          if (coord.isPolar) return null;\n          return fadeIn;\n        }\n      },\n      path: {\n        enter: function enter(coord) {\n          if (coord.isPolar) return null;\n          return fadeIn;\n        }\n      }\n    };\n    var GROUP_ANIMATION = {\n      line: function line(coord) {\n        if (coord.isPolar) {\n          return groupScaleInXY;\n        }\n\n        return groupWaveIn;\n      },\n      area: function area(coord) {\n        if (coord.isPolar) {\n          return groupScaleInXY;\n        }\n\n        return groupWaveIn;\n      },\n      path: function path(coord) {\n        if (coord.isPolar) {\n          return groupScaleInXY;\n        }\n\n        return groupWaveIn;\n      },\n      point: function point() {\n        return shapesScaleInXY;\n      },\n      interval: function interval(coord) {\n        var result;\n\n        if (coord.isPolar) {\n          // polar coodinate\n          result = groupScaleInXY;\n\n          if (coord.transposed) {\n            // pie chart\n            result = groupWaveIn;\n          }\n        } else {\n          result = coord.transposed ? groupScaleInX : groupScaleInY;\n        }\n\n        return result;\n      },\n      schema: function schema() {\n        return groupWaveIn;\n      }\n    };\n\n    function diff(fromAttrs, toAttrs) {\n      var endState = {};\n\n      for (var k in toAttrs) {\n        if (isNumber(fromAttrs[k]) && fromAttrs[k] !== toAttrs[k]) {\n          endState[k] = toAttrs[k];\n        } else if (isArray(fromAttrs[k]) && JSON.stringify(fromAttrs[k]) !== JSON.stringify(toAttrs[k])) {\n          endState[k] = toAttrs[k];\n        }\n      }\n\n      return endState;\n    } // Add a unique id identifier to each shape\n\n\n    function _getShapeId(geom, dataObj, geomIdx) {\n      var type = geom.get('type');\n      var id = 'geom' + geomIdx + '-' + type;\n      var xScale = geom.getXScale();\n      var yScale = geom.getYScale();\n      var xField = xScale.field || 'x';\n      var yField = yScale.field || 'y';\n      var yVal = dataObj[yField];\n      var xVal;\n\n      if (xScale.isIdentity) {\n        xVal = xScale.value;\n      } else {\n        xVal = dataObj[xField];\n      }\n\n      if (type === 'interval' || type === 'schema') {\n        id += '-' + xVal;\n      } else if (type === 'line' || type === 'area' || type === 'path') {\n        id += '-' + type;\n      } else {\n        id += xScale.isCategory ? '-' + xVal : '-' + xVal + '-' + yVal;\n      }\n\n      var groupScales = geom._getGroupScales();\n\n      each(groupScales, function (groupScale) {\n        var field = groupScale.field;\n\n        if (groupScale.type !== 'identity') {\n          id += '-' + dataObj[field];\n        }\n      });\n      return id;\n    } // get geometry's shapes\n\n\n    function getShapes(geoms, chart, coord) {\n      var shapes = [];\n      each(geoms, function (geom, geomIdx) {\n        var geomContainer = geom.get('container');\n        var geomShapes = geomContainer.get('children');\n        var type = geom.get('type');\n        var animateCfg = isNil(geom.get('animateCfg')) ? _getAnimateCfgByShapeType(type, chart) : geom.get('animateCfg');\n\n        if (animateCfg !== false) {\n          each(geomShapes, function (shape, index) {\n            if (shape.get('className') === type) {\n              shape._id = _getShapeId(geom, shape.get('origin')._origin, geomIdx);\n              shape.set('coord', coord);\n              shape.set('animateCfg', animateCfg);\n              shape.set('index', index);\n              shapes.push(shape);\n            }\n          });\n        }\n\n        geom.set('shapes', geomShapes);\n      });\n      return shapes;\n    }\n\n    function cache(shapes) {\n      var rst = {};\n\n      for (var i = 0, len = shapes.length; i < len; i++) {\n        var shape = shapes[i];\n        if (!shape._id || shape.isClip) continue;\n        var id = shape._id;\n        rst[id] = {\n          _id: id,\n          type: shape.get('type'),\n          // the type of shape\n          attrs: mix({}, shape._attrs.attrs),\n          // the graphics attributes of shape\n          className: shape.get('className'),\n          geomType: shape.get('className'),\n          index: shape.get('index'),\n          coord: shape.get('coord'),\n          animateCfg: shape.get('animateCfg')\n        };\n      }\n\n      return rst;\n    }\n\n    function getAnimate(geomType, coord, animationType, animationName) {\n      var result;\n\n      if (isFunction(animationName)) {\n        result = animationName;\n      } else if (isString(animationName)) {\n        result = Animate.Action[animationName];\n      } else {\n        result = Animate.getAnimation(geomType, coord, animationType);\n      }\n\n      return result;\n    }\n\n    function getAnimateCfg(geomType, animationType, animateCfg) {\n      if (animateCfg === false || isObject(animateCfg) && animateCfg[animationType] === false) {\n        return false;\n      }\n\n      var defaultCfg = Animate.getAnimateCfg(geomType, animationType);\n\n      if (animateCfg && animateCfg[animationType]) {\n        return deepMix({}, defaultCfg, animateCfg[animationType]);\n      }\n\n      return defaultCfg;\n    }\n\n    function addAnimate(cache, shapes, canvas) {\n      var animate;\n      var animateCfg; // the order of animation: leave -> update -> enter\n\n      var updateShapes = [];\n      var newShapes = [];\n      each(shapes, function (shape) {\n        var result = cache[shape._id];\n\n        if (!result) {\n          newShapes.push(shape);\n        } else {\n          shape.set('cacheShape', result);\n          updateShapes.push(shape);\n          delete cache[shape._id];\n        }\n      }); // first do the leave animation\n\n      each(cache, function (deletedShape) {\n        var className = deletedShape.className,\n            coord = deletedShape.coord,\n            _id = deletedShape._id,\n            attrs = deletedShape.attrs,\n            index = deletedShape.index,\n            type = deletedShape.type;\n        animateCfg = getAnimateCfg(className, 'leave', deletedShape.animateCfg);\n        if (animateCfg === false) return true;\n        animate = getAnimate(className, coord, 'leave', animateCfg.animation);\n\n        if (isFunction(animate)) {\n          var tempShape = canvas.addShape(type, {\n            attrs: attrs,\n            index: index,\n            canvas: canvas,\n            className: className\n          });\n          tempShape._id = _id;\n          animate(tempShape, animateCfg, coord);\n        }\n      }); // then do the update animation\n\n      each(updateShapes, function (updateShape) {\n        var className = updateShape.get('className');\n        animateCfg = getAnimateCfg(className, 'update', updateShape.get('animateCfg'));\n        if (animateCfg === false) return true;\n        var coord = updateShape.get('coord');\n        var cacheAttrs = updateShape.get('cacheShape').attrs;\n        var endState = diff(cacheAttrs, updateShape._attrs.attrs); // 判断如果属性相同的话就不进行变换\n\n        if (Object.keys(endState).length) {\n          animate = getAnimate(className, coord, 'update', animateCfg.animation);\n\n          if (isFunction(animate)) {\n            animate(updateShape, animateCfg, coord);\n          } else {\n            updateShape.attr(cacheAttrs);\n            updateShape.animate().to({\n              attrs: endState,\n              duration: animateCfg.duration,\n              easing: animateCfg.easing,\n              delay: animateCfg.delay\n            }).onEnd(function () {\n              updateShape.set('cacheShape', null);\n            });\n          }\n        }\n      }); // last, enter animation\n\n      each(newShapes, function (newShape) {\n        // 新图形元素的进场元素\n        var className = newShape.get('className');\n        var coord = newShape.get('coord');\n        animateCfg = getAnimateCfg(className, 'enter', newShape.get('animateCfg'));\n        if (animateCfg === false) return true;\n        animate = getAnimate(className, coord, 'enter', animateCfg.animation);\n\n        if (isFunction(animate)) {\n          if (className === 'interval' && coord.isPolar && coord.transposed) {\n            var index = newShape.get('index');\n            var lastShape = updateShapes[index - 1];\n            animate(newShape, animateCfg, lastShape);\n          } else {\n            animate(newShape, animateCfg, coord);\n          }\n        }\n      });\n    }\n\n    function _getAnimateCfgByShapeType(type, chart) {\n      if (!type) {\n        return null;\n      }\n\n      var animateCfg = chart.get('animate');\n\n      if (type.indexOf('guide-tag') > -1) {\n        type = 'guide-tag';\n      }\n\n      if (isObject(animateCfg)) {\n        return animateCfg[type];\n      }\n\n      if (animateCfg === false) {\n        return false;\n      }\n\n      return null;\n    }\n\n    function afterCanvasInit()\n    /* chart */\n    {\n      timeline = new Timeline();\n      timeline.play();\n    }\n\n    function beforeCanvasDraw(chart) {\n      if (chart.get('animate') === false) {\n        return;\n      }\n\n      var isUpdate = chart.get('isUpdate');\n      var canvas = chart.get('canvas');\n      var coord = chart.get('coord');\n      var geoms = chart.get('geoms');\n      var caches = canvas.get('caches') || [];\n\n      if (caches.length === 0) {\n        isUpdate = false;\n      }\n\n      var cacheShapes = getShapes(geoms, chart, coord);\n\n      var _chart$get = chart.get('axisController'),\n          frontPlot = _chart$get.frontPlot,\n          backPlot = _chart$get.backPlot;\n\n      var axisShapes = frontPlot.get('children').concat(backPlot.get('children'));\n      var guideShapes = [];\n\n      if (chart.get('guideController')) {\n        guideShapes = chart.get('guideController').guideShapes;\n      }\n\n      var componentShapes = [];\n      axisShapes.concat(guideShapes).forEach(function (s) {\n        var className = s.get('className');\n\n        var animateCfg = _getAnimateCfgByShapeType(className, chart);\n\n        s.set('coord', coord);\n        s.set('animateCfg', animateCfg);\n        componentShapes.push(s);\n        cacheShapes.push(s);\n      });\n      canvas.set('caches', cache(cacheShapes));\n\n      if (isUpdate) {\n        addAnimate(caches, cacheShapes, canvas);\n      } else {\n        // do the appear animation\n        var animateCfg;\n        var animate;\n        each(geoms, function (geom) {\n          var type = geom.get('type');\n          var geomCfg = isNil(geom.get('animateCfg')) ? _getAnimateCfgByShapeType(type, chart) : geom.get('animateCfg');\n\n          if (geomCfg !== false) {\n            animateCfg = getAnimateCfg(type, 'appear', geomCfg);\n            animate = getAnimate(type, coord, 'appear', animateCfg.animation);\n\n            if (isFunction(animate)) {\n              var shapes = geom.get('shapes');\n              each(shapes, function (shape) {\n                animate(shape, animateCfg, coord);\n              });\n            } else if (GROUP_ANIMATION[type]) {\n              // do the default animation\n              animate = GroupAction[animateCfg.animation] || GROUP_ANIMATION[type](coord);\n              var yScale = geom.getYScale();\n              var zeroY = coord.convertPoint({\n                x: 0,\n                y: yScale.scale(geom.getYMinValue())\n              });\n              var container = geom.get('container');\n              animate && animate(container, animateCfg, coord, zeroY);\n            }\n          }\n        }); // do the animation of components\n\n        each(componentShapes, function (shape) {\n          var animateCfg = shape.get('animateCfg');\n          var className = shape.get('className');\n\n          if (animateCfg && animateCfg.appear) {\n            // if user configure\n            var defaultCfg = Animate.getAnimateCfg(className, 'appear');\n            var appearCfg = deepMix({}, defaultCfg, animateCfg.appear);\n\n            var _animate = getAnimate(className, coord, 'appear', appearCfg.animation);\n\n            if (isFunction(_animate)) {\n              _animate(shape, appearCfg, coord);\n            }\n          }\n        });\n      }\n    }\n\n    function afterCanvasDestroyed()\n    /* chart */\n    {\n      timeline.stop();\n    }\n    var detail = {\n      afterCanvasInit: afterCanvasInit,\n      beforeCanvasDraw: beforeCanvasDraw,\n      afterCanvasDestroyed: afterCanvasDestroyed\n    };\n\n    var Animation = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        afterCanvasInit: afterCanvasInit,\n        beforeCanvasDraw: beforeCanvasDraw,\n        afterCanvasDestroyed: afterCanvasDestroyed,\n        'default': detail\n    });\n\n    Chart._Interactions = {};\n\n    Chart.registerInteraction = function (type, constructor) {\n      Chart._Interactions[type] = constructor;\n    };\n\n    Chart.getInteraction = function (type) {\n      return Chart._Interactions[type];\n    };\n\n    Chart.prototype.interaction = function (type, cfg) {\n      var interactions = this._interactions || {};\n\n      if (interactions[type]) {\n        // if reprated, destroy last\n        interactions[type].destroy();\n      }\n\n      var Ctor = Chart.getInteraction(type);\n      var interact = new Ctor(cfg, this);\n      interactions[type] = interact;\n      this._interactions = interactions;\n      return this;\n    };\n\n    Chart.prototype.clearInteraction = function (type) {\n      var interactions = this._interactions;\n      if (!interactions) return;\n\n      if (type) {\n        interactions[type] && interactions[type].destroy();\n        delete interactions[type];\n      } else {\n        each(interactions, function (interaction, key) {\n          interaction.destroy();\n          delete interactions[key];\n        });\n      }\n\n      return this;\n    };\n\n    function isValuesEqual(values, newValues) {\n      if (values.length !== newValues.length) {\n        return false;\n      }\n\n      var lastIndex = values.length - 1;\n      return values[0] === newValues[0] && values[lastIndex] === newValues[lastIndex];\n    } // 不同交互之间共享的上下文\n\n\n    var defaultRange = [0, 1];\n\n    var Context = /*#__PURE__*/function () {\n      // 最开始的原始值\n      // 当前显示的范围\n      // 缩放最小的点数\n      // 最小的缩放比例, 默认通过minCount计算\n      // minScale = 0.01;\n      // 交互开始时，ticks个数，主要为了每次缩放后，更新ticks个数\n      // lastTickCount;\n      function Context(chart) {\n        var _this = this;\n\n        _defineProperty(this, \"chart\", null);\n\n        _defineProperty(this, \"values\", null);\n\n        _defineProperty(this, \"range\", defaultRange);\n\n        _defineProperty(this, \"startRange\", defaultRange);\n\n        _defineProperty(this, \"minCount\", 10);\n\n        _defineProperty(this, \"_afterinit\", function () {\n          // 初始化value值\n          var scale = _this.getPinchScale(); // 记录原始全量数据\n\n\n          var values = [].concat(scale.values);\n          _this.values = values; // 最小的缩放比例\n\n          if (!_this.minScale) {\n            _this.minScale = _this.minCount / values.length;\n          } // 初始化的时候有设置range，则初始化成默认比例\n\n\n          if (_this.range !== defaultRange) {\n            _this.updateRange(_this.range);\n\n            _this.updateTicks();\n          }\n        });\n\n        _defineProperty(this, \"_afterdatachange\", function () {\n          _this.updateRange(_this.range);\n        });\n\n        this.chart = chart;\n\n        this._initEvent(chart);\n      }\n\n      var _proto = Context.prototype;\n\n      _proto._initEvent = function _initEvent(chart) {\n        // 在整体初始化后还需要设置一些初始状态\n        chart.on(EVENT_AFTER_INIT, this._afterinit);\n        chart.on(EVENT_AFTER_DATA_CHANGE, this._afterdatachange);\n      } // 缩放的主轴scale\n      ;\n\n      _proto.getPinchScale = function getPinchScale() {\n        var chart = this.chart; // 默认缩放x轴\n\n        var scale = chart.getXScale();\n        return scale;\n      } // 跟随轴的scale\n      ;\n\n      _proto.getFollowScale = function getFollowScale() {\n        var chart = this.chart; // 默认缩放x轴\n\n        var scales = chart.getYScales() || [];\n        return scales[0];\n      };\n\n      _proto.start = function start() {\n        var range = this.range;\n        var scale = this.getPinchScale();\n        var start = range[0],\n            end = range[1]; // 记录交互起始的范围\n\n        this.startRange = [start, end]; // 记录开始时的ticks个数\n\n        this.lastTickCount = scale.tickCount;\n      };\n\n      _proto.doZoom = function doZoom(leftScale, rightScale, zoom) {\n        var range = this.startRange,\n            minScale = this.minScale;\n        var start = range[0],\n            end = range[1];\n        var zoomOffset = 1 - zoom;\n        var rangeLen = end - start;\n        var rangeOffset = rangeLen * zoomOffset;\n        var leftOffset = rangeOffset * leftScale;\n        var rightOffset = rangeOffset * rightScale;\n        var newStart = Math.max(0, start - leftOffset);\n        var newEnd = Math.min(1, end + rightOffset);\n        var newRange = [newStart, newEnd]; // 如果已经到了最小比例，则不能再继续再放大\n\n        if (newEnd - newStart < minScale) {\n          return;\n        }\n\n        this.updateRange(newRange);\n      };\n\n      _proto.doMove = function doMove(ratio) {\n        // 不管是0， 还是其他，都不用处理\n        if (!ratio) return;\n        var range = this.startRange;\n        var start = range[0],\n            end = range[1];\n        var rangeLen = end - start;\n        var rangeOffset = rangeLen * ratio;\n        var newStart = start - rangeOffset;\n        var newEnd = end - rangeOffset; // 处理边界值\n\n        var newRange;\n\n        if (newStart < 0) {\n          newRange = [0, rangeLen];\n        } else if (newEnd > 1) {\n          newRange = [1 - rangeLen, 1];\n        } else {\n          newRange = [newStart, newEnd];\n        }\n\n        this.updateRange(newRange);\n      };\n\n      _proto.updateRange = function updateRange(range) {\n        var values = this.values; // 0， 1 的范围之间\n\n        var start = range[0],\n            end = range[1]; // start 不能小于0\n\n        start = Math.max(0, start); // end 不能大于1\n\n        end = Math.min(1, end); // 设置当前的范围\n\n        this.range = [start, end];\n        var len = values.length;\n        var valueStart = start * len;\n        var valueEnd = end * len; // 从原始数据里截取需要显示的数据\n\n        var newValues = values.slice(valueStart, valueEnd);\n        this.repaint(newValues);\n      };\n\n      _proto.repaint = function repaint(newValues) {\n        var chart = this.chart;\n        var scale = this.getPinchScale();\n        var currentValues = scale.values,\n            ticks = scale.ticks; // 如果新数组和当前显示的数组相同，则不更新\n\n        if (isValuesEqual(currentValues, newValues)) {\n          return;\n        } // 更新主轴values\n\n\n        this.updateScale(scale, {\n          ticks: ticks,\n          values: newValues\n        });\n        this.updateFollowScale(scale, newValues);\n        chart.repaint();\n      };\n\n      _proto.updateFollowScale = function updateFollowScale(pinchScale, pinchValues) {\n        var chart = this.chart;\n        var followScale = this.getFollowScale();\n        var pinchField = pinchScale.field,\n            pinchScaleType = pinchScale.type;\n        var followField = followScale.field; // 根据主轴的value值，找到所有从轴的value值\n\n        var values = []; // 转成map，让查找性能更高\n\n        var pinchValueMap = {};\n        pinchValues.forEach(function (item) {\n          pinchValueMap[item] = true;\n        });\n        var data = chart.get('data');\n        data.forEach(function (item) {\n          if (pinchScaleType === 'timeCat') {\n            var value = toTimeStamp(item[pinchField]);\n\n            if (pinchValueMap[value]) {\n              values.push(item[followField]);\n            }\n          }\n        });\n\n        var _getRange = getRange$1(values),\n            min = _getRange.min,\n            max = _getRange.max;\n\n        this.updateScale(followScale, {\n          min: min,\n          max: max,\n          nice: true\n        });\n      };\n\n      _proto.updateScale = function updateScale(scale, cfg) {\n        if (!scale) {\n          return;\n        }\n\n        scale.change(cfg);\n      } // 上一次的tick个数\n      ;\n\n      _proto.updateTicks = function updateTicks() {\n        var chart = this.chart,\n            values = this.values;\n        var scale = this.getPinchScale();\n        var currentValues = scale.values,\n            tickCount = scale.tickCount; // 根据当前数据的比例，和定义的tickCount计算应该需要多少个ticks\n\n        var newTickCount = Math.round(tickCount * values.length / currentValues.length);\n        var catTicks = getTickMethod('cat');\n        var ticks = catTicks({\n          tickCount: newTickCount,\n          values: values\n        });\n        this.updateScale(scale, {\n          ticks: ticks,\n          values: currentValues\n        }); // 更新完后，需要重新绘制一次\n\n        chart.repaint();\n      };\n\n      _proto.destroy = function destroy() {\n        var chart = this.chart;\n        chart.off(EVENT_AFTER_INIT, this._afterinit);\n        chart.off(EVENT_AFTER_DATA_CHANGE, this._afterdatachange);\n      };\n\n      return Context;\n    }();\n\n    var Base$2 = /*#__PURE__*/function () {\n      var _proto = Base.prototype;\n\n      // 交互的上下文\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        return {};\n      };\n\n      _proto.getInteractionContext = function getInteractionContext(chart) {\n        var interactionContext = chart.get('interactionContext');\n\n        if (interactionContext) {\n          return interactionContext;\n        }\n\n        interactionContext = new Context(chart);\n        chart.set('interactionContext', interactionContext);\n        return interactionContext;\n      };\n\n      function Base(cfg, chart) {\n        var _this = this;\n\n        _defineProperty(this, \"type\", '');\n\n        _defineProperty(this, \"startEvent\", 'touchstart');\n\n        _defineProperty(this, \"processEvent\", 'touchmove');\n\n        _defineProperty(this, \"endEvent\", 'touchend');\n\n        _defineProperty(this, \"resetEvent\", null);\n\n        _defineProperty(this, \"context\", null);\n\n        _defineProperty(this, \"_start\", function (ev) {\n          _this.preStart && _this.preStart(ev);\n\n          _this.start(ev);\n\n          _this.onStart && _this.onStart(ev);\n        });\n\n        _defineProperty(this, \"_process\", function (ev) {\n          _this.preProcess && _this.preProcess(ev);\n\n          _this.process(ev);\n\n          _this.onProcess && _this.onProcess(ev);\n        });\n\n        _defineProperty(this, \"_end\", function (ev) {\n          _this.preEnd && _this.preEnd(ev);\n\n          _this.end(ev);\n\n          _this.onEnd && _this.onEnd(ev);\n        });\n\n        _defineProperty(this, \"_reset\", function (ev) {\n          _this.preReset && _this.preReset(ev);\n\n          _this.reset(ev);\n\n          _this.onReset && _this.onReset(ev);\n        });\n\n        mix(this, this.getDefaultCfg(), cfg);\n        this.context = this.getInteractionContext(chart);\n        this.chart = chart; // 只处理range, 暂时先这么处理后面再看情况调整\n\n        var range = this.range;\n\n        if (range) {\n          this.context.range = range;\n        }\n\n        this._bindEvents(chart);\n      }\n\n      _proto._bindEvents = function _bindEvents(chart) {\n        var startEvent = this.startEvent,\n            processEvent = this.processEvent,\n            endEvent = this.endEvent,\n            resetEvent = this.resetEvent;\n        var canvas = chart.get('canvas'); // 统一绑定事件\n\n        canvas.on(startEvent, this._start);\n        canvas.on(processEvent, this._process);\n        canvas.on(endEvent, this._end);\n        canvas.on(resetEvent, this._reset);\n      };\n\n      _proto._clearEvents = function _clearEvents() {\n        var chart = this.chart,\n            startEvent = this.startEvent,\n            processEvent = this.processEvent,\n            endEvent = this.endEvent,\n            resetEvent = this.resetEvent;\n        var canvas = chart.get('canvas'); // 统一绑定事件\n\n        canvas.off(startEvent, this._start);\n        canvas.off(processEvent, this._process);\n        canvas.off(endEvent, this._end);\n        canvas.off(resetEvent, this._start);\n      };\n\n      // override\n      _proto.start = function start() {} // override\n      ;\n\n      _proto.process = function process() {} // override\n      ;\n\n      _proto.end = function end() {} // override\n      ;\n\n      _proto.reset = function reset() {};\n\n      _proto.destroy = function destroy() {\n        this.context.destroy();\n\n        this._clearEvents();\n      };\n\n      return Base;\n    }();\n\n    var Pan = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Pan, _Base);\n\n      function Pan() {\n        return _Base.apply(this, arguments) || this;\n      }\n\n      var _proto = Pan.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        return {\n          type: 'pan',\n          startEvent: 'panstart',\n          processEvent: 'pan',\n          endEvent: 'panend'\n        };\n      };\n\n      _proto.start = function start() {\n        var context = this.context;\n        context.start();\n      };\n\n      _proto.process = function process(e) {\n        var direction = e.direction,\n            deltaX = e.deltaX;\n\n        if (direction === 'up' || direction === 'down') {\n          return;\n        }\n\n        e.preventDefault && e.preventDefault();\n        var context = this.context;\n        var chart = context.chart;\n        var coord = chart.get('coord');\n        var start = coord.start,\n            end = coord.end;\n        var coordWidth = end.x - start.x;\n        var ratio = deltaX / coordWidth;\n        context.doMove(ratio);\n      };\n\n      return Pan;\n    }(Base$2);\n\n    var Pinch = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Pinch, _Base);\n\n      var _proto = Pinch.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        return {\n          type: 'pinch',\n          startEvent: 'pinchstart',\n          processEvent: 'pinch',\n          endEvent: 'pinchend'\n        };\n      };\n\n      function Pinch(cfg, chart) {\n        var _this;\n\n        _this = _Base.call(this, cfg, chart) || this;\n\n        var _assertThisInitialize = _assertThisInitialized(_this),\n            context = _assertThisInitialize.context;\n\n        mix(context, cfg);\n        return _this;\n      }\n\n      _proto.start = function start() {\n        var context = this.context;\n        context.start();\n      };\n\n      _proto.process = function process(e) {\n        e.preventDefault && e.preventDefault();\n        var zoom = e.zoom,\n            center = e.center;\n        var context = this.context;\n        var chart = context.chart;\n        var coord = chart.get('coord');\n        var start = coord.start,\n            end = coord.end;\n        var coordWidth = end.x - start.x;\n        var leftLen = Math.abs(center.x - start.x);\n        var rightLen = Math.abs(end.x - center.x); // 计算左右缩放的比例\n\n        var leftScale = leftLen / coordWidth;\n        var rightScale = rightLen / coordWidth;\n        context.doZoom(leftScale, rightScale, zoom);\n      };\n\n      _proto.end = function end() {\n        // 缩放完成后再更新ticks\n        var context = this.context;\n        context.updateTicks();\n      };\n\n      return Pinch;\n    }(Base$2);\n\n    Chart.registerInteraction('pan', Pan);\n    Chart.registerInteraction('pinch', Pinch);\n\n    /**\n     * Default, without interactins\n     */\n    var Component = {\n      Marker: Marker\n    }; // register plugins\n\n    Chart.plugins.register([Tooltip$1, Legend, Guide, Animation]); // 默认添加交互\n    var index = {\n      Component: Component,\n      Global: Global,\n      Chart: Chart,\n      Shape: Shape$1,\n      G: G,\n      Util: Util,\n      Helper: Helper,\n      track: track,\n      Animate: Animate\n    };\n\n    exports.Animate = Animate;\n    exports.Chart = Chart;\n    exports.Component = Component;\n    exports.G = G;\n    exports.Global = Global;\n    exports.Helper = Helper;\n    exports.Shape = Shape$1;\n    exports.Util = Util;\n    exports.default = index;\n    exports.track = track;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetOwnPropertyDescriptor(1); });\nvar FORCED = !DESCRIPTORS || FAILS_ON_PRIMITIVES;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\n$({ target: 'Object', stat: true, forced: FORCED, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n    return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);\n  }\n});\n"],"sourceRoot":""}